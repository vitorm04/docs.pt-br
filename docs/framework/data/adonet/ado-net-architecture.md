---
title: Arquitetura do ADO.NET
ms.date: 03/30/2017
ms.assetid: fcd45b99-ae8f-45ab-8b97-d887beda734e
ms.openlocfilehash: 4c2299951202794112ea66c1f20025777c68e356
ms.sourcegitcommit: a885cc8c3e444ca6471348893d5373c6e9e49a47
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/06/2018
ms.locfileid: "43870309"
---
# <a name="adonet-architecture"></a><span data-ttu-id="a8413-102">Arquitetura do ADO.NET</span><span class="sxs-lookup"><span data-stu-id="a8413-102">ADO.NET Architecture</span></span>
<span data-ttu-id="a8413-103">Antigamente, o processamento de dados dependia basicamente de um modelo de duas camadas baseado em conexão.</span><span class="sxs-lookup"><span data-stu-id="a8413-103">Data processing has traditionally relied primarily on a connection-based, two-tier model.</span></span> <span data-ttu-id="a8413-104">Como o processamento de dados usa cada vez mais arquiteturas de várias camadas, os programadores estão adotando uma abordagem desconectada para fornecer melhor escalabilidade a seus aplicativos.</span><span class="sxs-lookup"><span data-stu-id="a8413-104">As data processing increasingly uses multi-tier architectures, programmers are switching to a disconnected approach to provide better scalability for their applications.</span></span>  
  
## <a name="adonet-components"></a><span data-ttu-id="a8413-105">Componentes do ADO.NET</span><span class="sxs-lookup"><span data-stu-id="a8413-105">ADO.NET Components</span></span>  
 <span data-ttu-id="a8413-106">Os dois componentes principais do [!INCLUDE[ado_orcas_long](../../../../includes/ado-orcas-long-md.md)] para acessar e manipular dados são os provedores de dados do [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] e o <xref:System.Data.DataSet>.</span><span class="sxs-lookup"><span data-stu-id="a8413-106">The two main components of [!INCLUDE[ado_orcas_long](../../../../includes/ado-orcas-long-md.md)] for accessing and manipulating data are the [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] data providers and the <xref:System.Data.DataSet>.</span></span>  
  
### <a name="net-framework-data-providers"></a><span data-ttu-id="a8413-107">Provedores de dados .NET Framework</span><span class="sxs-lookup"><span data-stu-id="a8413-107">.NET Framework Data Providers</span></span>  
 <span data-ttu-id="a8413-108">Os Provedores de Dados .NET Framework são componentes que foram criados explicitamente para manipulação de dados, e o rápido acesso a dados apenas de encaminhamento e somente leitura.</span><span class="sxs-lookup"><span data-stu-id="a8413-108">The .NET Framework Data Providers are components that have been explicitly designed for data manipulation and fast, forward-only, read-only access to data.</span></span> <span data-ttu-id="a8413-109">O objeto `Connection` fornece conectividade a uma fonte de dados.</span><span class="sxs-lookup"><span data-stu-id="a8413-109">The `Connection` object provides connectivity to a data source.</span></span> <span data-ttu-id="a8413-110">O objeto `Command` permite o acesso aos comandos de banco de dados para retornar dados, modificar dados, executar procedimentos armazenados, e enviar ou recuperar informações de parâmetro.</span><span class="sxs-lookup"><span data-stu-id="a8413-110">The `Command` object enables access to database commands to return data, modify data, run stored procedures, and send or retrieve parameter information.</span></span> <span data-ttu-id="a8413-111">O `DataReader` fornece um fluxo de dados de alto desempenho da fonte de dados.</span><span class="sxs-lookup"><span data-stu-id="a8413-111">The `DataReader` provides a high-performance stream of data from the data source.</span></span> <span data-ttu-id="a8413-112">Por fim, o `DataAdapter` faz a ponte entre o objeto `DataSet` e a fonte de dados.</span><span class="sxs-lookup"><span data-stu-id="a8413-112">Finally, the `DataAdapter` provides the bridge between the `DataSet` object and the data source.</span></span> <span data-ttu-id="a8413-113">O `DataAdapter` usa os objetos `Command` para executar comandos SQL na fonte de dados a fim de carregar o `DataSet` com dados e reconciliar as alterações que foram feitas nos dados no `DataSet` com a fonte de dados.</span><span class="sxs-lookup"><span data-stu-id="a8413-113">The `DataAdapter` uses `Command` objects to execute SQL commands at the data source to both load the `DataSet` with data and reconcile changes that were made to the data in the `DataSet` back to the data source.</span></span> <span data-ttu-id="a8413-114">Para obter mais informações, consulte [provedores de dados do .NET Framework](../../../../docs/framework/data/adonet/data-providers.md) e [recuperando e modificando dados no ADO.NET](../../../../docs/framework/data/adonet/retrieving-and-modifying-data.md).</span><span class="sxs-lookup"><span data-stu-id="a8413-114">For more information, see [.NET Framework Data Providers](../../../../docs/framework/data/adonet/data-providers.md) and [Retrieving and Modifying Data in ADO.NET](../../../../docs/framework/data/adonet/retrieving-and-modifying-data.md).</span></span>  
  
### <a name="the-dataset"></a><span data-ttu-id="a8413-115">O DataSet</span><span class="sxs-lookup"><span data-stu-id="a8413-115">The DataSet</span></span>  
 <span data-ttu-id="a8413-116">O `DataSet` do ADO.NET é criado explicitamente para o acesso independente aos dados de qualquer fonte de dados.</span><span class="sxs-lookup"><span data-stu-id="a8413-116">The ADO.NET `DataSet` is explicitly designed for data access independent of any data source.</span></span> <span data-ttu-id="a8413-117">Consequentemente, ele pode ser usado com várias fontes de dados diferentes, usado com dados XML ou usado para gerenciar o local dos dados no aplicativo.</span><span class="sxs-lookup"><span data-stu-id="a8413-117">As a result, it can be used with multiple and differing data sources, used with XML data, or used to manage data local to the application.</span></span> <span data-ttu-id="a8413-118">O `DataSet` contém uma coleção de um ou mais objetos <xref:System.Data.DataTable> que consiste em linhas e em colunas de dados, e também em chave primária, chave estrangeira, restrição e informações de relação sobre os dados nos objetos `DataTable`.</span><span class="sxs-lookup"><span data-stu-id="a8413-118">The `DataSet` contains a collection of one or more <xref:System.Data.DataTable> objects consisting of rows and columns of data, and also primary key, foreign key, constraint, and relation information about the data in the `DataTable` objects.</span></span> <span data-ttu-id="a8413-119">Para obter mais informações, consulte [DataSets, DataTables e DataViews](../../../../docs/framework/data/adonet/dataset-datatable-dataview/index.md).</span><span class="sxs-lookup"><span data-stu-id="a8413-119">For more information, see [DataSets, DataTables, and DataViews](../../../../docs/framework/data/adonet/dataset-datatable-dataview/index.md).</span></span>  
  
 <span data-ttu-id="a8413-120">O diagrama a seguir ilustra a relação entre um provedor de dados do [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] e um `DataSet`.</span><span class="sxs-lookup"><span data-stu-id="a8413-120">The following diagram illustrates the relationship between a [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] data provider and a `DataSet`.</span></span>  
  
 <span data-ttu-id="a8413-121">![ADO.Net graphic](../../../../docs/framework/data/adonet/media/ado-1-bpuedev11.png "ado_1_bpuedev11")</span><span class="sxs-lookup"><span data-stu-id="a8413-121">![ADO.Net graphic](../../../../docs/framework/data/adonet/media/ado-1-bpuedev11.png "ado_1_bpuedev11")</span></span>  
<span data-ttu-id="a8413-122">Arquitetura do ADO.NET</span><span class="sxs-lookup"><span data-stu-id="a8413-122">ADO.NET architecture</span></span>  
  
### <a name="choosing-a-datareader-or-a-dataset"></a><span data-ttu-id="a8413-123">Escolhendo um DataReader ou um DataSet</span><span class="sxs-lookup"><span data-stu-id="a8413-123">Choosing a DataReader or a DataSet</span></span>  
 <span data-ttu-id="a8413-124">Quando você decidir se seu aplicativo deve usar um `DataReader` (consulte [recuperando dados usando um DataReader](../../../../docs/framework/data/adonet/retrieving-data-using-a-datareader.md)) ou uma `DataSet` (consulte [DataSets, DataTables e DataViews](../../../../docs/framework/data/adonet/dataset-datatable-dataview/index.md)), considere o tipo de funcionalidade de que seu aplicativo requer.</span><span class="sxs-lookup"><span data-stu-id="a8413-124">When you decide whether your application should use a `DataReader` (see [Retrieving Data Using a DataReader](../../../../docs/framework/data/adonet/retrieving-data-using-a-datareader.md)) or a `DataSet` (see [DataSets, DataTables, and DataViews](../../../../docs/framework/data/adonet/dataset-datatable-dataview/index.md)), consider the type of functionality that your application requires.</span></span> <span data-ttu-id="a8413-125">Use um `DataSet` para fazer o seguinte:</span><span class="sxs-lookup"><span data-stu-id="a8413-125">Use a `DataSet` to do the following:</span></span>  
  
-   <span data-ttu-id="a8413-126">Armazenar dados em cache localmente no aplicativo para que você possa manipulá-lo.</span><span class="sxs-lookup"><span data-stu-id="a8413-126">Cache data locally in your application so that you can manipulate it.</span></span> <span data-ttu-id="a8413-127">Se você precisar ler somente os resultados de uma consulta, o `DataReader` será a melhor opção.</span><span class="sxs-lookup"><span data-stu-id="a8413-127">If you only need to read the results of a query, the `DataReader` is the better choice.</span></span>  
  
-   <span data-ttu-id="a8413-128">Estabelecer a comunicação remota dos dados entre camadas ou em um serviço Web XML.</span><span class="sxs-lookup"><span data-stu-id="a8413-128">Remote data between tiers or from an XML Web service.</span></span>  
  
-   <span data-ttu-id="a8413-129">Interagir com os dados dinamicamente, por exemplo, fazendo a associação a um controle do Windows Forms ou combinando e relacionando dados de várias fontes.</span><span class="sxs-lookup"><span data-stu-id="a8413-129">Interact with data dynamically such as binding to a Windows Forms control or combining and relating data from multiple sources.</span></span>  
  
-   <span data-ttu-id="a8413-130">Executar um processamento extensivo nos dados sem precisar de uma conexão aberta com a fonte de dados, o que libera a conexão a ser usada por outros clientes.</span><span class="sxs-lookup"><span data-stu-id="a8413-130">Perform extensive processing on data without requiring an open connection to the data source, which frees the connection to be used by other clients.</span></span>  
  
 <span data-ttu-id="a8413-131">Se você não precisar da funcionalidade fornecida pelo `DataSet`, poderá melhorar o desempenho do aplicativo usando o `DataReader` para retornar os dados apenas para encaminhamento e somente leitura.</span><span class="sxs-lookup"><span data-stu-id="a8413-131">If you do not require the functionality provided by the `DataSet`, you can improve the performance of your application by using the `DataReader` to return your data in a forward-only, read-only manner.</span></span> <span data-ttu-id="a8413-132">Embora o `DataAdapter` usa o `DataReader` para preencher o conteúdo de um `DataSet` (consulte [populando um DataSet a partir de um DataAdapter](../../../../docs/framework/data/adonet/populating-a-dataset-from-a-dataadapter.md)), usando o `DataReader`, você pode melhorar o desempenho porque economizará a memória que poderia ser consumido pela `DataSet`e evitar o processamento que é necessário para criar e preencher o conteúdo do `DataSet`.</span><span class="sxs-lookup"><span data-stu-id="a8413-132">Although the `DataAdapter` uses the `DataReader` to fill the contents of a `DataSet` (see [Populating a DataSet from a DataAdapter](../../../../docs/framework/data/adonet/populating-a-dataset-from-a-dataadapter.md)), by using the `DataReader`, you can boost performance because you will save memory that would be consumed by the `DataSet`, and avoid the processing that is required to create and fill the contents of the `DataSet`.</span></span>  
  
## <a name="linq-to-dataset"></a><span data-ttu-id="a8413-133">LINQ to DataSet</span><span class="sxs-lookup"><span data-stu-id="a8413-133">LINQ to DataSet</span></span>  
 <span data-ttu-id="a8413-134">O LINQ to DataSet fornece recursos de consulta e verificação de tipo em tempo de compilação nos dados armazenados em cache em um objeto DataSet.</span><span class="sxs-lookup"><span data-stu-id="a8413-134">LINQ to DataSet provides query capabilities and compile-time type checking over data cached in a DataSet object.</span></span> <span data-ttu-id="a8413-135">Ele permite que você grave consultas em uma das linguagens de desenvolvimento do .NET Framework, como C# ou Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="a8413-135">It allows you to write queries in one of the .NET Framework development language, such as C# or Visual Basic.</span></span> <span data-ttu-id="a8413-136">Para obter mais informações, consulte [LINQ to DataSet](../../../../docs/framework/data/adonet/linq-to-dataset.md).</span><span class="sxs-lookup"><span data-stu-id="a8413-136">For more information, see [LINQ to DataSet](../../../../docs/framework/data/adonet/linq-to-dataset.md).</span></span>  
  
## <a name="linq-to-sql"></a><span data-ttu-id="a8413-137">LINQ to SQL</span><span class="sxs-lookup"><span data-stu-id="a8413-137">LINQ to SQL</span></span>  
 <span data-ttu-id="a8413-138">O LINQ to SQL oferece suporte a consultas em um modelo de objeto que é mapeado para as estruturas de dados de um banco de dados relacional sem usar um modelo conceitual intermediário.</span><span class="sxs-lookup"><span data-stu-id="a8413-138">LINQ to SQL supports queries against an object model that is mapped to the data structures of a relational database without using an intermediate conceptual model.</span></span> <span data-ttu-id="a8413-139">Cada tabela é representada por uma classe separada, acoplando com segurança o modelo de objeto ao esquema do banco de dados relacional.</span><span class="sxs-lookup"><span data-stu-id="a8413-139">Each table is represented by a separate class, tightly coupling the object model to the relational database schema.</span></span> <span data-ttu-id="a8413-140">O LINQ to SQL converte consultas integradas à linguagem no modelo de objeto na Transact-SQL e as envia ao banco de dados para execução.</span><span class="sxs-lookup"><span data-stu-id="a8413-140">LINQ to SQL translates language-integrated queries in the object model into Transact-SQL and sends them to the database for execution.</span></span> <span data-ttu-id="a8413-141">Quando o banco de dados retorna os resultados, o LINQ to SQL converte os resultados novamente em objetos.</span><span class="sxs-lookup"><span data-stu-id="a8413-141">When the database returns the results, LINQ to SQL translates the results back into objects.</span></span> <span data-ttu-id="a8413-142">Para obter mais informações, consulte [LINQ to SQL](../../../../docs/framework/data/adonet/sql/linq/index.md).</span><span class="sxs-lookup"><span data-stu-id="a8413-142">For more information, see [LINQ to SQL](../../../../docs/framework/data/adonet/sql/linq/index.md).</span></span>  
  
## <a name="adonet-entity-framework"></a><span data-ttu-id="a8413-143">ADO.NET Entity Framework</span><span class="sxs-lookup"><span data-stu-id="a8413-143">ADO.NET Entity Framework</span></span>  
 <span data-ttu-id="a8413-144">O ADO.NET Entity Framework foi criado para permitir que os desenvolvedores criem aplicativos de acesso a dados programando em um modelo de aplicativo conceitual, em vez de programar diretamente em um esquema de armazenamento relacional.</span><span class="sxs-lookup"><span data-stu-id="a8413-144">The ADO.NET Entity Framework is designed to enable developers to create data access applications by programming against a conceptual application model instead of programming directly against a relational storage schema.</span></span> <span data-ttu-id="a8413-145">O objetivo é diminuir a quantidade de código e de manutenção necessários a aplicativos orientados a dados.</span><span class="sxs-lookup"><span data-stu-id="a8413-145">The goal is to decrease the amount of code and maintenance required for data-oriented applications.</span></span> <span data-ttu-id="a8413-146">Para obter mais informações, consulte [ADO.NET Entity Framework](../../../../docs/framework/data/adonet/ef/index.md).</span><span class="sxs-lookup"><span data-stu-id="a8413-146">For more information, see [ADO.NET Entity Framework](../../../../docs/framework/data/adonet/ef/index.md).</span></span>  
  
## <a name="wcf-data-services"></a><span data-ttu-id="a8413-147">WCF Data Services</span><span class="sxs-lookup"><span data-stu-id="a8413-147">WCF Data Services</span></span>  
 <span data-ttu-id="a8413-148">O [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] é usado para implantar serviços de dados na Web ou em uma intranet.</span><span class="sxs-lookup"><span data-stu-id="a8413-148">[!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)] is used to deploy data services on the Web or an intranet.</span></span> <span data-ttu-id="a8413-149">Os dados são estruturados como entidades e relações de acordo com as especificações do Modelo de Dados de Entidade.</span><span class="sxs-lookup"><span data-stu-id="a8413-149">The data is structured as entities and relationships according to the specifications of the Entity Data Model.</span></span> <span data-ttu-id="a8413-150">Os dados implantados nesse modelo são endereçáveis pelo protocolo HTTP padrão.</span><span class="sxs-lookup"><span data-stu-id="a8413-150">Data deployed on this model is addressable by standard HTTP protocol.</span></span> <span data-ttu-id="a8413-151">Para obter mais informações, consulte [WCF Data Services 4.5](../../../../docs/framework/data/wcf/index.md).</span><span class="sxs-lookup"><span data-stu-id="a8413-151">For more information, see [WCF Data Services 4.5](../../../../docs/framework/data/wcf/index.md).</span></span>  
  
## <a name="xml-and-adonet"></a><span data-ttu-id="a8413-152">XML e ADO.NET</span><span class="sxs-lookup"><span data-stu-id="a8413-152">XML and ADO.NET</span></span>  
 <span data-ttu-id="a8413-153">O [!INCLUDE[vstecado](../../../../includes/vstecado-md.md)] aproveita a capacidade do XML para fornecer acesso desconectado a dados.</span><span class="sxs-lookup"><span data-stu-id="a8413-153">[!INCLUDE[vstecado](../../../../includes/vstecado-md.md)] leverages the power of XML to provide disconnected access to data.</span></span> <span data-ttu-id="a8413-154">O [!INCLUDE[vstecado](../../../../includes/vstecado-md.md)] foi criado em conjunto com as classes XML do [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)]; ambos são componentes de uma única arquitetura.</span><span class="sxs-lookup"><span data-stu-id="a8413-154">[!INCLUDE[vstecado](../../../../includes/vstecado-md.md)] was designed hand-in-hand with the XML classes in the [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)]; both are components of a single architecture.</span></span>  
  
 <span data-ttu-id="a8413-155">O [!INCLUDE[vstecado](../../../../includes/vstecado-md.md)] e as classes XML do [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] convergem para o objeto `DataSet`.</span><span class="sxs-lookup"><span data-stu-id="a8413-155">[!INCLUDE[vstecado](../../../../includes/vstecado-md.md)] and the XML classes in the [!INCLUDE[dnprdnshort](../../../../includes/dnprdnshort-md.md)] converge in the `DataSet` object.</span></span> <span data-ttu-id="a8413-156">O `DataSet` pode ser preenchido com dados de uma fonte XML, quer ele seja um arquivo ou um fluxo XML.</span><span class="sxs-lookup"><span data-stu-id="a8413-156">The `DataSet` can be populated with data from an XML source, whether it is a file or an XML stream.</span></span> <span data-ttu-id="a8413-157">O `DataSet` pode ser gravado como XML compatível com World-Wide Web Consortium (W3C) que inclui seu esquema como a linguagem de definição de esquema XML (XSD), independentemente da fonte dos dados no `DataSet`.</span><span class="sxs-lookup"><span data-stu-id="a8413-157">The `DataSet` can be written as World-Wide Web Consortium (W3C) compliant XML that includes its schema as XML schema definition language (XSD) schema, regardless of the source of the data in the `DataSet`.</span></span> <span data-ttu-id="a8413-158">Como o formato nativo de serialização do `DataSet` é XML, ele é um meio excelente para mover os dados entre as camadas, tornando o `DataSet` uma opção ideal para a comunicação remota dos dados e do contexto de esquema para e de um serviço Web XML.</span><span class="sxs-lookup"><span data-stu-id="a8413-158">Because of the native serialization format of the `DataSet` is XML, it is an excellent medium for moving data between tiers, making the `DataSet` an optimal choice for remoting data and schema context to and from an XML Web service.</span></span> <span data-ttu-id="a8413-159">Para obter mais informações, consulte [Documentos e dados XML](../../../../docs/standard/data/xml/index.md).</span><span class="sxs-lookup"><span data-stu-id="a8413-159">For more information, see [XML Documents and Data](../../../../docs/standard/data/xml/index.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a8413-160">Consulte também</span><span class="sxs-lookup"><span data-stu-id="a8413-160">See Also</span></span>  
 <span data-ttu-id="a8413-161">[ADO.NET Overview](../../../../docs/framework/data/adonet/ado-net-overview.md) (Visão geral do ADO.NET)</span><span class="sxs-lookup"><span data-stu-id="a8413-161">[ADO.NET Overview](../../../../docs/framework/data/adonet/ado-net-overview.md)</span></span>  
 <span data-ttu-id="a8413-162">[ADO.NET Managed Providers and DataSet Developer Center](https://go.microsoft.com/fwlink/?LinkId=217917) (Central de desenvolvedores do DataSet e de provedores gerenciados do ADO.NET)</span><span class="sxs-lookup"><span data-stu-id="a8413-162">[ADO.NET Managed Providers and DataSet Developer Center](https://go.microsoft.com/fwlink/?LinkId=217917)</span></span>
