---
title: Resultados da Consulta
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
ms.assetid: bcd7b699-4e50-4523-8c33-2f54a103d94e
ms.openlocfilehash: 3ac80cfe06f8531dcd2343f676a6f78f8eb0e8f6
ms.sourcegitcommit: 205b9a204742e9c77256d43ac9d94c3f82909808
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/10/2019
ms.locfileid: "70854307"
---
# <a name="query-results"></a><span data-ttu-id="2ea2b-102">Resultados da Consulta</span><span class="sxs-lookup"><span data-stu-id="2ea2b-102">Query Results</span></span>
<span data-ttu-id="2ea2b-103">Depois que uma consulta LINQ to Entities é convertida em árvores de comando e executada, os resultados da consulta geralmente são retornados como um dos seguintes:</span><span class="sxs-lookup"><span data-stu-id="2ea2b-103">After a LINQ to Entities query is converted to command trees and executed, the query results are usually returned as one of the following:</span></span>  
  
- <span data-ttu-id="2ea2b-104">Uma coleção de zero ou mais objetos de entidade tipados ou uma projeção de tipos complexos no modelo conceitual.</span><span class="sxs-lookup"><span data-stu-id="2ea2b-104">A collection of zero or more typed entity objects or a projection of complex types in the conceptual model.</span></span>  
  
- <span data-ttu-id="2ea2b-105">Tipos de CLR suportados pelo modelo conceitual.</span><span class="sxs-lookup"><span data-stu-id="2ea2b-105">CLR types supported by the conceptual model.</span></span>  
  
- <span data-ttu-id="2ea2b-106">Coleções internas.</span><span class="sxs-lookup"><span data-stu-id="2ea2b-106">Inline collections.</span></span>  
  
- <span data-ttu-id="2ea2b-107">Tipos anônimos.</span><span class="sxs-lookup"><span data-stu-id="2ea2b-107">Anonymous types.</span></span>  
  
 <span data-ttu-id="2ea2b-108">Quando a consulta executar contra a fonte de dados, os resultados são materializados em tipos de CLR e retornados para o cliente.</span><span class="sxs-lookup"><span data-stu-id="2ea2b-108">When the query has executed against the data source, the results are materialized into CLR types and returned to the client.</span></span> <span data-ttu-id="2ea2b-109">Qualquer materialização de objeto é executada pelo Entity Framework.</span><span class="sxs-lookup"><span data-stu-id="2ea2b-109">All object materialization is performed by the Entity Framework.</span></span> <span data-ttu-id="2ea2b-110">Todos os erros que resultarem de uma incapacidade de mapear entre o Entity Framework e o CLR gerarão exceções durante a materialização do objeto.</span><span class="sxs-lookup"><span data-stu-id="2ea2b-110">Any errors that result from an inability to map between the Entity Framework and the CLR will cause exceptions to be thrown during object materialization.</span></span>
  
 <span data-ttu-id="2ea2b-111">Se a execução da consulta retornar tipos de modelo conceitual primitivos, os resultados consistirão em tipos CLR autônomos e desconectados da Entity Framework.</span><span class="sxs-lookup"><span data-stu-id="2ea2b-111">If the query execution returns primitive conceptual model types, the results consist of CLR types that are stand-alone and disconnected from the Entity Framework.</span></span> <span data-ttu-id="2ea2b-112">No entanto, se a consulta retorna uma coleção de objetos de entidade tipados, representado por <xref:System.Data.Objects.ObjectQuery%601>, os tipos são controlados pelo contexto de objeto.</span><span class="sxs-lookup"><span data-stu-id="2ea2b-112">However, if the query returns a collection of typed entity objects, represented by <xref:System.Data.Objects.ObjectQuery%601>, those types are tracked by the object context.</span></span> <span data-ttu-id="2ea2b-113">Todo o comportamento do objeto (como coleções filho/pai, controle de alterações, polimorfismo e assim por diante) é definido no Entity Framework.</span><span class="sxs-lookup"><span data-stu-id="2ea2b-113">All object behavior (such as child/parent collections, change tracking, polymorphism, and so on) are as defined in the Entity Framework.</span></span> <span data-ttu-id="2ea2b-114">Essa funcionalidade pode ser usada em sua capacidade, conforme definido no Entity Framework.</span><span class="sxs-lookup"><span data-stu-id="2ea2b-114">This functionality can be used in its capacity, as defined in the Entity Framework.</span></span> <span data-ttu-id="2ea2b-115">Para obter mais informações, consulte [trabalhando com objetos](../working-with-objects.md).</span><span class="sxs-lookup"><span data-stu-id="2ea2b-115">For more information, see [Working with Objects](../working-with-objects.md).</span></span>
  
 <span data-ttu-id="2ea2b-116">Os tipos de Estrutura retornados de consultas (como tipos anônimos e tipos complexos anuláveis) podem ser de valor de `null` .</span><span class="sxs-lookup"><span data-stu-id="2ea2b-116">Struct types returned from queries (such as anonymous types and nullable complex types) can be of `null` value.</span></span> <span data-ttu-id="2ea2b-117">Uma propriedade de <xref:System.Data.Objects.DataClasses.EntityCollection%601> de uma entidade retornado também pode ser o valor de `null` .</span><span class="sxs-lookup"><span data-stu-id="2ea2b-117">An <xref:System.Data.Objects.DataClasses.EntityCollection%601> property of a returned entity can also be of `null` value.</span></span> <span data-ttu-id="2ea2b-118">Isso pode resultar de projetar a propriedade de coleção de uma entidade que é o valor de `null` , como chamar <xref:System.Linq.Queryable.FirstOrDefault%2A> em <xref:System.Data.Objects.ObjectQuery%601> que não tiver nenhum elemento.</span><span class="sxs-lookup"><span data-stu-id="2ea2b-118">This can result from projecting the collection property of an entity that is of `null` value, such as calling <xref:System.Linq.Queryable.FirstOrDefault%2A> on an <xref:System.Data.Objects.ObjectQuery%601> that has no elements.</span></span>  
  
 <span data-ttu-id="2ea2b-119">Em determinadas situações, uma consulta pode parecer para produzir um resultado materializado durante sua execução, mas a consulta será executada no servidor e o objeto de entidade será materializado nunca em CLR.</span><span class="sxs-lookup"><span data-stu-id="2ea2b-119">In certain situations, a query might appear to generate a materialized result during its execution, but the query will be executed on the server and the entity object will never be materialized in the CLR.</span></span> <span data-ttu-id="2ea2b-120">Isso pode causar problemas se você estiver como efeitos colaterais de materialization de objeto.</span><span class="sxs-lookup"><span data-stu-id="2ea2b-120">This can cause problems if you are depending on side effects of object materialization.</span></span>  
  
 <span data-ttu-id="2ea2b-121">O exemplo a seguir contém uma classe personalizada, `MyContact`, com uma propriedade de `LastName` .</span><span class="sxs-lookup"><span data-stu-id="2ea2b-121">The following example contains a custom class, `MyContact`, with a `LastName` property.</span></span> <span data-ttu-id="2ea2b-122">Quando a propriedade de `LastName` é definida, uma variável de `count` é incrementado.</span><span class="sxs-lookup"><span data-stu-id="2ea2b-122">When the `LastName` property is set, a `count` variable is incremented.</span></span> <span data-ttu-id="2ea2b-123">Se você executa as duas consultas a seguir, a primeira consulta incrementará `count` quando a segunda consulta não.</span><span class="sxs-lookup"><span data-stu-id="2ea2b-123">If you execute the two following queries, the first query will increment `count` while the second query will not.</span></span> <span data-ttu-id="2ea2b-124">Isso ocorre porque na segunda consulta a propriedade de `LastName` é projetada de resultados e a classe de `MyContact` nunca é criada, porque não é necessário executar a consulta no armazenamento.</span><span class="sxs-lookup"><span data-stu-id="2ea2b-124">This is because in the second query the `LastName` property is projected from the results and the `MyContact` class is never created, because it is not required to execute the query on the store.</span></span>  
  
 [!code-csharp[DP L2E Materialization Example#MaterializationSideEffects](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DP L2E Materialization Example/CS/Program.cs#materializationsideeffects)]
 [!code-vb[DP L2E Materialization Example#MaterializationSideEffects](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DP L2E Materialization Example/VB/Module1.vb#materializationsideeffects)]  
  
 [!code-csharp[DP L2E Materialization Example#MyContactClass](../../../../../../samples/snippets/csharp/VS_Snippets_Data/DP L2E Materialization Example/CS/Program.cs#mycontactclass)]
 [!code-vb[DP L2E Materialization Example#MyContactClass](../../../../../../samples/snippets/visualbasic/VS_Snippets_Data/DP L2E Materialization Example/VB/Module1.vb#mycontactclass)]
