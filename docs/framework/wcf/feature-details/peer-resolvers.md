---
title: Resolvedor peer
ms.date: 03/30/2017
ms.assetid: d86d12a1-7358-450f-9727-b6afb95adb9c
ms.openlocfilehash: ef72f44a7dd7f3e8f3108e4f77dcdbdf8ef1b1b7
ms.sourcegitcommit: 27a15a55019f6b5f2733961738babe94aec0def3
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/15/2020
ms.locfileid: "90554626"
---
# <a name="peer-resolvers"></a><span data-ttu-id="365cb-102">Resolvedor peer</span><span class="sxs-lookup"><span data-stu-id="365cb-102">Peer Resolvers</span></span>
<span data-ttu-id="365cb-103">Para se conectar a uma malha, um nó par requer os endereços IP de outros nós.</span><span class="sxs-lookup"><span data-stu-id="365cb-103">In order to connect to a mesh, a peer node requires the IP addresses of other nodes.</span></span> <span data-ttu-id="365cb-104">Os endereços IP são obtidos entrando em contato com um serviço resolvedor, que usa a ID de malha e retorna uma lista de endereços correspondentes aos nós registrados com essa ID de malha específica.</span><span class="sxs-lookup"><span data-stu-id="365cb-104">IP addresses are obtained by contacting a resolver service, which takes the mesh ID and returns a list of addresses corresponding to nodes registered with that particular mesh ID.</span></span> <span data-ttu-id="365cb-105">O resolvedor mantém uma lista de endereços registrados, que ele cria, fazendo com que cada nó na malha seja registrado no serviço.</span><span class="sxs-lookup"><span data-stu-id="365cb-105">The resolver keeps a list of registered addresses, which it creates by having each node in the mesh register with the service.</span></span>  
  
 <span data-ttu-id="365cb-106">Você pode especificar qual serviço concreta PeerResolver usar por meio da `Resolver` Propriedade do <xref:System.ServiceModel.NetPeerTcpBinding> .</span><span class="sxs-lookup"><span data-stu-id="365cb-106">You can specify which PeerResolver service to use through the `Resolver` property of the <xref:System.ServiceModel.NetPeerTcpBinding>.</span></span>  
  
## <a name="supported-peer-resolvers"></a><span data-ttu-id="365cb-107">Resolvedores de pares com suporte</span><span class="sxs-lookup"><span data-stu-id="365cb-107">Supported Peer Resolvers</span></span>  
 <span data-ttu-id="365cb-108">O canal par dá suporte a dois tipos de resolvedores: PNRP (Peer Name Resolution Protocol) e serviços de resolvedor personalizado.</span><span class="sxs-lookup"><span data-stu-id="365cb-108">Peer Channel supports two types of resolvers: Peer Name Resolution Protocol (PNRP), and custom resolver services.</span></span>  
  
 <span data-ttu-id="365cb-109">Por padrão, o canal de mesmo nível usa o serviço resolvedor de pares PNRP para a descoberta de pares e vizinhos na malha.</span><span class="sxs-lookup"><span data-stu-id="365cb-109">By default, Peer Channel uses the PNRP peer resolver service for discovery of peers and neighbors in the mesh.</span></span> <span data-ttu-id="365cb-110">Para situações/plataformas em que o PNRP não está disponível ou é viável, Windows Communication Foundation (WCF) fornece um serviço de descoberta alternativo baseado em servidor – o <xref:System.ServiceModel.PeerResolvers.CustomPeerResolverService> .</span><span class="sxs-lookup"><span data-stu-id="365cb-110">For situations/platforms where PNRP is not available or feasible, Windows Communication Foundation (WCF) provides an alternative, server-based discovery service - the <xref:System.ServiceModel.PeerResolvers.CustomPeerResolverService>.</span></span> <span data-ttu-id="365cb-111">Você também pode definir explicitamente um serviço de resolvedor personalizado escrevendo uma classe que implementa a <xref:System.ServiceModel.PeerResolvers.IPeerResolverContract> interface.</span><span class="sxs-lookup"><span data-stu-id="365cb-111">You can also explicitly define a custom resolver service by writing a class that implements the <xref:System.ServiceModel.PeerResolvers.IPeerResolverContract> interface.</span></span>  
  
### <a name="peer-name-resolution-protocol-pnrp"></a><span data-ttu-id="365cb-112">PNRP (Peer Name Resolution Protocol)</span><span class="sxs-lookup"><span data-stu-id="365cb-112">Peer Name Resolution Protocol (PNRP)</span></span>  
 <span data-ttu-id="365cb-113">O PNRP, o resolvedor padrão do Windows Vista, é um serviço de resolvedor de nomes distribuído e sem servidor.</span><span class="sxs-lookup"><span data-stu-id="365cb-113">PNRP, the default resolver for Windows Vista, is a distributed, serverless name resolver service.</span></span> <span data-ttu-id="365cb-114">O PNRP também pode ser usado no Windows XP SP2 instalando o Advanced Networking Pack.</span><span class="sxs-lookup"><span data-stu-id="365cb-114">PNRP can also be used on Windows XP SP2 by installing the Advanced Networking Pack.</span></span> <span data-ttu-id="365cb-115">Quaisquer dois clientes que executam a mesma versão do PNRP podem localizar um ao outro usando esse protocolo, desde que eles atendam a determinadas condições (como a falta de um firewall corporativo intermediário).</span><span class="sxs-lookup"><span data-stu-id="365cb-115">Any two clients running the same version of PNRP can locate each other using this protocol, provided they meet certain conditions (such as the lack of an intervening corporate firewall).</span></span> <span data-ttu-id="365cb-116">Observe que a versão do PNRP fornecida com o Windows Vista é mais recente do que a versão incluída no pacote de rede avançado.</span><span class="sxs-lookup"><span data-stu-id="365cb-116">Note that the version of PNRP that ships with Windows Vista is newer than the version included in the Advanced Networking Pack.</span></span> <span data-ttu-id="365cb-117">Verifique o centro de download da Microsoft para obter atualizações para o PNRP para Windows XP SP2.</span><span class="sxs-lookup"><span data-stu-id="365cb-117">Check the Microsoft Download Center for updates to PNRP for Windows XP SP2.</span></span>  
  
### <a name="custom-resolver-services"></a><span data-ttu-id="365cb-118">Serviços de resolvedor personalizado</span><span class="sxs-lookup"><span data-stu-id="365cb-118">Custom Resolver Services</span></span>  
 <span data-ttu-id="365cb-119">Quando o serviço PNRP está indisponível ou você deseja ter controle total sobre a modelagem de malha, você pode usar um serviço de resolvedor personalizado baseado em servidor.</span><span class="sxs-lookup"><span data-stu-id="365cb-119">When the PNRP service is unavailable, or you want complete control over mesh shaping, you can use a custom, server-based resolver service.</span></span> <span data-ttu-id="365cb-120">Você pode definir explicitamente esse serviço escrevendo uma classe de resolvedor implementando a <xref:System.ServiceModel.PeerResolvers.IPeerResolverContract> interface ou usando a implementação padrão na caixa, <xref:System.ServiceModel.PeerResolvers.CustomPeerResolverService> .</span><span class="sxs-lookup"><span data-stu-id="365cb-120">You can explicitly define this service by writing a resolver class implementing the <xref:System.ServiceModel.PeerResolvers.IPeerResolverContract> interface, or by using the in-box default implementation, <xref:System.ServiceModel.PeerResolvers.CustomPeerResolverService>.</span></span>  
  
 <span data-ttu-id="365cb-121">Na implementação padrão do serviço, os registros do cliente expiram após um determinado período de tempo se o cliente não atualizar explicitamente o registro.</span><span class="sxs-lookup"><span data-stu-id="365cb-121">Under the default implementation of the service, client registrations expire after a certain amount of time if the client does not explicitly refresh the registration.</span></span> <span data-ttu-id="365cb-122">Os clientes que usam o serviço resolvedor devem estar cientes do limite superior na latência do cliente-servidor para atualizar os registros no tempo com êxito.</span><span class="sxs-lookup"><span data-stu-id="365cb-122">Clients using the resolver service must be aware of the upper bound on client-server latency in order to successfully refresh registrations in time.</span></span> <span data-ttu-id="365cb-123">Isso envolve a escolha de um tempo limite de atualização apropriado ( `RefreshInterval` ) no serviço resolvedor.</span><span class="sxs-lookup"><span data-stu-id="365cb-123">This involves choosing an appropriate refresh time-out (`RefreshInterval`) on the resolver service.</span></span> <span data-ttu-id="365cb-124">(Para obter mais informações, consulte [dentro do CustomPeerResolverService: registros de cliente](inside-the-custompeerresolverservice-client-registrations.md).)</span><span class="sxs-lookup"><span data-stu-id="365cb-124">(For more information, see [Inside the CustomPeerResolverService: Client Registrations](inside-the-custompeerresolverservice-client-registrations.md).)</span></span>  
  
 <span data-ttu-id="365cb-125">O gravador de aplicativos também deve considerar a proteção da conexão entre os clientes e o serviço de resolvedor personalizado.</span><span class="sxs-lookup"><span data-stu-id="365cb-125">The application writer must also consider securing the connection between clients and the custom resolver service.</span></span> <span data-ttu-id="365cb-126">Você pode fazer isso usando as configurações de segurança no <xref:System.ServiceModel.NetTcpBinding> que os clientes usam para entrar em contato com o serviço de resolvedor.</span><span class="sxs-lookup"><span data-stu-id="365cb-126">You may do this by using security settings on the <xref:System.ServiceModel.NetTcpBinding> that clients use to contact the resolver service.</span></span> <span data-ttu-id="365cb-127">Você deve especificar as credenciais (se usadas) no `ChannelFactory` usado para criar o canal par.</span><span class="sxs-lookup"><span data-stu-id="365cb-127">You must specify credentials (if used) on the `ChannelFactory` used to create Peer Channel.</span></span> <span data-ttu-id="365cb-128">Essas credenciais são passadas para o `ChannelFactory` usado para criar canais para o resolvedor personalizado.</span><span class="sxs-lookup"><span data-stu-id="365cb-128">These credentials are passed to the `ChannelFactory` used to create channels to the custom resolver.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="365cb-129">Ao usar redes locais e improvisadas com um resolvedor personalizado, é altamente recomendável que os aplicativos que usam ou suportem redes de link local ou improvisadas incluam uma lógica que selecione um único endereço de link local para usar ao se conectar.</span><span class="sxs-lookup"><span data-stu-id="365cb-129">When using local and impromptu networks with a custom resolver, it is strongly advised that applications using or supporting link-local or impromptu networks include logic that selects a single link-local address to use when connecting.</span></span> <span data-ttu-id="365cb-130">Isso evita qualquer confusão possivelmente causada por computadores com vários endereços de link local.</span><span class="sxs-lookup"><span data-stu-id="365cb-130">This prevents any confusion potentially caused by computers with multiple link-local addresses.</span></span> <span data-ttu-id="365cb-131">De acordo com isso, o canal par só dá suporte ao uso de um único endereço de link local a qualquer momento.</span><span class="sxs-lookup"><span data-stu-id="365cb-131">In accordance with this, Peer Channel only supports using a single link-local address at any one time.</span></span> <span data-ttu-id="365cb-132">Você pode especificar esse endereço com a `ListenIpAddress` propriedade no <xref:System.ServiceModel.NetPeerTcpBinding> .</span><span class="sxs-lookup"><span data-stu-id="365cb-132">You may specify this address with the `ListenIpAddress` property on the <xref:System.ServiceModel.NetPeerTcpBinding>.</span></span>  
  
 <span data-ttu-id="365cb-133">Para ver uma demonstração de como implementar um resolvedor personalizado, consulte [resolvedor de pares personalizado do canal par](/previous-versions/dotnet/netframework-3.5/ms751466(v=vs.90)).</span><span class="sxs-lookup"><span data-stu-id="365cb-133">For a demonstration of how to implement a custom resolver, see [Peer Channel Custom Peer Resolver](/previous-versions/dotnet/netframework-3.5/ms751466(v=vs.90)).</span></span>  
  
## <a name="in-this-section"></a><span data-ttu-id="365cb-134">Nesta seção</span><span class="sxs-lookup"><span data-stu-id="365cb-134">In This Section</span></span>  
 [<span data-ttu-id="365cb-135">Sobre o CustomPeerResolverService: registros de clientes</span><span class="sxs-lookup"><span data-stu-id="365cb-135">Inside the CustomPeerResolverService: Client Registrations</span></span>](inside-the-custompeerresolverservice-client-registrations.md)  
  
## <a name="see-also"></a><span data-ttu-id="365cb-136">Confira também</span><span class="sxs-lookup"><span data-stu-id="365cb-136">See also</span></span>

- [<span data-ttu-id="365cb-137">Conceitos de canal par</span><span class="sxs-lookup"><span data-stu-id="365cb-137">Peer Channel Concepts</span></span>](peer-channel-concepts.md)
- [<span data-ttu-id="365cb-138">Segurança de canal par</span><span class="sxs-lookup"><span data-stu-id="365cb-138">Peer Channel Security</span></span>](peer-channel-security.md)
- [<span data-ttu-id="365cb-139">Compilando um aplicativo de canal par</span><span class="sxs-lookup"><span data-stu-id="365cb-139">Building a Peer Channel Application</span></span>](building-a-peer-channel-application.md)
