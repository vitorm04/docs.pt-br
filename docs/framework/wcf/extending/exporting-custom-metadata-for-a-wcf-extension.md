---
title: Exportando metadados personalizados para uma extensão do WCF
ms.date: 03/30/2017
ms.assetid: 53c93882-f8ba-4192-965b-787b5e3f09c0
ms.openlocfilehash: 5134b57c59268b139239021bc2b4f6f4538ad27d
ms.sourcegitcommit: 0be8a279af6d8a43e03141e349d3efd5d35f8767
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 04/18/2019
ms.locfileid: "59334504"
---
# <a name="exporting-custom-metadata-for-a-wcf-extension"></a><span data-ttu-id="fa630-102">Exportando metadados personalizados para uma extensão do WCF</span><span class="sxs-lookup"><span data-stu-id="fa630-102">Exporting Custom Metadata for a WCF Extension</span></span>
<span data-ttu-id="fa630-103">No Windows Communication Foundation (WCF), a exportação de metadados é o processo de descrever os pontos de extremidade de serviço e Projetando-os em uma representação paralela e padronizada que os clientes podem usar para entender como usar o serviço.</span><span class="sxs-lookup"><span data-stu-id="fa630-103">In Windows Communication Foundation (WCF), metadata export is the process of describing service endpoints and projecting them into a parallel, standardized representation that clients can use to understand how to use the service.</span></span> <span data-ttu-id="fa630-104">Metadados personalizados consistem em elementos XML que o Exportadores de metadados fornecidos pelo sistema não é possível exportar.</span><span class="sxs-lookup"><span data-stu-id="fa630-104">Custom metadata consists of XML elements that the system-provided metadata exporters cannot export.</span></span> <span data-ttu-id="fa630-105">Normalmente, isso inclui elementos WSDL personalizados para comportamentos definidos pelo usuário e elementos de associação e declarações de política sobre os recursos e requisitos de associações e contratos.</span><span class="sxs-lookup"><span data-stu-id="fa630-105">Typically, this includes custom WSDL elements for user-defined behaviors and binding elements and policy assertions about the capabilities and requirements of bindings and contracts.</span></span>  
  
 <span data-ttu-id="fa630-106">Esta seção descreve a exportação de WSDL personalizado ou declarações de política e não se concentra em que o processo de exportação.</span><span class="sxs-lookup"><span data-stu-id="fa630-106">This section describes exporting custom WSDL or policy assertions, and does not focus on the exporting process itself.</span></span> <span data-ttu-id="fa630-107">Para obter mais informações sobre como usar os tipos de exportação e importação de metadados, independentemente se os metadados são personalizadas ou sistema construído, consulte [exportando e importando metadados](../../../../docs/framework/wcf/feature-details/exporting-and-importing-metadata.md).</span><span class="sxs-lookup"><span data-stu-id="fa630-107">For more information about how to use the types that export and import metadata regardless of whether the metadata is custom or system-constructed, see [Exporting and Importing Metadata](../../../../docs/framework/wcf/feature-details/exporting-and-importing-metadata.md).</span></span>  
  
## <a name="overview"></a><span data-ttu-id="fa630-108">Visão geral</span><span class="sxs-lookup"><span data-stu-id="fa630-108">Overview</span></span>  
 <span data-ttu-id="fa630-109">Quando os metadados são publicados usando o <xref:System.ServiceModel.Description.ServiceMetadataBehavior?displayProperty=nameWithType>, o <xref:System.ServiceModel.Description.ServiceDescription?displayProperty=nameWithType> é examinado e XSD e WSDL – incluindo as declarações de política – são gerados para todos os contratos e associações WCF pode dar suporte a usando os atributos fornecidos pelo sistema e associações.</span><span class="sxs-lookup"><span data-stu-id="fa630-109">When metadata is published using the <xref:System.ServiceModel.Description.ServiceMetadataBehavior?displayProperty=nameWithType>, the <xref:System.ServiceModel.Description.ServiceDescription?displayProperty=nameWithType> is examined and XSD and WSDL -- including policy assertions -- are generated for all contracts and bindings that WCF can support using system-provided attributes and bindings.</span></span> <span data-ttu-id="fa630-110">No entanto, os atributos de comportamento personalizado ou elementos de associação exigem suporte antes que eles podem ser exportados corretamente.</span><span class="sxs-lookup"><span data-stu-id="fa630-110">However, custom behavior attributes or binding elements require support before they can be exported properly.</span></span>  
  
 <span data-ttu-id="fa630-111">Esta seção descreve:</span><span class="sxs-lookup"><span data-stu-id="fa630-111">This section describes:</span></span>  
  
1. <span data-ttu-id="fa630-112">Como implementar e usar o <xref:System.ServiceModel.Description.IWsdlExportExtension?displayProperty=nameWithType> interface, que expõe os dados de geração de WSDL para você antes de publicar o WSDL.</span><span class="sxs-lookup"><span data-stu-id="fa630-112">How to implement and use the <xref:System.ServiceModel.Description.IWsdlExportExtension?displayProperty=nameWithType> interface, which exposes the WSDL generation data to you prior to publishing the WSDL.</span></span>  
  
2. <span data-ttu-id="fa630-113">Como implementar e usar o <xref:System.ServiceModel.Description.IPolicyExportExtension?displayProperty=nameWithType> interface, que expõe a política de dados para você antes de exportar as declarações de política nos dados WSDL.</span><span class="sxs-lookup"><span data-stu-id="fa630-113">How to implement and use the <xref:System.ServiceModel.Description.IPolicyExportExtension?displayProperty=nameWithType> interface, which exposes the policy data to you prior to exporting the policy assertions in WSDL data.</span></span>  
  
 <span data-ttu-id="fa630-114">Para obter mais informações sobre como importar WSDL personalizado e declarações de política, consulte [importando metadados personalizados para uma extensão do WCF](../../../../docs/framework/wcf/extending/importing-custom-metadata-for-a-wcf-extension.md).</span><span class="sxs-lookup"><span data-stu-id="fa630-114">For more information about importing custom WSDL and policy assertions, see [Importing Custom Metadata for a WCF Extension](../../../../docs/framework/wcf/extending/importing-custom-metadata-for-a-wcf-extension.md).</span></span>  
  
## <a name="exporting-custom-wsdl-elements"></a><span data-ttu-id="fa630-115">Exportando elementos WSDL personalizado</span><span class="sxs-lookup"><span data-stu-id="fa630-115">Exporting Custom WSDL Elements</span></span>  
 <span data-ttu-id="fa630-116">Implementar o <xref:System.ServiceModel.Description.IWsdlExportExtension> em um comportamento da operação, o comportamento de contrato, o comportamento de ponto de extremidade ou o elemento de associação (<xref:System.ServiceModel.Description.IOperationBehavior>, <xref:System.ServiceModel.Description.IContractBehavior>, <xref:System.ServiceModel.Description.IEndpointBehavior>, ou <xref:System.ServiceModel.Channels.BindingElement?displayProperty=nameWithType> , respectivamente) e insira o comportamentos ou elementos de associação para o Descrição do serviço que você está tentando exportar.</span><span class="sxs-lookup"><span data-stu-id="fa630-116">Implement the <xref:System.ServiceModel.Description.IWsdlExportExtension> on an operation behavior, contract behavior, endpoint behavior or binding element (<xref:System.ServiceModel.Description.IOperationBehavior>, <xref:System.ServiceModel.Description.IContractBehavior>, <xref:System.ServiceModel.Description.IEndpointBehavior>, or <xref:System.ServiceModel.Channels.BindingElement?displayProperty=nameWithType> respectively) and insert the behaviors or binding elements into the description of the service that you are trying to export.</span></span> <span data-ttu-id="fa630-117">(Para obter mais informações sobre a inserção de comportamentos, consulte [Configurando e estendendo o tempo de execução com comportamentos](../../../../docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md)).</span><span class="sxs-lookup"><span data-stu-id="fa630-117">(For more information about inserting behaviors, see [Configuring and Extending the Runtime with Behaviors](../../../../docs/framework/wcf/extending/configuring-and-extending-the-runtime-with-behaviors.md)).</span></span> <span data-ttu-id="fa630-118">O <xref:System.ServiceModel.Description.IWsdlExportExtension> é chamado para cada ponto de extremidade e cada ponto de extremidade exporta o contrato primeiro se ele já não foi exportado.</span><span class="sxs-lookup"><span data-stu-id="fa630-118">The <xref:System.ServiceModel.Description.IWsdlExportExtension> is called for each endpoint and each endpoint exports the contract first if it has not already been exported.</span></span> <span data-ttu-id="fa630-119">Você pode participar de qualquer processo de exportação, dependendo das suas necessidades:</span><span class="sxs-lookup"><span data-stu-id="fa630-119">You can participate in either export process, depending upon your needs:</span></span>  
  
-   <span data-ttu-id="fa630-120">Use o <xref:System.ServiceModel.Description.WsdlContractConversionContext> para modificar os metadados exportados no <xref:System.ServiceModel.Description.IWsdlExportExtension.ExportContract%2A> método.</span><span class="sxs-lookup"><span data-stu-id="fa630-120">Use the <xref:System.ServiceModel.Description.WsdlContractConversionContext> to modify the exported metadata in the <xref:System.ServiceModel.Description.IWsdlExportExtension.ExportContract%2A> method.</span></span>  
  
-   <span data-ttu-id="fa630-121">Use o <xref:System.ServiceModel.Description.WsdlEndpointConversionContext> para modificar os metadados exportados para o ponto de extremidade no <xref:System.ServiceModel.Description.IWsdlExportExtension.ExportEndpoint%2A> método.</span><span class="sxs-lookup"><span data-stu-id="fa630-121">Use the <xref:System.ServiceModel.Description.WsdlEndpointConversionContext> to modify the exported metadata for the endpoint in the <xref:System.ServiceModel.Description.IWsdlExportExtension.ExportEndpoint%2A> method.</span></span>  
  
 <span data-ttu-id="fa630-122">O <xref:System.ServiceModel.Description.IWsdlExportExtension.ExportContract%2A> método é chamado em todos os <xref:System.ServiceModel.Description.IWsdlExportExtension> implementações dentro de <xref:System.ServiceModel.Description.ContractDescription?displayProperty=nameWithType> instância que está sendo exportada.</span><span class="sxs-lookup"><span data-stu-id="fa630-122">The <xref:System.ServiceModel.Description.IWsdlExportExtension.ExportContract%2A> method is called on all <xref:System.ServiceModel.Description.IWsdlExportExtension> implementations within the <xref:System.ServiceModel.Description.ContractDescription?displayProperty=nameWithType> instance that is being exported.</span></span>  <span data-ttu-id="fa630-123">O <xref:System.ServiceModel.Description.IWsdlExportExtension.ExportEndpoint%2A> método é chamado em todos os <xref:System.ServiceModel.Description.IWsdlExportExtension> implementações com o <xref:System.ServiceModel.Description.ServiceEndpoint?displayProperty=nameWithType> instância que está sendo exportada.</span><span class="sxs-lookup"><span data-stu-id="fa630-123">The <xref:System.ServiceModel.Description.IWsdlExportExtension.ExportEndpoint%2A> method is called on all <xref:System.ServiceModel.Description.IWsdlExportExtension> implementations with the <xref:System.ServiceModel.Description.ServiceEndpoint?displayProperty=nameWithType> instance that is being exported.</span></span>  
  
 <span data-ttu-id="fa630-124">Para obter mais informações, confira [Como: Exportar o WSDL personalizado](../../../../docs/framework/wcf/extending/how-to-export-custom-wsdl.md) e o exemplo [publicação de WSDL personalizado](../../../../docs/framework/wcf/samples/custom-wsdl-publication.md).</span><span class="sxs-lookup"><span data-stu-id="fa630-124">For more information, see [How to: Export Custom WSDL](../../../../docs/framework/wcf/extending/how-to-export-custom-wsdl.md) and the sample [Custom WSDL Publication](../../../../docs/framework/wcf/samples/custom-wsdl-publication.md).</span></span>  
  
## <a name="exporting-custom-policy-assertions"></a><span data-ttu-id="fa630-125">Exportando as declarações de política personalizada</span><span class="sxs-lookup"><span data-stu-id="fa630-125">Exporting Custom Policy Assertions</span></span>  
 <span data-ttu-id="fa630-126">Implemente a <xref:System.ServiceModel.Description.IPolicyExportExtension> em um <xref:System.ServiceModel.Channels.BindingElement> e adicione o elemento de associação para a associação para escrever declarações de política personalizadas sobre recursos de suporte e contrato no WSDL de ligação.</span><span class="sxs-lookup"><span data-stu-id="fa630-126">Implement the <xref:System.ServiceModel.Description.IPolicyExportExtension> on a <xref:System.ServiceModel.Channels.BindingElement> and add the binding element to the binding to write custom policy assertions about binding support and contract capabilities into the WSDL.</span></span> <span data-ttu-id="fa630-127">O <xref:System.ServiceModel.Description.IPolicyExportExtension> é chamado uma vez ao exportar o elemento de associação implementado em uma associação e passa a <xref:System.ServiceModel.Description.PolicyConversionContext> para o <xref:System.ServiceModel.Description.IPolicyExportExtension.ExportPolicy%2A> método.</span><span class="sxs-lookup"><span data-stu-id="fa630-127">The <xref:System.ServiceModel.Description.IPolicyExportExtension> is called once when exporting the implemented binding element in a binding and passes the <xref:System.ServiceModel.Description.PolicyConversionContext> to the <xref:System.ServiceModel.Description.IPolicyExportExtension.ExportPolicy%2A> method.</span></span> <span data-ttu-id="fa630-128">Você pode usar os métodos no <xref:System.ServiceModel.Description.PolicyConversionContext> instância a ser adicionada para as declarações de política anexada à associação WSDL nas entidades de mensagem, operação ou ponto de extremidade.</span><span class="sxs-lookup"><span data-stu-id="fa630-128">You can use the methods on the <xref:System.ServiceModel.Description.PolicyConversionContext> instance to add to the policy assertions attached to the WSDL binding at the message, operation or endpoint subjects.</span></span>  
  
 <span data-ttu-id="fa630-129">Para obter mais informações, confira [Como: Exportar declarações de política personalizada](../../../../docs/framework/wcf/extending/how-to-export-custom-policy-assertions.md).</span><span class="sxs-lookup"><span data-stu-id="fa630-129">For more information, see [How to: Export Custom Policy Assertions](../../../../docs/framework/wcf/extending/how-to-export-custom-policy-assertions.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="fa630-130">Consulte também</span><span class="sxs-lookup"><span data-stu-id="fa630-130">See also</span></span>

- [<span data-ttu-id="fa630-131">Como: Exportar o WSDL personalizado</span><span class="sxs-lookup"><span data-stu-id="fa630-131">How to: Export Custom WSDL</span></span>](../../../../docs/framework/wcf/extending/how-to-export-custom-wsdl.md)
- [<span data-ttu-id="fa630-132">Como: Exportar declarações de política personalizada</span><span class="sxs-lookup"><span data-stu-id="fa630-132">How to: Export Custom Policy Assertions</span></span>](../../../../docs/framework/wcf/extending/how-to-export-custom-policy-assertions.md)
- [<span data-ttu-id="fa630-133">Importando metadados personalizados para uma extensão do WCF</span><span class="sxs-lookup"><span data-stu-id="fa630-133">Importing Custom Metadata for a WCF Extension</span></span>](../../../../docs/framework/wcf/extending/importing-custom-metadata-for-a-wcf-extension.md)
