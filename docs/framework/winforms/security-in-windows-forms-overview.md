---
title: Visão geral da Segurança do Windows Forms
ms.date: 03/30/2017
helpviewer_keywords:
- code access security [Windows Forms], Windows Forms
- permissions [Windows Forms], Windows Forms
- Windows Forms, security
- security [Windows Forms], about security
- access control [Windows Forms], Windows Forms
ms.assetid: 4810dc9f-ea23-4ce1-8ea1-657f0ff1d820
ms.openlocfilehash: 08c80eccee395d9141978a7d4594205af1a51ed9
ms.sourcegitcommit: 7b1ce327e8c84f115f007be4728d29a89efe11ef
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/13/2019
ms.locfileid: "70972128"
---
# <a name="security-in-windows-forms-overview"></a><span data-ttu-id="d7875-102">Visão geral da Segurança do Windows Forms</span><span class="sxs-lookup"><span data-stu-id="d7875-102">Security in Windows Forms Overview</span></span>

<span data-ttu-id="d7875-103">Antes do lançamento da .NET Framework, todo o código em execução no computador de um usuário tinha os mesmos direitos ou permissões para acessar os recursos que um usuário do computador tinha.</span><span class="sxs-lookup"><span data-stu-id="d7875-103">Before the release of the .NET Framework, all code running on a user's computer had the same rights or permissions to access resources that a user of the computer had.</span></span> <span data-ttu-id="d7875-104">Por exemplo, se o usuário era autorizado a acessar o sistema de arquivos, o código era autorizado a acessar o sistema de arquivos. Se o usuário era autorizado a acessar um banco de dados, o código era autorizado a acessar o banco de dados.</span><span class="sxs-lookup"><span data-stu-id="d7875-104">For example, if the user was allowed to access the file system, the code was allowed to access the file system; if the user was allowed to access a database, the code was allowed to access that database.</span></span> <span data-ttu-id="d7875-105">Embora esses direitos ou permissões possam ser aceitáveis para código em executáveis que o usuário explicitamente instalou no computador local, eles podem não ser aceitáveis para código potencialmente mal-intencionado proveniente da Internet ou de uma intranet local.</span><span class="sxs-lookup"><span data-stu-id="d7875-105">Although these rights or permissions may be acceptable for code in executables that the user has explicitly installed on the local computer, they may not be acceptable for potentially malicious code coming from the Internet or a local Intranet.</span></span> <span data-ttu-id="d7875-106">Esse código não deveria ser capaz de acessar recursos do computador do usuário sem permissão.</span><span class="sxs-lookup"><span data-stu-id="d7875-106">This code should not be able to access the user's computer resources without permission.</span></span>

<span data-ttu-id="d7875-107">O .NET Framework introduz uma infraestrutura chamada segurança de acesso ao código que permite diferenciar as permissões, ou direitos, que o código tem dos direitos que o usuário tem.</span><span class="sxs-lookup"><span data-stu-id="d7875-107">The .NET Framework introduces an infrastructure called Code Access Security that lets you differentiate the permissions, or rights, that code has from the rights that the user has.</span></span> <span data-ttu-id="d7875-108">Por padrão, o código proveniente da Internet e da intranet somente pode executar no que é conhecido como confiança parcial.</span><span class="sxs-lookup"><span data-stu-id="d7875-108">By default, code coming from the Internet and the Intranet can only run in what is known as partial trust.</span></span> <span data-ttu-id="d7875-109">A confiança parcial sujeita um aplicativo a uma série de restrições: entre outras coisas, um aplicativo é impedido de acessar o disco rígido local e não pode executar código não gerenciado.</span><span class="sxs-lookup"><span data-stu-id="d7875-109">Partial trust subjects an application to a series of restrictions: among other things, an application is restricted from accessing the local hard disk, and cannot run unmanaged code.</span></span> <span data-ttu-id="d7875-110">O .NET Framework controla os recursos que o código tem permissão para acessar com base na identidade desse código: de onde ele veio, se ele tem um [assembly de nome forte](../../standard/assembly/strong-named.md), se ele está assinado com um certificado e assim por diante.</span><span class="sxs-lookup"><span data-stu-id="d7875-110">The .NET Framework controls the resources that code is allowed to access based on the identity of that code: where it came from, whether it has a [Strong-Named Assemblies](../../standard/assembly/strong-named.md), whether it is signed with a certificate, and so on.</span></span>

<span data-ttu-id="d7875-111">A tecnologia ClickOnce, que você usa para implantar Windows Forms aplicativos, ajuda a facilitar o desenvolvimento de aplicativos que são executados em confiança parcial, com confiança total ou em confiança parcial com permissões elevadas.</span><span class="sxs-lookup"><span data-stu-id="d7875-111">ClickOnce technology, which you use to deploy Windows Forms applications, helps make it easier for you to develop applications that run in partial trust, in full trust, or in partial trust with elevated permissions.</span></span> <span data-ttu-id="d7875-112">O ClickOnce fornece recursos como elevação de permissão e implantação de aplicativo confiável para que seu aplicativo possa solicitar confiança total ou permissões elevadas do usuário local de uma maneira responsável.</span><span class="sxs-lookup"><span data-stu-id="d7875-112">ClickOnce provides features such as Permission Elevation and Trusted Application Deployment so that your application can request full trust or elevated permissions from the local user in a responsible manner.</span></span>

## <a name="understanding-security-in-the-net-framework"></a><span data-ttu-id="d7875-113">Noções básicas sobre segurança no .NET Framework</span><span class="sxs-lookup"><span data-stu-id="d7875-113">Understanding Security in the .NET Framework</span></span>

<span data-ttu-id="d7875-114">A segurança de acesso do código permite que o código seja confiável em graus variáveis, dependendo da origem do código e de outros aspectos de sua identidade.</span><span class="sxs-lookup"><span data-stu-id="d7875-114">Code access security allows code to be trusted to varying degrees, depending on where the code originates and on other aspects of the code's identity.</span></span> <span data-ttu-id="d7875-115">Para obter mais informações sobre a evidência que o Common Language Runtime usa para determinar a política de segurança, consulte [Evidências](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/7y5x1hcd(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="d7875-115">For more information about the evidence the common language runtime uses to determine security policy, see [Evidence](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/7y5x1hcd(v=vs.100)).</span></span> <span data-ttu-id="d7875-116">Ele ajuda a proteger os sistemas do computador contra código mal-intencionado e ajuda a proteger o código confiável contra intencionalmente ou acidentalmente comprometer a segurança.</span><span class="sxs-lookup"><span data-stu-id="d7875-116">It helps protect computer systems from malicious code and helps protect trusted code from intentionally or accidentally compromising security.</span></span> <span data-ttu-id="d7875-117">A segurança de acesso do código também oferece mais controle sobre quais ações seu aplicativo pode realizar, porque você pode especificar somente as permissões que você precisa que seu aplicativo tenha.</span><span class="sxs-lookup"><span data-stu-id="d7875-117">Code access security also gives you more control over what actions your application can perform, because you can specify only those permissions you need your application to have.</span></span> <span data-ttu-id="d7875-118">A segurança de acesso do código afeta todo código gerenciado que se destina ao Common Language Runtime, mesmo que esse código não faça nenhuma verificação de permissão de segurança de acesso do código.</span><span class="sxs-lookup"><span data-stu-id="d7875-118">Code access security affects all managed code that targets the common language runtime, even if that code does not make a single code-access-security permission check.</span></span> <span data-ttu-id="d7875-119">Para obter mais informações sobre segurança na .NET Framework, consulte [conceitos principais de segurança](../../standard/security/key-security-concepts.md) e [noções básicas de segurança de acesso ao código](../misc/code-access-security-basics.md).</span><span class="sxs-lookup"><span data-stu-id="d7875-119">For more information about security in the .NET Framework, see [Key Security Concepts](../../standard/security/key-security-concepts.md) and [Code Access Security Basics](../misc/code-access-security-basics.md).</span></span>

<span data-ttu-id="d7875-120">Se o usuário executar um arquivo executável dos Windows Forms diretamente de um servidor Web ou de um compartilhamento de arquivos, o grau de confiança concedido ao seu aplicativo dependerá de onde reside o código e de como ele foi iniciado.</span><span class="sxs-lookup"><span data-stu-id="d7875-120">If the user run a Windows Forms executable file directly off of a Web server or a file share, the degree of trust granted to your application depends on where the code resides, and how it is started.</span></span> <span data-ttu-id="d7875-121">Quando um aplicativo é executado, ele é automaticamente avaliado e recebe um conjunto de permissões nomeadas do Common Language Runtime.</span><span class="sxs-lookup"><span data-stu-id="d7875-121">When an application runs, it is automatically evaluated and it receives a named permission set from the common language runtime.</span></span> <span data-ttu-id="d7875-122">Por padrão, o conjunto de permissões de Confiança Total é concedido ao código do computador local, o conjunto de permissões de Intranet Local é concedido ao código de uma rede local e o conjunto de permissões de Internet é concedido ao código da Internet.</span><span class="sxs-lookup"><span data-stu-id="d7875-122">By default, the code from the local computer is granted the Full Trust permission set, code from a local network is granted the Local Intranet permission set, and code from the Internet is granted the Internet permission set.</span></span>

> [!NOTE]
> <span data-ttu-id="d7875-123">No .NET Framework versão 1,0 Service Pack 1 e Service Pack 2, o grupo de códigos de zona da Internet recebe o conjunto de permissões Nothing.</span><span class="sxs-lookup"><span data-stu-id="d7875-123">In the .NET Framework version 1.0 Service Pack 1 and Service Pack 2, the Internet zone code group receives the Nothing permission set.</span></span> <span data-ttu-id="d7875-124">Em todas as outras versões do .NET Framework, o grupo de códigos de zona da Internet recebe as permissões da Internet definidas.</span><span class="sxs-lookup"><span data-stu-id="d7875-124">In all other releases of the .NET Framework, the Internet zone code group receives the Internet permissions set.</span></span>
>
> <span data-ttu-id="d7875-125">As permissões padrão concedidas em cada um desses conjuntos de permissão são listadas no tópico [Política de segurança padrão](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/03kwzyfc(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="d7875-125">The default permissions granted in each of these permission sets are listed in the [Default Security Policy](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/03kwzyfc(v=vs.100)) topic.</span></span> <span data-ttu-id="d7875-126">Dependendo das permissões que o aplicativo recebe, ele é executado corretamente ou gera uma exceção de segurança.</span><span class="sxs-lookup"><span data-stu-id="d7875-126">Depending on the permissions that the application receives, it either runs correctly or generates a security exception.</span></span>
>
> <span data-ttu-id="d7875-127">Muitos aplicativos Windows Forms serão implantados usando o ClickOnce.</span><span class="sxs-lookup"><span data-stu-id="d7875-127">Many Windows Forms applications will be deployed using ClickOnce.</span></span> <span data-ttu-id="d7875-128">As ferramentas usadas para gerar uma implantação do ClickOnce têm padrões de segurança diferentes do que o que foi discutido anteriormente.</span><span class="sxs-lookup"><span data-stu-id="d7875-128">The tools used for generating a ClickOnce deployment have different security defaults than what was discussed earlier.</span></span> <span data-ttu-id="d7875-129">Para obter mais informações, veja a seguinte discussão.</span><span class="sxs-lookup"><span data-stu-id="d7875-129">For more information, see the following discussion.</span></span>

<span data-ttu-id="d7875-130">As permissões reais concedidas ao seu aplicativo podem ser diferentes dos valores padrão, porque a política de segurança pode ser modificada. Isso significa que seu aplicativo pode ter permissão em um computador, mas não em outro.</span><span class="sxs-lookup"><span data-stu-id="d7875-130">The actual permissions granted to your application can be different from the default values, because the security policy can be modified; this means that your application can have permission on one computer, but not on another.</span></span>

## <a name="developing-a-more-secure-windows-forms-application"></a><span data-ttu-id="d7875-131">Desenvolvendo um aplicativo mais seguro dos Windows Forms</span><span class="sxs-lookup"><span data-stu-id="d7875-131">Developing a More Secure Windows Forms Application</span></span>

<span data-ttu-id="d7875-132">A segurança é importante em todas as etapas do desenvolvimento de aplicativos.</span><span class="sxs-lookup"><span data-stu-id="d7875-132">Security is important in all steps of application development.</span></span> <span data-ttu-id="d7875-133">Comece revisando e seguindo as [Diretrizes de codificação segura](../../standard/security/secure-coding-guidelines.md).</span><span class="sxs-lookup"><span data-stu-id="d7875-133">Start by reviewing and following the [Secure Coding Guidelines](../../standard/security/secure-coding-guidelines.md).</span></span>

<span data-ttu-id="d7875-134">Em seguida, decida se seu aplicativo deve ser executado em confiança total ou em confiança parcial.</span><span class="sxs-lookup"><span data-stu-id="d7875-134">Next, decide whether your application must run in full trust, or whether it should run in partial trust.</span></span> <span data-ttu-id="d7875-135">Executar o aplicativo em confiança total facilita o acesso a recursos no computador local, mas expõe seu aplicativo e os usuários a altos riscos de segurança, caso você não crie e desenvolva seu aplicativo estritamente de acordo com o tópico Diretrizes de codificação segura.</span><span class="sxs-lookup"><span data-stu-id="d7875-135">Running your application in full trust makes it easier to access resources on the local computer, but exposes your application and its users to high security risks if you do not design and develop your application strictly according to the Secure Coding Guidelines topic.</span></span> <span data-ttu-id="d7875-136">Executar o aplicativo em confiança parcial facilita o desenvolvimento de um aplicativo mais seguro e reduz muito o risco, mas exige mais planejamento sobre como implementar determinados recursos.</span><span class="sxs-lookup"><span data-stu-id="d7875-136">Running your application in partial trust makes it easier to develop a more secure application and reduces much risk, but requires more planning in how to implement certain features.</span></span>

<span data-ttu-id="d7875-137">Se você escolher a confiança parcial (isto é, os conjuntos de permissões de Internet ou de Intranet Local), decida como deseja que o aplicativo se comporte nesse ambiente.</span><span class="sxs-lookup"><span data-stu-id="d7875-137">If you choose partial trust (that is, either the Internet or Local Intranet permission sets), decide how you want your application to behave in this environment.</span></span> <span data-ttu-id="d7875-138">O Windows Forms fornece maneiras alternativas e mais seguras para implementar recursos quando em um ambiente semi-confiável.</span><span class="sxs-lookup"><span data-stu-id="d7875-138">Windows Forms provides alternative, more secure ways to implement features when in a semi-trusted environment.</span></span> <span data-ttu-id="d7875-139">Certas partes do seu aplicativo, como o acesso a dados, podem ser projetadas e escritas de maneiras diferentes para ambientes de confiança total e de confiança parcial.</span><span class="sxs-lookup"><span data-stu-id="d7875-139">Certain parts of your application, such as data access, can be designed and written differently for both partial trust and full trust environments.</span></span> <span data-ttu-id="d7875-140">Alguns recursos dos Windows Forms, como as configurações de aplicativo, são projetados para funcionar em confiança parcial.</span><span class="sxs-lookup"><span data-stu-id="d7875-140">Some Windows Forms features, such as application settings, are designed to work in partial trust.</span></span> <span data-ttu-id="d7875-141">Para obter mais informações, consulte [Visão geral de configurações de aplicativo](./advanced/application-settings-overview.md).</span><span class="sxs-lookup"><span data-stu-id="d7875-141">For more information, see [Application Settings Overview](./advanced/application-settings-overview.md).</span></span>

<span data-ttu-id="d7875-142">Se seu aplicativo precisa de mais permissões que as concedidas pela confiança parcial, mas você não deseja executar em confiança total, você pode executar em confiança parcial, declarando somente as permissões adicionais que são necessárias.</span><span class="sxs-lookup"><span data-stu-id="d7875-142">If your application needs more permissions than partial trust allows, but you do not want to run in full trust, you can run in partial trust while asserting only those additional permissions you need.</span></span> <span data-ttu-id="d7875-143">Por exemplo, se você deseja executar com confiança parcial, mas deve conceder a seu aplicativo acesso somente leitura a um diretório no sistema de arquivos do usuário, você pode solicitar <xref:System.Security.Permissions.FileIOPermission> somente para esse diretório.</span><span class="sxs-lookup"><span data-stu-id="d7875-143">For example, if you want to run in partial trust, but must grant your application read-only access to a directory on the user's file system, you can request <xref:System.Security.Permissions.FileIOPermission> only for that directory.</span></span> <span data-ttu-id="d7875-144">Se for usada corretamente, essa abordagem pode fornecer funcionalidade aumentada ao seu aplicativo e minimizar os riscos de segurança para seus usuários.</span><span class="sxs-lookup"><span data-stu-id="d7875-144">Used correctly, this approach can give your application increased functionality and minimize security risks to your users.</span></span>

<span data-ttu-id="d7875-145">Ao desenvolver um aplicativo que será executado em confiança parcial, mantenha o controle sobre quais permissões seu aplicativo deve executar e quais permissões seu aplicativo pode usar opcionalmente.</span><span class="sxs-lookup"><span data-stu-id="d7875-145">When you develop an application that will run in partial trust, keep track of what permissions your application must run and what permissions your application could optionally use.</span></span> <span data-ttu-id="d7875-146">Quando todas as permissões forem conhecidas, você deverá fazer uma solicitação declarativa de permissão no nível do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="d7875-146">When all the permissions are known, you should make a declarative request for permission at the application level.</span></span> <span data-ttu-id="d7875-147">A solicitação de permissões informa o .NET Framework tempo de execução sobre quais permissões seu aplicativo precisa e quais permissões ele não deseja especificamente.</span><span class="sxs-lookup"><span data-stu-id="d7875-147">Requesting permissions informs the .NET Framework run time about which permissions your application needs and which permissions it specifically does not want.</span></span> <span data-ttu-id="d7875-148">Para obter mais informações sobre a solicitação de permissões, consulte [Solicitando permissões](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/yd267cce(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="d7875-148">For more information about requesting permissions, see [Requesting Permissions](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/yd267cce(v=vs.100)).</span></span>

<span data-ttu-id="d7875-149">Ao solicitar permissões opcionais, você deverá tratar as exceções de segurança que serão geradas se o aplicativo realizar uma ação que exija permissões que não foram concedidas a ele.</span><span class="sxs-lookup"><span data-stu-id="d7875-149">When you request optional permissions, you must handle security exceptions that will be generated if your application performs an action that requires permissions not granted to it.</span></span> <span data-ttu-id="d7875-150">A manipulação apropriada do <xref:System.Security.SecurityException> garantirá que seu aplicativo possa continuar a operar.</span><span class="sxs-lookup"><span data-stu-id="d7875-150">Appropriate handling of the <xref:System.Security.SecurityException> will ensure that your application can continue to operate.</span></span> <span data-ttu-id="d7875-151">Seu aplicativo pode usar a exceção para determinar se um recurso deve ser desabilitado para o usuário.</span><span class="sxs-lookup"><span data-stu-id="d7875-151">Your application can use the exception to determine whether a feature should become disabled for the user.</span></span> <span data-ttu-id="d7875-152">Por exemplo, um aplicativo poderá desabilitar a opção de menu **Salvar** se a permissão de arquivo necessária não for concedida.</span><span class="sxs-lookup"><span data-stu-id="d7875-152">For example, an application can disable the **Save** menu option if the required file permission is not granted.</span></span>

<span data-ttu-id="d7875-153">Às vezes é difícil saber se você declarou todas as permissões apropriadas.</span><span class="sxs-lookup"><span data-stu-id="d7875-153">Sometimes, it is difficult to know if you have asserted all the appropriate permissions.</span></span> <span data-ttu-id="d7875-154">Uma chamada de método que parece inofensiva na superfície, por exemplo, pode acessar o sistema de arquivos em algum ponto durante sua execução.</span><span class="sxs-lookup"><span data-stu-id="d7875-154">A method call which looks innocuous on the surface, for example, may access the file system at some point during its execution.</span></span> <span data-ttu-id="d7875-155">Se você não implantar seu aplicativo com todas as permissões necessárias, poderá ser bem sucedido em teste, quando você depurá-lo na área de trabalho, mas falhar ao ser implantado.</span><span class="sxs-lookup"><span data-stu-id="d7875-155">If you do not deploy your application with all the required permissions, it may test fine when you debug it on your desktop, but fail when deployed.</span></span> <span data-ttu-id="d7875-156">O SDK .NET Framework 2,0 e o Visual Studio 2005 contêm ferramentas para calcular as permissões que um aplicativo precisa: a ferramenta de linha de comando MT. exe e o recurso Calculate Permissions do Visual Studio, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="d7875-156">Both the .NET Framework 2.0 SDK and Visual Studio 2005 contain tools for calculating the permissions an application needs: the MT.exe command line tool and the Calculate Permissions feature of Visual Studio, respectively.</span></span>

<span data-ttu-id="d7875-157">Os tópicos a seguir descrevem recursos adicionais de segurança dos Windows Forms.</span><span class="sxs-lookup"><span data-stu-id="d7875-157">The following topics describe additional Windows Forms security features.</span></span>

|<span data-ttu-id="d7875-158">Tópico</span><span class="sxs-lookup"><span data-stu-id="d7875-158">Topic</span></span>|<span data-ttu-id="d7875-159">Descrição</span><span class="sxs-lookup"><span data-stu-id="d7875-159">Description</span></span>|
|-----------|-----------------|
|<span data-ttu-id="d7875-160">- [Acesso mais seguro a arquivos e a dados nos Windows Forms](more-secure-file-and-data-access-in-windows-forms.md)</span><span class="sxs-lookup"><span data-stu-id="d7875-160">- [More Secure File and Data Access in Windows Forms](more-secure-file-and-data-access-in-windows-forms.md)</span></span>|<span data-ttu-id="d7875-161">Descreve como acessar arquivos e dados em um ambiente de confiança parcial.</span><span class="sxs-lookup"><span data-stu-id="d7875-161">Describes how to access files and data in a partial trust environment.</span></span>|
|<span data-ttu-id="d7875-162">- [Impressão mais segura nos Windows Forms](more-secure-printing-in-windows-forms.md)</span><span class="sxs-lookup"><span data-stu-id="d7875-162">- [More Secure Printing in Windows Forms](more-secure-printing-in-windows-forms.md)</span></span>|<span data-ttu-id="d7875-163">Descreve como acessar os recursos de impressão em um ambiente de confiança parcial.</span><span class="sxs-lookup"><span data-stu-id="d7875-163">Describes how to access printing features in a partial trust environment.</span></span>|
|<span data-ttu-id="d7875-164">- [Considerações adicionais sobre segurança nos Windows Forms](additional-security-considerations-in-windows-forms.md)</span><span class="sxs-lookup"><span data-stu-id="d7875-164">- [Additional Security Considerations in Windows Forms](additional-security-considerations-in-windows-forms.md)</span></span>|<span data-ttu-id="d7875-165">Descreve como realizar manipulação de janela, como usar a área de transferência e como fazer chamadas a código não gerenciado em um ambiente de confiança parcial.</span><span class="sxs-lookup"><span data-stu-id="d7875-165">Describes performing window manipulation, using the Clipboard, and making calls to unmanaged code in a partial trust environment.</span></span>|

### <a name="deploying-an-application-with-the-appropriate-permissions"></a><span data-ttu-id="d7875-166">Implantando um aplicativo com as permissões apropriadas</span><span class="sxs-lookup"><span data-stu-id="d7875-166">Deploying an Application with the Appropriate Permissions</span></span>

<span data-ttu-id="d7875-167">O meio mais comum de implantar um aplicativo Windows Forms em um computador cliente é com o ClickOnce, uma tecnologia de implantação que descreve todos os componentes que seu aplicativo precisa executar.</span><span class="sxs-lookup"><span data-stu-id="d7875-167">The most common means of deploying a Windows Forms application to a client computer is with ClickOnce, a deployment technology that describes all of the components your application needs to run.</span></span> <span data-ttu-id="d7875-168">O ClickOnce usa arquivos XML chamados manifestos para descrever os assemblies e arquivos que compõem seu aplicativo e também as permissões que seu aplicativo requer.</span><span class="sxs-lookup"><span data-stu-id="d7875-168">ClickOnce uses XML files called manifests to describe the assemblies and files that make up your application, and also the permissions your application requires.</span></span>

<span data-ttu-id="d7875-169">O ClickOnce tem duas tecnologias para solicitar permissões elevadas em um computador cliente.</span><span class="sxs-lookup"><span data-stu-id="d7875-169">ClickOnce has two technologies for requesting elevated permissions on a client computer.</span></span> <span data-ttu-id="d7875-170">As duas tecnologias contam com o uso de certificados Authenticode.</span><span class="sxs-lookup"><span data-stu-id="d7875-170">Both technologies rely on the use of Authenticode certificates.</span></span> <span data-ttu-id="d7875-171">Os certificados ajudam a fornecer alguma garantia para os usuários de que o aplicativo é proveniente de uma fonte confiável.</span><span class="sxs-lookup"><span data-stu-id="d7875-171">The certificates help provide some assurance to your users that the application has come from a trusted source.</span></span>

<span data-ttu-id="d7875-172">A tabela a seguir descreve essas tecnologias.</span><span class="sxs-lookup"><span data-stu-id="d7875-172">The following table describes these technologies.</span></span>

|<span data-ttu-id="d7875-173">Tecnologia de permissões elevadas</span><span class="sxs-lookup"><span data-stu-id="d7875-173">Elevated permission technology</span></span>|<span data-ttu-id="d7875-174">Descrição</span><span class="sxs-lookup"><span data-stu-id="d7875-174">Description</span></span>|
|------------------------------------|-----------------|
|<span data-ttu-id="d7875-175">Elevação de permissões</span><span class="sxs-lookup"><span data-stu-id="d7875-175">Permission Elevation</span></span>|<span data-ttu-id="d7875-176">Exibe ao usuário uma caixa de diálogo de segurança na primeira vez que seu aplicativo é executado.</span><span class="sxs-lookup"><span data-stu-id="d7875-176">Prompts the user with a security dialog box the first time your application runs.</span></span> <span data-ttu-id="d7875-177">A caixa de diálogo de **Elevação de permissões** informa ao usuário sobre quem publicou o aplicativo, para que o usuário possa tomar uma decisão informada sobre se deve conceder confiança adicional</span><span class="sxs-lookup"><span data-stu-id="d7875-177">The **Permission Elevation** dialog box informs the user about who published the application, so that the user can make an informed decision about whether to grant it additional trust</span></span>|
|<span data-ttu-id="d7875-178">Implantação de aplicativo confiável</span><span class="sxs-lookup"><span data-stu-id="d7875-178">Trusted Application Deployment</span></span>|<span data-ttu-id="d7875-179">Envolve um administrador do sistema realizando a instalação de um certificado Authenticode de editor em um computador cliente uma única vez.</span><span class="sxs-lookup"><span data-stu-id="d7875-179">Involves a system administrator performing a one-time installation of a publisher's Authenticode certificate on a client computer.</span></span> <span data-ttu-id="d7875-180">Daí em diante, todos os aplicativos assinados com o certificado serão considerados confiáveis e poderão ser executados em confiança total no computador local, sem avisos adicionais.</span><span class="sxs-lookup"><span data-stu-id="d7875-180">From that point on, any applications signed with the certificate are regarded as trusted, and can run at full trust on the local computer without additional prompting.</span></span>|

<span data-ttu-id="d7875-181">A tecnologia escolhida dependerá de seu ambiente de implantação.</span><span class="sxs-lookup"><span data-stu-id="d7875-181">Which technology you choose will depend on your deployment environment.</span></span> <span data-ttu-id="d7875-182">Para obter mais informações, consulte [Escolhendo uma estratégia de implantação do ClickOnce](/visualstudio/deployment/choosing-a-clickonce-deployment-strategy).</span><span class="sxs-lookup"><span data-stu-id="d7875-182">For more information, see [Choosing a ClickOnce Deployment Strategy](/visualstudio/deployment/choosing-a-clickonce-deployment-strategy).</span></span>

<span data-ttu-id="d7875-183">Por padrão, os aplicativos ClickOnce implantados usando o Visual Studio ou as ferramentas SDK do .NET Framework (Mage. exe e MageUI. exe) são configurados para serem executados em um computador cliente com confiança total.</span><span class="sxs-lookup"><span data-stu-id="d7875-183">By default, ClickOnce applications deployed using either Visual Studio or the .NET Framework SDK tools (Mage.exe and MageUI.exe) are configured to run on a client computer that has Full Trust.</span></span> <span data-ttu-id="d7875-184">Se você estiver implantando seu aplicativo usando a confiança parcial ou usando somente algumas permissões adicionais, você terá que alterar esse padrão.</span><span class="sxs-lookup"><span data-stu-id="d7875-184">If you are deploying your application by using partial trust or by using only some additional permissions, you will have to change this default.</span></span> <span data-ttu-id="d7875-185">Isso pode ser feito com o Visual Studio ou com a ferramenta SDK do .NET Framework MageUI. exe quando você configura a implantação.</span><span class="sxs-lookup"><span data-stu-id="d7875-185">You can do this with either Visual Studio or the .NET Framework SDK tool MageUI.exe when you configure your deployment.</span></span> <span data-ttu-id="d7875-186">Para obter mais informações sobre como usar o MageUI. exe, [consulte Passo a passos: Implantando manualmente um aplicativo](/visualstudio/deployment/walkthrough-manually-deploying-a-clickonce-application)ClickOnce.</span><span class="sxs-lookup"><span data-stu-id="d7875-186">For more information about how to use MageUI.exe, see [Walkthrough: Manually deploying a ClickOnce application](/visualstudio/deployment/walkthrough-manually-deploying-a-clickonce-application).</span></span>  <span data-ttu-id="d7875-187">Consulte [também como: Defina permissões personalizadas para um aplicativo](https://docs.microsoft.com/previous-versions/visualstudio/visual-studio-2012/hafybdaa(v=vs.110)) ClickOnce ou [como: Defina permissões personalizadas para um aplicativo](/visualstudio/deployment/how-to-set-custom-permissions-for-a-clickonce-application)ClickOnce.</span><span class="sxs-lookup"><span data-stu-id="d7875-187">Also see [How to: Set Custom Permissions for a ClickOnce Application](https://docs.microsoft.com/previous-versions/visualstudio/visual-studio-2012/hafybdaa(v=vs.110)) or [How to: Set Custom Permissions for a ClickOnce Application](/visualstudio/deployment/how-to-set-custom-permissions-for-a-clickonce-application).</span></span>

<span data-ttu-id="d7875-188">Para obter mais informações sobre os aspectos de segurança do ClickOnce e a elevação de permissões, consulte [Securing ClickOnce Applications](/visualstudio/deployment/securing-clickonce-applications).</span><span class="sxs-lookup"><span data-stu-id="d7875-188">For more information about the security aspects of ClickOnce and Permission Elevation, see [Securing ClickOnce Applications](/visualstudio/deployment/securing-clickonce-applications).</span></span> <span data-ttu-id="d7875-189">Para obter mais informações sobre a implantação de aplicativo confiável, consulte [Visão geral da implantação de aplicativos confiáveis](/visualstudio/deployment/trusted-application-deployment-overview).</span><span class="sxs-lookup"><span data-stu-id="d7875-189">For more information about Trusted Application Deployment, see [Trusted Application Deployment Overview](/visualstudio/deployment/trusted-application-deployment-overview).</span></span>

### <a name="testing-the-application"></a><span data-ttu-id="d7875-190">Testando o aplicativo</span><span class="sxs-lookup"><span data-stu-id="d7875-190">Testing the Application</span></span>

<span data-ttu-id="d7875-191">Se você tiver implantado seu aplicativo Windows Forms usando o Visual Studio, poderá habilitar a depuração em confiança parcial ou um conjunto de permissões restritos do ambiente de desenvolvimento.</span><span class="sxs-lookup"><span data-stu-id="d7875-191">If you have deployed your Windows Forms application by using Visual Studio, you can enable debugging in partial trust or a restricted permission set from the development environment.</span></span>  <span data-ttu-id="d7875-192">Consulte [também como: Depurar um aplicativo ClickOnce com permissões restritas](/visualstudio/deployment/how-to-debug-a-clickonce-application-with-restricted-permissions).</span><span class="sxs-lookup"><span data-stu-id="d7875-192">Also see [How to: Debug a ClickOnce Application with Restricted Permissions](/visualstudio/deployment/how-to-debug-a-clickonce-application-with-restricted-permissions).</span></span>

## <a name="see-also"></a><span data-ttu-id="d7875-193">Consulte também</span><span class="sxs-lookup"><span data-stu-id="d7875-193">See also</span></span>

- [<span data-ttu-id="d7875-194">Segurança do Windows Forms</span><span class="sxs-lookup"><span data-stu-id="d7875-194">Windows Forms Security</span></span>](windows-forms-security.md)
- [<span data-ttu-id="d7875-195">Noções Básicas da Segurança de Acesso do Código</span><span class="sxs-lookup"><span data-stu-id="d7875-195">Code Access Security Basics</span></span>](../misc/code-access-security-basics.md)
- [<span data-ttu-id="d7875-196">Segurança e implantação do ClickOnce</span><span class="sxs-lookup"><span data-stu-id="d7875-196">ClickOnce Security and Deployment</span></span>](/visualstudio/deployment/clickonce-security-and-deployment)
- [<span data-ttu-id="d7875-197">Visão geral da implantação de aplicativos confiáveis</span><span class="sxs-lookup"><span data-stu-id="d7875-197">Trusted Application Deployment Overview</span></span>](/visualstudio/deployment/trusted-application-deployment-overview)
- [<span data-ttu-id="d7875-198">Mage.exe (Manifest Generation and Editing Tool)</span><span class="sxs-lookup"><span data-stu-id="d7875-198">Mage.exe (Manifest Generation and Editing Tool)</span></span>](../tools/mage-exe-manifest-generation-and-editing-tool.md)
- [<span data-ttu-id="d7875-199">MageUI.exe (Manifest Generation and Editing Tool, cliente gráfico)</span><span class="sxs-lookup"><span data-stu-id="d7875-199">MageUI.exe (Manifest Generation and Editing Tool, Graphical Client)</span></span>](../tools/mageui-exe-manifest-generation-and-editing-tool-graphical-client.md)
