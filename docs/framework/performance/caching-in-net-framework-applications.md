---
title: Armazenamento em cache em aplicativos do .NET Framework
ms.date: 03/30/2017
helpviewer_keywords:
- ASP.NET caching
- caching [.NET Framework]
- caching [ASP.NET]
ms.assetid: c4b47ee0-4b82-4124-9bce-818088385e34
author: tdykstra
ms.openlocfilehash: 4d9451f99b0253d0a4de6550b64fedd7fdfeda77
ms.sourcegitcommit: 2eceb05f1a5bb261291a1f6a91c5153727ac1c19
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/04/2018
ms.locfileid: "43558028"
---
# <a name="caching-in-net-framework-applications"></a><span data-ttu-id="c2623-102">Armazenamento em cache em aplicativos do .NET Framework</span><span class="sxs-lookup"><span data-stu-id="c2623-102">Caching in .NET Framework Applications</span></span>
<span data-ttu-id="c2623-103">O cache permite que você armazene dados na memória para acesso rápido.</span><span class="sxs-lookup"><span data-stu-id="c2623-103">Caching enables you to store data in memory for rapid access.</span></span> <span data-ttu-id="c2623-104">Quando os dados são acessados novamente, os aplicativos podem obter os dados do cache, em vez de recuperá-los da fonte original.</span><span class="sxs-lookup"><span data-stu-id="c2623-104">When the data is accessed again, applications can get the data from the cache instead of retrieving it from the original source.</span></span> <span data-ttu-id="c2623-105">Isso pode melhorar o desempenho e a escalabilidade.</span><span class="sxs-lookup"><span data-stu-id="c2623-105">This can improve performance and scalability.</span></span> <span data-ttu-id="c2623-106">Além disso, o cache torna os dados disponíveis quando a fonte de dados está temporariamente indisponível.</span><span class="sxs-lookup"><span data-stu-id="c2623-106">In addition, caching makes data available when the data source is temporarily unavailable.</span></span>  
  
 <span data-ttu-id="c2623-107">O .NET Framework fornece a funcionalidade de cache, que pode ser usada para melhorar o desempenho e a escalabilidade dos aplicativos cliente e de servidor do Windows, incluindo o ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="c2623-107">The .NET Framework provides caching functionality that you can use to improve the performance and scalability of both Windows client and server applications, including ASP.NET.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="c2623-108">No [!INCLUDE[net_v35_short](../../../includes/net-v35-short-md.md)] e em versões anteriores, o ASP.NET fornecia uma implementação de cache na memória no namespace <xref:System.Web.Caching>.</span><span class="sxs-lookup"><span data-stu-id="c2623-108">In the [!INCLUDE[net_v35_short](../../../includes/net-v35-short-md.md)] and earlier versions, ASP.NET provided an in-memory cache implementation in the <xref:System.Web.Caching> namespace.</span></span> <span data-ttu-id="c2623-109">Nas versões anteriores do [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)], o cache estava disponível apenas no namespace <xref:System.Web> e, portanto, exigia uma dependência das classes do ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="c2623-109">In previous versions of the [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)], caching was available only in the <xref:System.Web> namespace and therefore required a dependency on ASP.NET classes.</span></span> <span data-ttu-id="c2623-110">No .NET Framework 4, o namespace <xref:System.Runtime.Caching> contém APIs projetadas para aplicativos Web e não Web.</span><span class="sxs-lookup"><span data-stu-id="c2623-110">In the .NET Framework 4, the <xref:System.Runtime.Caching> namespace contains APIs that are designed for both Web and non-Web applications.</span></span>  
  
## <a name="caching-data"></a><span data-ttu-id="c2623-111">Armazenando dados em cache</span><span class="sxs-lookup"><span data-stu-id="c2623-111">Caching Data</span></span>  
 <span data-ttu-id="c2623-112">É possível armazenar as informações em cache usando classes no namespace <xref:System.Runtime.Caching>.</span><span class="sxs-lookup"><span data-stu-id="c2623-112">You can cache information by using classes in the <xref:System.Runtime.Caching> namespace.</span></span> <span data-ttu-id="c2623-113">As classes de cache desse namespace fornecem os seguintes recursos:</span><span class="sxs-lookup"><span data-stu-id="c2623-113">The caching classes in this namespace provide the following features:</span></span>  
  
-   <span data-ttu-id="c2623-114">Tipos abstratos que fornecem a base para a criação de implementações personalizadas de cache.</span><span class="sxs-lookup"><span data-stu-id="c2623-114">Abstract types that provide the foundation for creating custom cache implementations.</span></span>  
  
-   <span data-ttu-id="c2623-115">Uma implementação concreta de cache de objetos na memória.</span><span class="sxs-lookup"><span data-stu-id="c2623-115">A concrete in-memory object cache implementation.</span></span>  
  
 <span data-ttu-id="c2623-116">A classe de cache de base abstrata (<xref:System.Runtime.Caching.ObjectCache>) define as seguintes tarefas de cache:</span><span class="sxs-lookup"><span data-stu-id="c2623-116">The abstract base caching class (<xref:System.Runtime.Caching.ObjectCache>) defines the following caching tasks:</span></span>  
  
-   <span data-ttu-id="c2623-117">Criação e gerenciamento de entradas de cache.</span><span class="sxs-lookup"><span data-stu-id="c2623-117">Creating and managing cache entries.</span></span>  
  
-   <span data-ttu-id="c2623-118">Especificação de informações de expiração e remoção.</span><span class="sxs-lookup"><span data-stu-id="c2623-118">Specifying expiration and eviction information.</span></span>  
  
-   <span data-ttu-id="c2623-119">Gatilho de eventos que são acionados em resposta a alterações nas entradas de cache.</span><span class="sxs-lookup"><span data-stu-id="c2623-119">Triggering events that are raised in response to changes in cache entries.</span></span>  
  
 <span data-ttu-id="c2623-120">A classe <xref:System.Runtime.Caching.MemoryCache> é uma implementação de cache de objetos na memória da classe <xref:System.Runtime.Caching.ObjectCache>.</span><span class="sxs-lookup"><span data-stu-id="c2623-120">The <xref:System.Runtime.Caching.MemoryCache> class is an in-memory object cache implementation of the <xref:System.Runtime.Caching.ObjectCache> class.</span></span> <span data-ttu-id="c2623-121">É possível usar a classe <xref:System.Runtime.Caching.MemoryCache> para a maioria das tarefas de cache.</span><span class="sxs-lookup"><span data-stu-id="c2623-121">You can use the <xref:System.Runtime.Caching.MemoryCache> class for most caching tasks.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="c2623-122">A classe <xref:System.Runtime.Caching.MemoryCache> é modelada no objeto de cache do ASP.NET definido no namespace <xref:System.Web.Caching>.</span><span class="sxs-lookup"><span data-stu-id="c2623-122">The <xref:System.Runtime.Caching.MemoryCache> class is modeled on the ASP.NET cache object that is defined in the <xref:System.Web.Caching> namespace.</span></span> <span data-ttu-id="c2623-123">Portanto, a lógica de cache interna é semelhante à lógica fornecida em versões anteriores do ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="c2623-123">Therefore, the internal caching logic similar to the logic that was provided in earlier versions of ASP.NET.</span></span>  
  
 <span data-ttu-id="c2623-124">Para obter um exemplo de como usar o cache em um aplicativo WPF, consulte [Passo a passo: Armazenando dados de aplicativo em cache em um aplicativo WPF](../../../docs/framework/wpf/advanced/walkthrough-caching-application-data-in-a-wpf-application.md).</span><span class="sxs-lookup"><span data-stu-id="c2623-124">For an example of how to use to caching in a WPF application, see [Walkthrough: Caching Application Data in a WPF Application](../../../docs/framework/wpf/advanced/walkthrough-caching-application-data-in-a-wpf-application.md).</span></span>  
  
## <a name="caching-in-aspnet-applications"></a><span data-ttu-id="c2623-125">Armazenando em cache nos aplicativos ASP.NET</span><span class="sxs-lookup"><span data-stu-id="c2623-125">Caching in ASP.NET Applications</span></span>  
 <span data-ttu-id="c2623-126">As classes de cache do namespace <xref:System.Runtime.Caching> fornecem funcionalidade de armazenamento de dados em cache no ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="c2623-126">The caching classes in the <xref:System.Runtime.Caching> namespace provide functionality for caching data in ASP.NET.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="c2623-127">Se o aplicativo for direcionado para o [!INCLUDE[net_v35_short](../../../includes/net-v35-short-md.md)] ou anterior, você deverá usar as classes de cache definidas no namespace <xref:System.Web.Caching>.</span><span class="sxs-lookup"><span data-stu-id="c2623-127">If your application targets the [!INCLUDE[net_v35_short](../../../includes/net-v35-short-md.md)] or earlier, you must use the caching classes that are defined in the <xref:System.Web.Caching> namespace.</span></span> <span data-ttu-id="c2623-128">Para obter mais informações, consulte [Visão geral do cache do ASP.NET](https://msdn.microsoft.com/library/5ec28012-4972-4dc3-b3e8-9d20401fe11d).</span><span class="sxs-lookup"><span data-stu-id="c2623-128">For more information, see [ASP.NET Caching Overview](https://msdn.microsoft.com/library/5ec28012-4972-4dc3-b3e8-9d20401fe11d).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="c2623-129">Ao desenvolver novos aplicativos, recomendamos o uso da classe <xref:System.Runtime.Caching.MemoryCache>.</span><span class="sxs-lookup"><span data-stu-id="c2623-129">When you develop new applications, we recommend that you use the <xref:System.Runtime.Caching.MemoryCache> class.</span></span> <span data-ttu-id="c2623-130">A API fornecida no namespace <xref:System.Runtime.Caching> é como a API fornecida no namespace <xref:System.Web.Caching.Cache>.</span><span class="sxs-lookup"><span data-stu-id="c2623-130">The API that is provided in the <xref:System.Runtime.Caching> namespace is like the API that is provided in the <xref:System.Web.Caching.Cache> namespace.</span></span> <span data-ttu-id="c2623-131">Portanto, a API será familiar se você usou o cache em versões anteriores do ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="c2623-131">Therefore, the API will be familiar if you used caching in earlier versions of ASP.NET.</span></span> <span data-ttu-id="c2623-132">Para obter um exemplo de como usar o cache em aplicativos ASP.NET, consulte [Passo a passo: Armazenando dados de aplicativo em cache no ASP.NET](https://msdn.microsoft.com/library/942236f6-0138-4aaf-af71-a5ea451a1e23).</span><span class="sxs-lookup"><span data-stu-id="c2623-132">For an example of how to use caching in ASP.NET applications, see [Walkthrough: Caching Application Data in ASP.NET](https://msdn.microsoft.com/library/942236f6-0138-4aaf-af71-a5ea451a1e23).</span></span>  
  
### <a name="output-caching"></a><span data-ttu-id="c2623-133">Cache de saída</span><span class="sxs-lookup"><span data-stu-id="c2623-133">Output Caching</span></span>  
 <span data-ttu-id="c2623-134">Para armazenar dados de aplicativo em cache manualmente, use a classe <xref:System.Runtime.Caching.MemoryCache> no ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="c2623-134">To manually cache application data, you can use the <xref:System.Runtime.Caching.MemoryCache> class in ASP.NET.</span></span> <span data-ttu-id="c2623-135">O ASP.NET também dá suporte ao cache de saída, que armazena a saída gerada de páginas, controles e respostas HTTP na memória.</span><span class="sxs-lookup"><span data-stu-id="c2623-135">ASP.NET also supports output caching, which stores the generated output of pages, controls, and HTTP responses in memory.</span></span> <span data-ttu-id="c2623-136">É possível configurar o cache de saída de forma declarativa em uma página da Web ASP.NET ou usando as configurações do arquivo Web.config.</span><span class="sxs-lookup"><span data-stu-id="c2623-136">You can configure output caching declaratively in an ASP.NET Web page or by using settings in the Web.config file.</span></span> <span data-ttu-id="c2623-137">Para obter mais informações, consulte [Elemento outputCache para armazenar em cache (esquema de configurações do ASP.NET)](https://msdn.microsoft.com/library/47cd2b47-316f-4dfd-bbf8-539be3066fee).</span><span class="sxs-lookup"><span data-stu-id="c2623-137">For more information, see [outputCache Element for caching (ASP.NET Settings Schema)](https://msdn.microsoft.com/library/47cd2b47-316f-4dfd-bbf8-539be3066fee).</span></span>  
  
 <span data-ttu-id="c2623-138">O ASP.NET permite estender o cache de saída criando provedores de cache de saída personalizados.</span><span class="sxs-lookup"><span data-stu-id="c2623-138">ASP.NET lets you extend output caching by creating custom output-cache providers.</span></span> <span data-ttu-id="c2623-139">Usando provedores personalizados, você pode armazenar o conteúdo armazenado em cache usando outros dispositivos de armazenamento, como discos, armazenamento em nuvem e mecanismos de cache distribuído.</span><span class="sxs-lookup"><span data-stu-id="c2623-139">By using custom providers, you can store cached content using other storage devices such as disks, cloud storage, and distributed cache engines.</span></span> <span data-ttu-id="c2623-140">Para criar um provedor de cache de saída personalizado, crie uma classe que é derivada da classe <xref:System.Web.Caching.OutputCacheProvider> e configure o aplicativo para usar o provedor de cache de saída personalizado.</span><span class="sxs-lookup"><span data-stu-id="c2623-140">To create a custom output cache provider, you create a class that derives from the <xref:System.Web.Caching.OutputCacheProvider> class and configure the application to use the custom output cache provider.</span></span>  
  
## <a name="caching-in-wcf-rest-services"></a><span data-ttu-id="c2623-141">Armazenando em cache nos serviços REST do WCF</span><span class="sxs-lookup"><span data-stu-id="c2623-141">Caching in WCF REST Services</span></span>  
 <span data-ttu-id="c2623-142">Para os serviços REST do WCF, o .NET Framework permite aproveitar o cache de saída declarativo disponível no ASP.NET.</span><span class="sxs-lookup"><span data-stu-id="c2623-142">For WCF REST services, the .NET Framework enables you to take advantage of the declarative output caching that is available in ASP.NET.</span></span> <span data-ttu-id="c2623-143">Isso permite armazenar em cache as respostas das operações de serviço REST do WCF.</span><span class="sxs-lookup"><span data-stu-id="c2623-143">This enables you to cache responses from your WCF REST service operations.</span></span> <span data-ttu-id="c2623-144">Quando um usuário envia uma solicitação HTTP GET para um serviço que está configurado para armazenar em cache, o ASP.NET envia a resposta armazenada em cache novamente e o método de serviço não é chamado.</span><span class="sxs-lookup"><span data-stu-id="c2623-144">When a user sends an HTTP GET request to a service that is configured for caching, ASP.NET sends back the cached response, and the service method is not called.</span></span> <span data-ttu-id="c2623-145">Depois que o cache expirar, na próxima vez que um usuário enviar uma solicitação HTTP GET, o método de serviço será chamado e a resposta será armazenada em cache novamente.</span><span class="sxs-lookup"><span data-stu-id="c2623-145">After the cache expires, the next time that a user sends an HTTP GET request, your service method is called and the response is again cached.</span></span>  
  
 <span data-ttu-id="c2623-146">O .NET Framework também permite implementar o cache de HTTP GET condicional.</span><span class="sxs-lookup"><span data-stu-id="c2623-146">The .NET Framework also enables you to implement conditional HTTP GET caching.</span></span> <span data-ttu-id="c2623-147">Em cenários REST, uma solicitação de HTTP GET condicional é geralmente usada pelos serviços para implementar o cache inteligente de HTTP, conforme descrito na [Especificação de HTTP](https://go.microsoft.com/fwlink/?LinkId=165800).</span><span class="sxs-lookup"><span data-stu-id="c2623-147">In REST scenarios, a conditional HTTP GET request is often used by services to implement intelligent HTTP caching as described in the [HTTP Specification](https://go.microsoft.com/fwlink/?LinkId=165800).</span></span> <span data-ttu-id="c2623-148">Para obter mais informações, consulte [Suporte ao cache em serviços Web HTTP do WCF](https://go.microsoft.com/fwlink/?LinkId=184598).</span><span class="sxs-lookup"><span data-stu-id="c2623-148">For more information, see [Caching Support for WCF Web HTTP Services](https://go.microsoft.com/fwlink/?LinkId=184598).</span></span>  
  
## <a name="extending-caching-in-the-net-framework"></a><span data-ttu-id="c2623-149">Estendendo o cache no .NET Framework</span><span class="sxs-lookup"><span data-stu-id="c2623-149">Extending Caching in the .NET Framework</span></span>  
 <span data-ttu-id="c2623-150">O cache do .NET Framework foi projetado para ser extensível.</span><span class="sxs-lookup"><span data-stu-id="c2623-150">Caching in the .NET Framework is designed to be extensible.</span></span> <span data-ttu-id="c2623-151">A classe <xref:System.Runtime.Caching.ObjectCache> permite criar uma implementação personalizada de cache.</span><span class="sxs-lookup"><span data-stu-id="c2623-151">The <xref:System.Runtime.Caching.ObjectCache> class enables you to create a custom cache implementation.</span></span> <span data-ttu-id="c2623-152">Essa classe fornece os membros que estão disponíveis para todos os aplicativos gerenciados, incluindo o Windows Forms, o WPF (Windows Presentation Foundation) e o WCF (Windows Communications Foundation).</span><span class="sxs-lookup"><span data-stu-id="c2623-152">This class provides members that are available to all managed applications, including Windows Forms, Windows Presentation Foundation (WPF), and Windows Communications Foundation (WCF).</span></span> <span data-ttu-id="c2623-153">Você pode fazer isso para criar uma classe de cache que usa outro mecanismo de armazenamento ou se desejar ter um controle granular sobre as operações de cache.</span><span class="sxs-lookup"><span data-stu-id="c2623-153">You might do this in order to create a cache class that uses a different storage mechanism, or if you want granular control over cache operations.</span></span>  
  
 <span data-ttu-id="c2623-154">Para estender o cache, faça o seguinte:</span><span class="sxs-lookup"><span data-stu-id="c2623-154">To extend caching you can do the following:</span></span>  
  
-   <span data-ttu-id="c2623-155">Crie uma classe personalizada que é derivada da classe <xref:System.Runtime.Caching.ObjectCache> e, em seguida, forneça uma implementação personalizada de cache na classe derivada.</span><span class="sxs-lookup"><span data-stu-id="c2623-155">Create a custom class that derives from the <xref:System.Runtime.Caching.ObjectCache> class and then provide a custom cache implementation in the derived class.</span></span>  
  
-   <span data-ttu-id="c2623-156">Crie uma classe que é derivada da classe <xref:System.Runtime.Caching.MemoryCache> e personalize ou estenda a classe derivada.</span><span class="sxs-lookup"><span data-stu-id="c2623-156">Create a class that derives from <xref:System.Runtime.Caching.MemoryCache> class and customize or extend the derived class.</span></span> <span data-ttu-id="c2623-157">Para obter um exemplo de como fazer isso, consulte [Armazenando dados de aplicativo em cache usando vários objetos de cache em um aplicativo ASP.NET](https://blogs.msdn.com/aspnetue/archive/2010/03/22/caching-application-data-by-using-multiple-cache-objects-in-an-asp-net-application.aspx).</span><span class="sxs-lookup"><span data-stu-id="c2623-157">For an example of how to do this, see [Caching Application Data by Using Multiple Cache Objects in an ASP.NET Application](https://blogs.msdn.com/aspnetue/archive/2010/03/22/caching-application-data-by-using-multiple-cache-objects-in-an-asp-net-application.aspx).</span></span>  
  
-   <span data-ttu-id="c2623-158">Crie uma classe que é derivada da classe <xref:System.Web.Caching.OutputCacheProvider> e configure o aplicativo para usar o provedor de cache de saída personalizado.</span><span class="sxs-lookup"><span data-stu-id="c2623-158">Create a class that derives from the <xref:System.Web.Caching.OutputCacheProvider> class and configure the application to use the custom output cache provider.</span></span>  
  
 <span data-ttu-id="c2623-159">Para obter mais informações, consulte a entrada [Extensible Output Caching with ASP.NET 4 (VS 2010 and .NET 4.0 Series)](https://go.microsoft.com/fwlink/?LinkId=185772) (Cache de saída extensível com o ASP.NET 4 [VS 2010 e Série do .NET 4.0]) no blog de Scott Guthrie.</span><span class="sxs-lookup"><span data-stu-id="c2623-159">For more information, see the entry [Extensible Output Caching with ASP.NET 4 (VS 2010 and .NET 4.0 Series)](https://go.microsoft.com/fwlink/?LinkId=185772) on Scott Guthrie's blog.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="c2623-160">Consulte também</span><span class="sxs-lookup"><span data-stu-id="c2623-160">See Also</span></span>  
 <xref:System.Runtime.Caching.ObjectCache>  
 <xref:System.Runtime.Caching.MemoryCache>  
 [<span data-ttu-id="c2623-161">Passo a passo: armazenando dados de aplicativo em cache em um aplicativo WPF</span><span class="sxs-lookup"><span data-stu-id="c2623-161">Walkthrough: Caching Application Data in a WPF Application</span></span>](../../../docs/framework/wpf/advanced/walkthrough-caching-application-data-in-a-wpf-application.md)  
 [<span data-ttu-id="c2623-162">Passo a passo: Armazenando dados de aplicativo em cache no ASP.NET</span><span class="sxs-lookup"><span data-stu-id="c2623-162">Walkthrough: Caching Application Data in ASP.NET</span></span>](https://msdn.microsoft.com/library/942236f6-0138-4aaf-af71-a5ea451a1e23)
