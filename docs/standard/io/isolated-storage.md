---
title: Armazenamentos isolado
description: Explore o armazenamento isolado, que é um mecanismo de armazenamento de dados que fornece isolamento & segurança definindo maneiras padronizadas de associar código a dados salvos.
ms.date: 03/30/2017
ms.technology: dotnet-standard
helpviewer_keywords:
- data storage using isolated storage
- stores
- storing data using isolated storage
- isolated storage
- location of isolated storage in file system
- standardizing storage systems
- storing data using isolated storage, when not to use
- code, isolated storage
- isolated storage, options
- data storage using isolated storage, when not to use
- storing data using isolated storage, options
- isolated storage, when not to use
- data storage using isolated storage, options
- isolation
ms.assetid: aff939d7-9e49-46f2-a8cd-938d3020e94e
ms.openlocfilehash: 4289b809d9a401de92c74063a42216f3051543f6
ms.sourcegitcommit: 7588b1f16b7608bc6833c05f91ae670c22ef56f8
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 11/02/2020
ms.locfileid: "93188556"
---
# <a name="isolated-storage"></a><span data-ttu-id="12e1c-103">Armazenamento isolado</span><span class="sxs-lookup"><span data-stu-id="12e1c-103">Isolated storage</span></span>

<span data-ttu-id="12e1c-104"> Para aplicativos desktop, o armazenamento isolado é um mecanismo de armazenamento de dados que proporciona isolamento e segurança ao definir formas padronizadas de associar código a dados salvos.</span><span class="sxs-lookup"><span data-stu-id="12e1c-104">For desktop apps, isolated storage is a data storage mechanism that provides isolation and safety by defining standardized ways of associating code with saved data.</span></span> <span data-ttu-id="12e1c-105">A padronização também fornece outros benefícios.</span><span class="sxs-lookup"><span data-stu-id="12e1c-105">Standardization provides other benefits as well.</span></span> <span data-ttu-id="12e1c-106">Os administradores podem usar as ferramentas desenvolvidas para manipular armazenamentos isolados para configurar espaço de armazenamento de arquivos, definir políticas de segurança e excluir dados não utilizados.</span><span class="sxs-lookup"><span data-stu-id="12e1c-106">Administrators can use tools designed to manipulate isolated storage to configure file storage space, set security policies, and delete unused data.</span></span> <span data-ttu-id="12e1c-107">Com armazenamentos isolados, seu código não precisa mais de caminhos exclusivos para especificar locais seguros na sistema de arquivos e os dados são protegidos de outros aplicativos que só têm acesso a armazenamentos isolados.</span><span class="sxs-lookup"><span data-stu-id="12e1c-107">With isolated storage, your code no longer needs unique paths to specify safe locations in the file system, and data is protected from other applications that only have isolated storage access.</span></span> <span data-ttu-id="12e1c-108">Informações embutidas em código que indicam onde a área de armazenamento de um aplicativo se encontra são desnecessárias.</span><span class="sxs-lookup"><span data-stu-id="12e1c-108">Hard-coded information that indicates where an application's storage area is located is unnecessary.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="12e1c-109">O armazenamento isolado não está disponível para aplicativos da loja do Windows 8. x.</span><span class="sxs-lookup"><span data-stu-id="12e1c-109">Isolated storage is not available for Windows 8.x Store apps.</span></span> <span data-ttu-id="12e1c-110">Em vez disso, use as classes de dados de aplicativos nos namespaces `Windows.Storage` incluídos na API do Windows Runtime para armazenar dados e arquivos locais.</span><span class="sxs-lookup"><span data-stu-id="12e1c-110">Instead, use the application data classes in the `Windows.Storage` namespaces included in the Windows Runtime API to store local data and files.</span></span> <span data-ttu-id="12e1c-111">Para saber mais, confira [Dados de aplicativo](/previous-versions/windows/apps/hh464917(v=win.10)) no Centro de Desenvolvimento do Windows.</span><span class="sxs-lookup"><span data-stu-id="12e1c-111">For more information, see [Application data](/previous-versions/windows/apps/hh464917(v=win.10)) in the Windows Dev Center.</span></span>

<a name="data_compartments_and_stores"></a>

## <a name="data-compartments-and-stores"></a><span data-ttu-id="12e1c-112">Compartimentos e Repositórios de Dados</span><span class="sxs-lookup"><span data-stu-id="12e1c-112">Data Compartments and Stores</span></span>

<span data-ttu-id="12e1c-113">Quando um aplicativo armazena dados em um arquivo, o nome do arquivo e o local de armazenamento devem ser escolhidos cuidadosamente para minimizar a possibilidade de o local de armazenamento ser conhecido por outro aplicativo e, portanto, tornar-se vulnerável a corrompimento.</span><span class="sxs-lookup"><span data-stu-id="12e1c-113">When an application stores data in a file, the file name and storage location must be carefully chosen to minimize the possibility that the storage location will be known to another application and, therefore, will be vulnerable to corruption.</span></span> <span data-ttu-id="12e1c-114">Sem um sistema padrão para gerenciar esses problemas, o desenvolvimento de técnicas ad hoc que minimizam conflitos de armazenamento pode ser complexo e os resultados podem não ser confiáveis.</span><span class="sxs-lookup"><span data-stu-id="12e1c-114">Without a standard system in place to manage these problems, developing ad hoc techniques that minimize storage conflicts can be complex, and the results can be unreliable.</span></span>

<span data-ttu-id="12e1c-115">Com armazenamento isolado, os dados são sempre isolados pelo usuário e pelo assembly.</span><span class="sxs-lookup"><span data-stu-id="12e1c-115">With isolated storage, data is always isolated by user and by assembly.</span></span> <span data-ttu-id="12e1c-116">Credenciais como a origem ou o nome forte do assembly determinam a identidade do assembly.</span><span class="sxs-lookup"><span data-stu-id="12e1c-116">Credentials such as the origin or the strong name of the assembly determine assembly identity.</span></span> <span data-ttu-id="12e1c-117">Os dados também podem ser isolados por domínio de aplicativo, usando credenciais semelhantes.</span><span class="sxs-lookup"><span data-stu-id="12e1c-117">Data can also be isolated by application domain, using similar credentials.</span></span>

<span data-ttu-id="12e1c-118">Quando você usa armazenamento isolado, os aplicativos salvam dados em um compartimento de dados específico que está associado a algum aspecto da identidade do código, como seu site, o editor ou a assinatura.</span><span class="sxs-lookup"><span data-stu-id="12e1c-118">When you use isolated storage, your application saves data to a unique data compartment that is associated with some aspect of the code's identity, such as its publisher or signature.</span></span> <span data-ttu-id="12e1c-119">O compartimento de dados é uma abstração, não um local específico de armazenamento; ele consiste em um ou mais arquivos de armazenamento isolados, chamados de repositórios, que contêm os locais reais dos diretórios em que os dados estão armazenados.</span><span class="sxs-lookup"><span data-stu-id="12e1c-119">The data compartment is an abstraction, not a specific storage location; it consists of one or more isolated storage files, called stores, which contain the actual directory locations where data is stored.</span></span> <span data-ttu-id="12e1c-120">Por exemplo, um aplicativo pode ter um compartimento de dados associado a ele, e um diretório de sistema de arquivos implementaria o repositório que de fato preserva os dados para o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="12e1c-120">For example, an application might have a data compartment associated with it, and a directory in the file system would implement the store that actually preserves the data for that application.</span></span> <span data-ttu-id="12e1c-121">Os dados salvos no repositório podem ser qualquer tipo de dados, desde informações de preferências do usuário até o estado do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="12e1c-121">The data saved in the store can be any kind of data, from user preference information to application state.</span></span> <span data-ttu-id="12e1c-122">Para o desenvolvedor, o local do compartimento de dados é transparente.</span><span class="sxs-lookup"><span data-stu-id="12e1c-122">For the developer, the location of the data compartment is transparent.</span></span> <span data-ttu-id="12e1c-123">Os repositórios normalmente residem no cliente, mas um aplicativo de servidor pode usar repositórios isolados para armazenar informações que personificam o usuário em cujo nome ele está funcionando.</span><span class="sxs-lookup"><span data-stu-id="12e1c-123">Stores usually reside on the client, but a server application could use isolated stores to store information by impersonating the user on whose behalf it is functioning.</span></span> <span data-ttu-id="12e1c-124">Armazenamentos isolados também podem armazenar informações em um servidor com um perfil móvel de usuário para que as informações viajem com o usuário móvel.</span><span class="sxs-lookup"><span data-stu-id="12e1c-124">Isolated storage can also store information on a server with a user's roaming profile so that the information will travel with the roaming user.</span></span>

<a name="quotas"></a>

## <a name="quotas-for-isolated-storage"></a><span data-ttu-id="12e1c-125">Cotas para armazenamento isolado</span><span class="sxs-lookup"><span data-stu-id="12e1c-125">Quotas for Isolated Storage</span></span>

<span data-ttu-id="12e1c-126">Uma cota é um limite na quantidade de armazenamento isolado que pode ser usada.</span><span class="sxs-lookup"><span data-stu-id="12e1c-126">A quota is a limit on the amount of isolated storage that can be used.</span></span> <span data-ttu-id="12e1c-127">A cota inclui bytes de espaço de arquivo, bem como a sobrecarga associada ao diretório e outras informações no repositório.</span><span class="sxs-lookup"><span data-stu-id="12e1c-127">The quota includes bytes of file space as well as the overhead associated with the directory and other information in the store.</span></span> <span data-ttu-id="12e1c-128">O armazenamento isolado usa cotas de permissão, que são limites de armazenamento definidos com o uso de objetos <xref:System.Security.Permissions.IsolatedStoragePermission>.</span><span class="sxs-lookup"><span data-stu-id="12e1c-128">Isolated storage uses permission quotas, which are storage limits that are set by using <xref:System.Security.Permissions.IsolatedStoragePermission> objects.</span></span> <span data-ttu-id="12e1c-129">Se você tentar gravar os dados que excedam a cota, uma exceção <xref:System.IO.IsolatedStorage.IsolatedStorageException> será gerada.</span><span class="sxs-lookup"><span data-stu-id="12e1c-129">If you try to write data that exceeds the quota, an <xref:System.IO.IsolatedStorage.IsolatedStorageException> exception is thrown.</span></span>  <span data-ttu-id="12e1c-130">Uma política de segurança, a qual pode ser modificada com a .NET Framework Configuration Tool (Mscorcfg.msc), determina quais permissões são concedidas ao código.</span><span class="sxs-lookup"><span data-stu-id="12e1c-130">Security policy, which can be modified using the .NET Framework Configuration Tool (Mscorcfg.msc), determines which permissions are granted to code.</span></span> <span data-ttu-id="12e1c-131">O código que recebeu <xref:System.Security.Permissions.IsolatedStoragePermission> é restrito a não usar mais armazenamento do que o permitido pela propriedade <xref:System.Security.Permissions.IsolatedStoragePermission.UserQuota%2A>.</span><span class="sxs-lookup"><span data-stu-id="12e1c-131">Code that has been granted <xref:System.Security.Permissions.IsolatedStoragePermission> is restricted to using no more storage than the <xref:System.Security.Permissions.IsolatedStoragePermission.UserQuota%2A> property allows.</span></span> <span data-ttu-id="12e1c-132">No entanto, porque o código pode ignorar cotas de permissão ao apresentar identidades de usuário diferentes, as permissões de cotas servem mais como diretrizes de como o código deve se comportar em vez de atuar como um limite firme no comportamento do código.</span><span class="sxs-lookup"><span data-stu-id="12e1c-132">However, because code can bypass permission quotas by presenting different user identities, permission quotas serve as guidelines for how code should behave rather than as a firm limit on code behavior.</span></span>

<span data-ttu-id="12e1c-133">As cotas não são aplicadas em repositórios móveis.</span><span class="sxs-lookup"><span data-stu-id="12e1c-133">Quotas are not enforced on roaming stores.</span></span> <span data-ttu-id="12e1c-134">Devido a isso, um nível um pouco mais alto de permissão é necessário para que o código as use.</span><span class="sxs-lookup"><span data-stu-id="12e1c-134">Because of this, a slightly higher level of permission is required for code to use them.</span></span> <span data-ttu-id="12e1c-135">Os valores de enumeração <xref:System.Security.Permissions.IsolatedStorageContainment.AssemblyIsolationByRoamingUser> e <xref:System.Security.Permissions.IsolatedStorageContainment.DomainIsolationByRoamingUser> especificam uma permissão para usar o armazenamento isolado para um usuário móvel.</span><span class="sxs-lookup"><span data-stu-id="12e1c-135">The enumeration values <xref:System.Security.Permissions.IsolatedStorageContainment.AssemblyIsolationByRoamingUser> and <xref:System.Security.Permissions.IsolatedStorageContainment.DomainIsolationByRoamingUser> specify a permission to use isolated storage for a roaming user.</span></span>

<a name="secure_access"></a>

## <a name="secure-access"></a><span data-ttu-id="12e1c-136">Acesso Seguro</span><span class="sxs-lookup"><span data-stu-id="12e1c-136">Secure Access</span></span>

<span data-ttu-id="12e1c-137">Usar o armazenamento isolado permite que aplicativos parcialmente confiáveis armazenem dados de uma maneira que é controlada pela política de segurança do computador.</span><span class="sxs-lookup"><span data-stu-id="12e1c-137">Using isolated storage enables partially trusted applications to store data in a manner that is controlled by the computer's security policy.</span></span> <span data-ttu-id="12e1c-138">Isto é especialmente útil para componentes baixados que um usuário talvez queira executar com cautela.</span><span class="sxs-lookup"><span data-stu-id="12e1c-138">This is especially useful for downloaded components that a user might want to run cautiously.</span></span> <span data-ttu-id="12e1c-139">Uma política de segurança raramente concede esse tipo de permissão de código quando você acessa o sistema de arquivos usando mecanismos padrão de E/S.</span><span class="sxs-lookup"><span data-stu-id="12e1c-139">Security policy rarely grants this kind of code permission when you access the file system by using standard I/O mechanisms.</span></span> <span data-ttu-id="12e1c-140">No entanto, por padrão, código executado do computador local, de uma rede local ou da Internet recebe a permissão para usar o armazenamento isolado.</span><span class="sxs-lookup"><span data-stu-id="12e1c-140">However, by default, code running from the local computer, a local network, or the Internet is granted the right to use isolated storage.</span></span>

<span data-ttu-id="12e1c-141">Os administradores podem limitar a quantidade de armazenamento isolado que um aplicativo ou usuário tem disponível com base em um nível de confiança apropriado.</span><span class="sxs-lookup"><span data-stu-id="12e1c-141">Administrators can limit how much isolated storage an application or a user has available, based on an appropriate trust level.</span></span> <span data-ttu-id="12e1c-142">Além disso, os administradores podem remover todos os dados persistentes de um usuário.</span><span class="sxs-lookup"><span data-stu-id="12e1c-142">In addition, administrators can remove a user's persisted data completely.</span></span> <span data-ttu-id="12e1c-143">Para criar ou acessar um armazenamento isolado, o código deve receber a permissão <xref:System.Security.Permissions.IsolatedStorageFilePermission> apropriada.</span><span class="sxs-lookup"><span data-stu-id="12e1c-143">To create or access isolated storage, code must be granted the appropriate <xref:System.Security.Permissions.IsolatedStorageFilePermission> permission.</span></span>

<span data-ttu-id="12e1c-144">Para acessar um armazenamento isolado, o código deve ter todos os direitos do sistema operacional da plataforma nativa necessários.</span><span class="sxs-lookup"><span data-stu-id="12e1c-144">To access isolated storage, code must have all necessary native platform operating system rights.</span></span> <span data-ttu-id="12e1c-145">As listas de controle de acesso (ACLs) que controlam quais usuários têm os direitos necessários para usar o sistema de arquivos devem ser satisfeitas.</span><span class="sxs-lookup"><span data-stu-id="12e1c-145">The access control lists (ACLs) that control which users have the rights to use the file system must be satisfied.</span></span> <span data-ttu-id="12e1c-146">Os aplicativos .NET já têm direitos de sistema operacional para acessar o armazenamento isolado, a menos que executem a representação (específica da plataforma).</span><span class="sxs-lookup"><span data-stu-id="12e1c-146">.NET applications already have operating system rights to access isolated storage unless they perform (platform-specific) impersonation.</span></span> <span data-ttu-id="12e1c-147">Nesse caso, o aplicativo é responsável por garantir que a identidade do usuário personificado tenha os direitos adequados do sistema operacional para acessar o armazenamento isolado.</span><span class="sxs-lookup"><span data-stu-id="12e1c-147">In this case, the application is responsible for ensuring that the impersonated user identity has the proper operating system rights to access isolated storage.</span></span> <span data-ttu-id="12e1c-148">Esse acesso oferece uma maneira conveniente para que códigos que são executados ou baixados da Web possam ler e gravar em uma área de armazenamento relacionada a um usuário específico.</span><span class="sxs-lookup"><span data-stu-id="12e1c-148">This access provides a convenient way for code that is run or downloaded from the web to read and write to a storage area related to a particular user.</span></span>

<span data-ttu-id="12e1c-149">Para controlar o acesso ao armazenamento isolado, o Common Language Runtime utiliza objetos <xref:System.Security.Permissions.IsolatedStorageFilePermission>.</span><span class="sxs-lookup"><span data-stu-id="12e1c-149">To control access to isolated storage, the common language runtime uses <xref:System.Security.Permissions.IsolatedStorageFilePermission> objects.</span></span> <span data-ttu-id="12e1c-150">Cada objeto tem propriedades que especificam os seguintes valores:</span><span class="sxs-lookup"><span data-stu-id="12e1c-150">Each object has properties that specify the following values:</span></span>

- <span data-ttu-id="12e1c-151">Utilização permitida, que indica o tipo de acesso que é permitido.</span><span class="sxs-lookup"><span data-stu-id="12e1c-151">Allowed usage, which indicates the type of access that is allowed.</span></span> <span data-ttu-id="12e1c-152">Os valores são membros da enumeração <xref:System.Security.Permissions.IsolatedStorageContainment>.</span><span class="sxs-lookup"><span data-stu-id="12e1c-152">The values are members of the <xref:System.Security.Permissions.IsolatedStorageContainment> enumeration.</span></span> <span data-ttu-id="12e1c-153">Para obter mais informações sobre esses valores, consulte a tabela na próxima seção.</span><span class="sxs-lookup"><span data-stu-id="12e1c-153">For more information about these values, see the table in the next section.</span></span>

- <span data-ttu-id="12e1c-154">Cota de armazenamento, conforme descrito na seção anterior.</span><span class="sxs-lookup"><span data-stu-id="12e1c-154">Storage quota, as discussed in the preceding section.</span></span>

<span data-ttu-id="12e1c-155">O runtime exige a permissão <xref:System.Security.Permissions.IsolatedStorageFilePermission> quando o código tenta abrir um repositório pela primeira vez.</span><span class="sxs-lookup"><span data-stu-id="12e1c-155">The runtime demands <xref:System.Security.Permissions.IsolatedStorageFilePermission> permission when code first attempts to open a store.</span></span> <span data-ttu-id="12e1c-156">Ele decide se essa permissão será concedida com base em quanto do código é confiável.</span><span class="sxs-lookup"><span data-stu-id="12e1c-156">It decides whether to grant this permission, based on how much the code is trusted.</span></span> <span data-ttu-id="12e1c-157">Se a permissão é concedida, os valores de cota de armazenamento e de utilização permitida são determinados por política de segurança e pela solicitação do código para <xref:System.Security.Permissions.IsolatedStorageFilePermission>.</span><span class="sxs-lookup"><span data-stu-id="12e1c-157">If the permission is granted, the allowed usage and storage quota values are determined by security policy and by the code's request for <xref:System.Security.Permissions.IsolatedStorageFilePermission>.</span></span> <span data-ttu-id="12e1c-158">A política de segurança é definida com o auxílio da .NET Framework Configuration Tool (Mscorcfg.msc).</span><span class="sxs-lookup"><span data-stu-id="12e1c-158">Security policy is set by using the .NET Framework Configuration Tool (Mscorcfg.msc).</span></span> <span data-ttu-id="12e1c-159">Todos os chamadores na pilha de chamadas são verificados para garantir que cada chamador tenha pelo menos a utilização permitida apropriada.</span><span class="sxs-lookup"><span data-stu-id="12e1c-159">All callers in the call stack are checked to ensure that each caller has at least the appropriate allowed usage.</span></span> <span data-ttu-id="12e1c-160">O runtime também verifica a cota imposta no código que abriu ou criou o depósito no qual o arquivo será salvo.</span><span class="sxs-lookup"><span data-stu-id="12e1c-160">The runtime also checks the quota imposed on the code that opened or created the store in which the file is to be saved.</span></span> <span data-ttu-id="12e1c-161">Se essas condições forem atendidas, a permissão será concedida.</span><span class="sxs-lookup"><span data-stu-id="12e1c-161">If these conditions are satisfied, permission is granted.</span></span> <span data-ttu-id="12e1c-162">A cota é verificada novamente sempre que um arquivo é gravado no repositório.</span><span class="sxs-lookup"><span data-stu-id="12e1c-162">The quota is checked again every time a file is written to the store.</span></span>

<span data-ttu-id="12e1c-163">O código do aplicativo não é obrigado a solicitar permissão porque o Common Language Runtime concederá qualquer <xref:System.Security.Permissions.IsolatedStorageFilePermission> apropriada com base na política de segurança.</span><span class="sxs-lookup"><span data-stu-id="12e1c-163">Application code is not required to request permission because the common language runtime will grant whatever <xref:System.Security.Permissions.IsolatedStorageFilePermission> is appropriate based on security policy.</span></span> <span data-ttu-id="12e1c-164">No entanto, existem bons motivos para solicitar as permissões específicas de que seu aplicativo necessita, incluindo <xref:System.Security.Permissions.IsolatedStorageFilePermission>.</span><span class="sxs-lookup"><span data-stu-id="12e1c-164">However, there are good reasons to request specific permissions that your application needs, including <xref:System.Security.Permissions.IsolatedStorageFilePermission>.</span></span>

<a name="allowed_usage"></a>

## <a name="allowed-usage-and-security-risks"></a><span data-ttu-id="12e1c-165">Uso permitido e riscos de segurança</span><span class="sxs-lookup"><span data-stu-id="12e1c-165">Allowed Usage and Security Risks</span></span>

<span data-ttu-id="12e1c-166">O uso permitido especificado por <xref:System.Security.Permissions.IsolatedStorageFilePermission> determina o grau ao qual o código terá permissão para criar e usar o armazenamento isolado.</span><span class="sxs-lookup"><span data-stu-id="12e1c-166">The allowed usage specified by <xref:System.Security.Permissions.IsolatedStorageFilePermission> determines the degree to which code will be allowed to create and use isolated storage.</span></span> <span data-ttu-id="12e1c-167">A tabela a seguir mostra como o uso permitido especificado na permissão corresponde a tipos de isolamento e resume os riscos de segurança associados a cada uso permitido.</span><span class="sxs-lookup"><span data-stu-id="12e1c-167">The following table shows how the allowed usage specified in the permission corresponds to types of isolation and summarizes the security risks associated with each allowed usage.</span></span>

|<span data-ttu-id="12e1c-168">Uso permitido</span><span class="sxs-lookup"><span data-stu-id="12e1c-168">Allowed usage</span></span>|<span data-ttu-id="12e1c-169">Tipos de isolamento</span><span class="sxs-lookup"><span data-stu-id="12e1c-169">Isolation types</span></span>|<span data-ttu-id="12e1c-170">Impacto de segurança</span><span class="sxs-lookup"><span data-stu-id="12e1c-170">Security impact</span></span>|
|-------------------|---------------------|---------------------|
|<xref:System.Security.Permissions.IsolatedStorageContainment.None>|<span data-ttu-id="12e1c-171">Nenhum armazenamento isolado é permitido.</span><span class="sxs-lookup"><span data-stu-id="12e1c-171">No isolated storage use is allowed.</span></span>|<span data-ttu-id="12e1c-172">Não há impacto de segurança.</span><span class="sxs-lookup"><span data-stu-id="12e1c-172">There is no security impact.</span></span>|
|<xref:System.Security.Permissions.IsolatedStorageContainment.DomainIsolationByUser>|<span data-ttu-id="12e1c-173">Isolamento por usuário, domínio e assembly</span><span class="sxs-lookup"><span data-stu-id="12e1c-173">Isolation by user, domain, and assembly.</span></span> <span data-ttu-id="12e1c-174">Cada assembly possui um sub-repositório separado dentro do domínio.</span><span class="sxs-lookup"><span data-stu-id="12e1c-174">Each assembly has a separate substore within the domain.</span></span> <span data-ttu-id="12e1c-175">Repositórios que usam essa permissão também são implicitamente isolados por computador.</span><span class="sxs-lookup"><span data-stu-id="12e1c-175">Stores that use this permission are also implicitly isolated by computer.</span></span>|<span data-ttu-id="12e1c-176">Esse nível de permissão deixa recursos abertos para superutilização não autorizada, embora cotas impostas tornem isso mais difícil.</span><span class="sxs-lookup"><span data-stu-id="12e1c-176">This permission level leaves resources open to unauthorized overuse, although enforced quotas make it more difficult.</span></span> <span data-ttu-id="12e1c-177">Isso é denominado um ataque de negação de serviço.</span><span class="sxs-lookup"><span data-stu-id="12e1c-177">This is called a denial of service attack.</span></span>|
|<xref:System.Security.Permissions.IsolatedStorageContainment.DomainIsolationByRoamingUser>|<span data-ttu-id="12e1c-178">Igual a `DomainIsolationByUser`, mas o armazenamento é salvo em um local que irá transitar se os perfis de usuário móvel estiverem ativados e as cotas não forem aplicadas.</span><span class="sxs-lookup"><span data-stu-id="12e1c-178">Same as `DomainIsolationByUser`, but store is saved to a location that will roam if roaming user profiles are enabled and quotas are not enforced.</span></span>|<span data-ttu-id="12e1c-179">Como as cotas devem ser desativadas, os recursos de armazenamento são mais vulneráveis a um ataque de negação de serviço.</span><span class="sxs-lookup"><span data-stu-id="12e1c-179">Because quotas must be disabled, storage resources are more vulnerable to a denial of service attack.</span></span>|
|<xref:System.Security.Permissions.IsolatedStorageContainment.AssemblyIsolationByUser>|<span data-ttu-id="12e1c-180">Isolamento por usuário e assembly</span><span class="sxs-lookup"><span data-stu-id="12e1c-180">Isolation by user and assembly.</span></span> <span data-ttu-id="12e1c-181">Repositórios que usam essa permissão também são implicitamente isolados por computador.</span><span class="sxs-lookup"><span data-stu-id="12e1c-181">Stores that use this permission are also implicitly isolated by computer.</span></span>|<span data-ttu-id="12e1c-182">As cotas serão aplicadas nesse nível para ajudar a evitar um ataque de negação de serviço.</span><span class="sxs-lookup"><span data-stu-id="12e1c-182">Quotas are enforced at this level to help prevent a denial of service attack.</span></span> <span data-ttu-id="12e1c-183">O mesmo assembly no outro domínio pode acessar esse repositório, abrindo a possibilidade de vazamento de informações entre aplicativos.</span><span class="sxs-lookup"><span data-stu-id="12e1c-183">The same assembly in another domain can access this store, opening the possibility that information could be leaked between applications.</span></span>|
|<xref:System.Security.Permissions.IsolatedStorageContainment.AssemblyIsolationByRoamingUser>|<span data-ttu-id="12e1c-184">Igual a `AssemblyIsolationByUser`, mas o armazenamento é salvo em um local que irá transitar se os perfis de usuário móvel estiverem ativados e as cotas não forem aplicadas.</span><span class="sxs-lookup"><span data-stu-id="12e1c-184">Same as `AssemblyIsolationByUser`, but store is saved to a location that will roam if roaming user profiles are enabled and quotas are not enforced.</span></span>|<span data-ttu-id="12e1c-185">O mesmo que em `AssemblyIsolationByUser`, mas sem as cotas, o risco de um ataque de negação de serviço aumenta.</span><span class="sxs-lookup"><span data-stu-id="12e1c-185">Same as in `AssemblyIsolationByUser`, but without quotas, the risk of a denial of service attack increases.</span></span>|
|<xref:System.Security.Permissions.IsolatedStorageContainment.AdministerIsolatedStorageByUser>|<span data-ttu-id="12e1c-186">Isolamento por usuário.</span><span class="sxs-lookup"><span data-stu-id="12e1c-186">Isolation by user.</span></span> <span data-ttu-id="12e1c-187">Normalmente, apenas ferramentas administrativas ou de depuração usam esse nível de permissão.</span><span class="sxs-lookup"><span data-stu-id="12e1c-187">Typically, only administrative or debugging tools use this level of permission.</span></span>|<span data-ttu-id="12e1c-188">O acesso com essa permissão permite que o código exiba ou exclua qualquer um dos arquivos ou diretórios de armazenamento isolados do usuário (independentemente do isolamento do assembly).</span><span class="sxs-lookup"><span data-stu-id="12e1c-188">Access with this permission allows code to view or delete any of a user's isolated storage files or directories (regardless of assembly isolation).</span></span> <span data-ttu-id="12e1c-189">Riscos incluem, mas não estão limitados a, vazamento de informações e perda de dados.</span><span class="sxs-lookup"><span data-stu-id="12e1c-189">Risks include, but are not limited to, leaking information and data loss.</span></span>|
|<xref:System.Security.Permissions.IsolatedStorageContainment.UnrestrictedIsolatedStorage>|<span data-ttu-id="12e1c-190">Isolamento por todos os usuários, domínios e assemblies.</span><span class="sxs-lookup"><span data-stu-id="12e1c-190">Isolation by all users, domains, and assemblies.</span></span> <span data-ttu-id="12e1c-191">Normalmente, apenas ferramentas administrativas ou de depuração usam esse nível de permissão.</span><span class="sxs-lookup"><span data-stu-id="12e1c-191">Typically, only administrative or debugging tools use this level of permission.</span></span>|<span data-ttu-id="12e1c-192">Esta permissão cria o potencial de um comprometimento total de todos os repositórios isolados para todos os usuários.</span><span class="sxs-lookup"><span data-stu-id="12e1c-192">This permission creates the potential for a total compromise of all isolated stores for all users.</span></span>|

## <a name="safety-of-isolated-storage-components-with-regard-to-untrusted-data"></a><span data-ttu-id="12e1c-193">Segurança de componentes de armazenamento isolado com relação a dados não confiáveis</span><span class="sxs-lookup"><span data-stu-id="12e1c-193">Safety of isolated storage components with regard to untrusted data</span></span>

<span data-ttu-id="12e1c-194">__Esta seção se aplica às seguintes estruturas:__</span><span class="sxs-lookup"><span data-stu-id="12e1c-194">__This section applies to the following frameworks:__</span></span>

- <span data-ttu-id="12e1c-195">.NET Framework (todas as versões)</span><span class="sxs-lookup"><span data-stu-id="12e1c-195">.NET Framework (all versions)</span></span>
- <span data-ttu-id="12e1c-196">.NET Core 2.1 +</span><span class="sxs-lookup"><span data-stu-id="12e1c-196">.NET Core 2.1+</span></span>
- <span data-ttu-id="12e1c-197">.NET 5.0 +</span><span class="sxs-lookup"><span data-stu-id="12e1c-197">.NET 5.0+</span></span>

<span data-ttu-id="12e1c-198">O .NET Framework e o .NET Core oferecem armazenamento isolado como um mecanismo para manter dados para um usuário, um aplicativo ou um componente.</span><span class="sxs-lookup"><span data-stu-id="12e1c-198">.NET Framework and .NET Core offer isolated storage as a mechanism to persist data for a user, an application, or a component.</span></span> <span data-ttu-id="12e1c-199">Esse é um componente herdado projetado principalmente para cenários de segurança de acesso a código preteridos.</span><span class="sxs-lookup"><span data-stu-id="12e1c-199">This is a legacy component primarily designed for now-deprecated Code Access Security scenarios.</span></span>

<span data-ttu-id="12e1c-200">Várias APIs e ferramentas de armazenamento isolado podem ser usadas para ler dados entre limites de confiança.</span><span class="sxs-lookup"><span data-stu-id="12e1c-200">Various isolated storage APIs and tools can be used to read data across trust boundaries.</span></span> <span data-ttu-id="12e1c-201">Por exemplo, a leitura de dados de um escopo em todo o computador pode agregar dados de outras contas de usuário possivelmente menos confiáveis no computador.</span><span class="sxs-lookup"><span data-stu-id="12e1c-201">For example, reading data from a machine-wide scope can aggregate data from other, possibly less-trusted user accounts on the machine.</span></span> <span data-ttu-id="12e1c-202">Os componentes ou aplicativos que lêem os escopos de armazenamento isolado em toda a máquina devem estar cientes das consequências de ler esses dados.</span><span class="sxs-lookup"><span data-stu-id="12e1c-202">Components or applications which read from machine-wide isolated storage scopes should be aware of the consequences of reading this data.</span></span>

### <a name="security-sensitive-apis-that-can-read-from-the-machine-wide-scope"></a><span data-ttu-id="12e1c-203">APIs sensíveis à segurança que podem ser lidas no escopo de todo o computador</span><span class="sxs-lookup"><span data-stu-id="12e1c-203">Security-sensitive APIs that can read from the machine-wide scope</span></span>

<span data-ttu-id="12e1c-204">Componentes ou aplicativos que chamam qualquer uma das seguintes APIs lidas do escopo de todo o computador:</span><span class="sxs-lookup"><span data-stu-id="12e1c-204">Components or applications that call any of the following APIs read from the machine-wide scope:</span></span>

* <span data-ttu-id="12e1c-205">[IsolatedStorageFile. GetEnumerator](/dotnet/api/system.io.isolatedstorage.isolatedstoragefile.getenumerator), passando um escopo que inclui o sinalizador IsolatedStorageScope. Machine</span><span class="sxs-lookup"><span data-stu-id="12e1c-205">[IsolatedStorageFile.GetEnumerator](/dotnet/api/system.io.isolatedstorage.isolatedstoragefile.getenumerator), passing a scope that includes the IsolatedStorageScope.Machine flag</span></span>
* [<span data-ttu-id="12e1c-206">IsolatedStorageFile. GetMachineStoreForApplication</span><span class="sxs-lookup"><span data-stu-id="12e1c-206">IsolatedStorageFile.GetMachineStoreForApplication</span></span>](/dotnet/api/system.io.isolatedstorage.isolatedstoragefile.getmachinestoreforapplication)
* [<span data-ttu-id="12e1c-207">IsolatedStorageFile. GetMachineStoreForAssembly</span><span class="sxs-lookup"><span data-stu-id="12e1c-207">IsolatedStorageFile.GetMachineStoreForAssembly</span></span>](/dotnet/api/system.io.isolatedstorage.isolatedstoragefile.getmachinestoreforassembly)
* [<span data-ttu-id="12e1c-208">IsolatedStorageFile. GetMachineStoreForDomain</span><span class="sxs-lookup"><span data-stu-id="12e1c-208">IsolatedStorageFile.GetMachineStoreForDomain</span></span>](/dotnet/api/system.io.isolatedstorage.isolatedstoragefile.getmachinestorefordomain)
* <span data-ttu-id="12e1c-209">[IsolatedStorageFile. GetStore](/dotnet/api/system.io.isolatedstorage.isolatedstoragefile.getstore), passando um escopo que inclui o sinalizador IsolatedStorageScope. Machine</span><span class="sxs-lookup"><span data-stu-id="12e1c-209">[IsolatedStorageFile.GetStore](/dotnet/api/system.io.isolatedstorage.isolatedstoragefile.getstore), passing a scope that includes the IsolatedStorageScope.Machine flag</span></span>
* <span data-ttu-id="12e1c-210">[IsolatedStorageFile. Remove](/dotnet/api/system.io.isolatedstorage.isolatedstoragefile.remove), passando um escopo que inclui o `IsolatedStorageScope.Machine` sinalizador</span><span class="sxs-lookup"><span data-stu-id="12e1c-210">[IsolatedStorageFile.Remove](/dotnet/api/system.io.isolatedstorage.isolatedstoragefile.remove), passing a scope that includes the `IsolatedStorageScope.Machine` flag</span></span>

<span data-ttu-id="12e1c-211">A [ferramenta de armazenamento isolado](../../framework/tools/storeadm-exe-isolated-storage-tool.md) `storeadm.exe` será afetada se for chamada com a `/machine` opção, conforme mostrado no código a seguir:</span><span class="sxs-lookup"><span data-stu-id="12e1c-211">The [isolated storage tool](../../framework/tools/storeadm-exe-isolated-storage-tool.md) `storeadm.exe` is impacted if called with the `/machine` switch, as shown in the following code:</span></span>

```txt
storeadm.exe /machine [any-other-switches]
```

<span data-ttu-id="12e1c-212">A ferramenta de armazenamento isolado é fornecida como parte do Visual Studio e do SDK do .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="12e1c-212">The isolated storage tool is provided as part of Visual Studio and the .NET Framework SDK.</span></span>

<span data-ttu-id="12e1c-213">Se o aplicativo não envolver chamadas para as APIs anteriores, ou se o fluxo de trabalho não envolve a chamada `storeadm.exe` dessa maneira, este documento não se aplica.</span><span class="sxs-lookup"><span data-stu-id="12e1c-213">If the application doesn't involve calls to the preceding APIs, or if the workflow doesn't involve calling `storeadm.exe` in this manner, this document doesn't apply.</span></span>

### <a name="impact-in-multi-user-environments"></a><span data-ttu-id="12e1c-214">Impacto em ambientes de vários usuários</span><span class="sxs-lookup"><span data-stu-id="12e1c-214">Impact in multi-user environments</span></span>

<span data-ttu-id="12e1c-215">Conforme mencionado anteriormente, o impacto de segurança dessas APIs resulta de dados gravados de um ambiente de confiança é lido de um ambiente de confiança diferente.</span><span class="sxs-lookup"><span data-stu-id="12e1c-215">As mentioned previously, the security impact from these APIs results from data written from one trust environment is read from a different trust environment.</span></span> <span data-ttu-id="12e1c-216">O armazenamento isolado geralmente usa um dos três locais para ler e gravar dados:</span><span class="sxs-lookup"><span data-stu-id="12e1c-216">Isolated storage generally uses one of three locations to read and write data:</span></span>

1. <span data-ttu-id="12e1c-217">`%LOCALAPPDATA%\IsolatedStorage\`: Por exemplo, `C:\Users\<username>\AppData\Local\IsolatedStorage\` para `User` escopo.</span><span class="sxs-lookup"><span data-stu-id="12e1c-217">`%LOCALAPPDATA%\IsolatedStorage\`: For example, `C:\Users\<username>\AppData\Local\IsolatedStorage\`, for `User` scope.</span></span>
2. <span data-ttu-id="12e1c-218">`%APPDATA%\IsolatedStorage\`: Por exemplo, `C:\Users\<username>\AppData\Roaming\IsolatedStorage\` para `User|Roaming` escopo.</span><span class="sxs-lookup"><span data-stu-id="12e1c-218">`%APPDATA%\IsolatedStorage\`: For example, `C:\Users\<username>\AppData\Roaming\IsolatedStorage\`, for `User|Roaming` scope.</span></span>
3. <span data-ttu-id="12e1c-219">`%PROGRAMDATA%\IsolatedStorage\`: Por exemplo, `C:\ProgramData\IsolatedStorage\` para `Machine` escopo.</span><span class="sxs-lookup"><span data-stu-id="12e1c-219">`%PROGRAMDATA%\IsolatedStorage\`: For example, `C:\ProgramData\IsolatedStorage\`, for `Machine` scope.</span></span>

<span data-ttu-id="12e1c-220">Os dois primeiros locais são isolados por usuário.</span><span class="sxs-lookup"><span data-stu-id="12e1c-220">The first two locations are isolated per-user.</span></span> <span data-ttu-id="12e1c-221">O Windows garante que diferentes contas de usuário no mesmo computador não possam acessar as pastas de perfil de usuário.</span><span class="sxs-lookup"><span data-stu-id="12e1c-221">Windows ensures that different user accounts on the same machine cannot access each other's user profile folders.</span></span> <span data-ttu-id="12e1c-222">Duas contas de usuário diferentes que usam `User` os `User|Roaming` repositórios ou não verão os dados uns dos outros e não poderão interferir nos dados uns dos outros.</span><span class="sxs-lookup"><span data-stu-id="12e1c-222">Two different user accounts who use the `User` or `User|Roaming` stores will not see each other's data and cannot interfere with each other's data.</span></span>

<span data-ttu-id="12e1c-223">O terceiro local é compartilhado entre todas as contas de usuário no computador.</span><span class="sxs-lookup"><span data-stu-id="12e1c-223">The third location is shared across all user accounts on the machine.</span></span> <span data-ttu-id="12e1c-224">Contas diferentes podem ler e gravar nesse local e são capazes de ver os dados uns dos outros.</span><span class="sxs-lookup"><span data-stu-id="12e1c-224">Different accounts can read from and write to this location, and they're able to see each other's data.</span></span>

<span data-ttu-id="12e1c-225">Os caminhos anteriores podem ser diferentes com base na versão do Windows em uso.</span><span class="sxs-lookup"><span data-stu-id="12e1c-225">The preceding paths may differ based on the version of Windows in use.</span></span>

<span data-ttu-id="12e1c-226">Agora, considere um sistema de vários usuários com dois usuários registrados _Mallory_ e _Bob_ .</span><span class="sxs-lookup"><span data-stu-id="12e1c-226">Now consider a multi-user system with two registered users _Mallory_ and _Bob_ .</span></span> <span data-ttu-id="12e1c-227">O Mallory tem a capacidade de acessar seu diretório de perfil de usuário `C:\Users\Mallory\` e pode acessar o local de armazenamento em todo o computador compartilhado `C:\ProgramData\IsolatedStorage\` .</span><span class="sxs-lookup"><span data-stu-id="12e1c-227">Mallory has the ability to access her user profile directory `C:\Users\Mallory\`, and she can access the shared machine-wide storage location `C:\ProgramData\IsolatedStorage\`.</span></span> <span data-ttu-id="12e1c-228">Ela não pode acessar o diretório de perfil de usuário de Bob `C:\Users\Bob\` .</span><span class="sxs-lookup"><span data-stu-id="12e1c-228">She cannot access Bob's user profile directory `C:\Users\Bob\`.</span></span>

<span data-ttu-id="12e1c-229">Se Mallory quiser atacar Bob, ela poderá gravar dados no local de armazenamento em todo o computador e, em seguida, tentar influenciar Bob na leitura do repositório de todo o computador.</span><span class="sxs-lookup"><span data-stu-id="12e1c-229">If Mallory wishes to attack Bob, she might write data to the machine-wide storage location, then attempt to influence Bob into reading from the machine-wide store.</span></span> <span data-ttu-id="12e1c-230">Quando Bob executa um aplicativo que lê esse armazenamento, esse aplicativo funcionará nos dados Mallory colocados ali, mas de dentro do contexto da conta de usuário de Bob.</span><span class="sxs-lookup"><span data-stu-id="12e1c-230">When Bob runs an app that reads from this store, that app will operate on the data Mallory placed there, but from within the context of Bob's user account.</span></span> <span data-ttu-id="12e1c-231">O restante deste documento contemplates vários vetores de ataque e quais etapas os aplicativos podem fazer para minimizar seus riscos a esses ataques.</span><span class="sxs-lookup"><span data-stu-id="12e1c-231">The remainder of this document contemplates various attack vectors and what steps apps can do to minimize their risk to these attacks.</span></span>

<span data-ttu-id="12e1c-232">__Observação:__ Para que tal ataque ocorra, o Mallory requer:</span><span class="sxs-lookup"><span data-stu-id="12e1c-232">__Note:__ In order for such an attack to take place, Mallory requires:</span></span>

* <span data-ttu-id="12e1c-233">Uma conta de usuário no computador.</span><span class="sxs-lookup"><span data-stu-id="12e1c-233">A user account on the machine.</span></span>
* <span data-ttu-id="12e1c-234">A capacidade de inserir um arquivo em um local conhecido no sistema de arquivos.</span><span class="sxs-lookup"><span data-stu-id="12e1c-234">The ability to place a file into a known location on the file system.</span></span>
* <span data-ttu-id="12e1c-235">O conhecimento que Bob irá, em algum momento, executar um aplicativo que tenta ler esses dados.</span><span class="sxs-lookup"><span data-stu-id="12e1c-235">Knowledge that Bob will at some point run an app which attempts to read this data.</span></span>

<span data-ttu-id="12e1c-236">Esses não são vetores de ameaça que se aplicam a ambientes de desktop de usuário único padrão como PCs domésticos ou estações de trabalho de um funcionário corporativo.</span><span class="sxs-lookup"><span data-stu-id="12e1c-236">These are not threat vectors which apply to standard single-user desktop environments like home PCs or single-employee enterprise workstations.</span></span>

#### <a name="elevation-of-privilege"></a><span data-ttu-id="12e1c-237">Elevação de privilégio</span><span class="sxs-lookup"><span data-stu-id="12e1c-237">Elevation of privilege</span></span>

<span data-ttu-id="12e1c-238">Um ataque __de elevação de privilégio__ ocorre quando o aplicativo de Bob lê o arquivo de Mallory e tenta automaticamente executar alguma ação com base no conteúdo dessa carga.</span><span class="sxs-lookup"><span data-stu-id="12e1c-238">An __elevation of privilege__ attack occurs when Bob's app reads Mallory's file and automatically tries to take some action based on the contents of that payload.</span></span> <span data-ttu-id="12e1c-239">Considere um aplicativo que leia o conteúdo de um script de inicialização do repositório de todo o computador e passe esse conteúdo para `Process.Start` .</span><span class="sxs-lookup"><span data-stu-id="12e1c-239">Consider an app that reads the contents of a startup script from the machine-wide store and passes those contents to `Process.Start`.</span></span> <span data-ttu-id="12e1c-240">Se o Mallory puder fazer um script mal-intencionado dentro da loja de todo o computador, quando Bob iniciar seu aplicativo:</span><span class="sxs-lookup"><span data-stu-id="12e1c-240">If Mallory can place a malicious script inside the machine-wide store, when Bob launches his app:</span></span>

* <span data-ttu-id="12e1c-241">Seu aplicativo analisa e inicia o script mal-intencionado do Mallory _no contexto do perfil de usuário de Bob_ .</span><span class="sxs-lookup"><span data-stu-id="12e1c-241">His app parses and launches Mallory's malicious script _under the context of Bob's user profile_ .</span></span>
* <span data-ttu-id="12e1c-242">Mallory acessa a conta do Bob no computador local.</span><span class="sxs-lookup"><span data-stu-id="12e1c-242">Mallory gaines access to Bob's account on the local machine.</span></span>

#### <a name="denial-of-service"></a><span data-ttu-id="12e1c-243">Negação de serviço</span><span class="sxs-lookup"><span data-stu-id="12e1c-243">Denial of service</span></span>

<span data-ttu-id="12e1c-244">Um ataque __de negação de serviço__ ocorre quando o aplicativo de Bob lê o arquivo do Mallory e falha ou para de funcionar corretamente.</span><span class="sxs-lookup"><span data-stu-id="12e1c-244">A __denial of service__ attack occurs when Bob's app reads Mallory's file and crashes or otherwise stops functioning correctly.</span></span> <span data-ttu-id="12e1c-245">Considere novamente o aplicativo mencionado anteriormente, que tenta analisar um script de inicialização do repositório de todo o computador.</span><span class="sxs-lookup"><span data-stu-id="12e1c-245">Consider again the app mentioned previously, which attempts to parse a startup script from the machine-wide store.</span></span> <span data-ttu-id="12e1c-246">Se Mallory puder posicionar um arquivo com conteúdo malformado dentro da loja de todo o computador, ela poderá:</span><span class="sxs-lookup"><span data-stu-id="12e1c-246">If Mallory can place a file with malformed contents inside the machine-wide store, she might:</span></span>

* <span data-ttu-id="12e1c-247">Fazer com que o aplicativo de Bob lance uma exceção no início do caminho de inicialização.</span><span class="sxs-lookup"><span data-stu-id="12e1c-247">Cause Bob's app to throw an exception early in the startup path.</span></span>
* <span data-ttu-id="12e1c-248">Impedir que o aplicativo seja iniciado com êxito devido à exceção.</span><span class="sxs-lookup"><span data-stu-id="12e1c-248">Prevent the app from launching successfully because of the exception.</span></span>

<span data-ttu-id="12e1c-249">Ela negou, em seguida, Bob a capacidade de iniciar o aplicativo em sua própria conta de usuário.</span><span class="sxs-lookup"><span data-stu-id="12e1c-249">She has then denied Bob the ability to launch the app under his own user account.</span></span>

#### <a name="information-disclosure"></a><span data-ttu-id="12e1c-250">Divulgação de informações confidenciais</span><span class="sxs-lookup"><span data-stu-id="12e1c-250">Information disclosure</span></span>

<span data-ttu-id="12e1c-251">Um ataque de __divulgação de informações__ ocorre quando o Mallory pode enganar Bob em revelar o conteúdo de um arquivo ao qual o Mallory normalmente não tem acesso.</span><span class="sxs-lookup"><span data-stu-id="12e1c-251">An __information disclosure__ attack occurs when Mallory can trick Bob into disclosing the contents of a file that Mallory does not normally have access to.</span></span> <span data-ttu-id="12e1c-252">Considere que Bob tem um arquivo secreto *C:\Users\Bob\secret.txt* que o Mallory deseja ler.</span><span class="sxs-lookup"><span data-stu-id="12e1c-252">Consider that Bob has a secret file *C:\Users\Bob\secret.txt* that Mallory wants to read.</span></span> <span data-ttu-id="12e1c-253">Ela sabe o caminho para esse arquivo, mas ela não pode lê-lo porque o Windows proíbe a obtenção de acesso ao diretório de perfil do usuário de Bob.</span><span class="sxs-lookup"><span data-stu-id="12e1c-253">She knows the path to this file, but she cannot read it because Windows forbids her from gaining access to Bob's user profile directory.</span></span>

<span data-ttu-id="12e1c-254">Em vez disso, o Mallory coloca um link físico no repositório de todo o computador.</span><span class="sxs-lookup"><span data-stu-id="12e1c-254">Instead, Mallory places a hard link into the machine-wide store.</span></span> <span data-ttu-id="12e1c-255">Esse é um tipo especial de arquivo que não contém nenhum conteúdo, em vez disso, aponta para outro arquivo no disco.</span><span class="sxs-lookup"><span data-stu-id="12e1c-255">This is a special kind of file that itself does not contain any contents, rather, it points to another file on disk.</span></span> <span data-ttu-id="12e1c-256">A tentativa de ler o arquivo de link físico lerá o conteúdo do arquivo de destino pelo link.</span><span class="sxs-lookup"><span data-stu-id="12e1c-256">Attempting to read the hard link file will instead read the contents of the file targeted by the link.</span></span> <span data-ttu-id="12e1c-257">Depois de criar o link físico, o Mallory ainda não pode ler o conteúdo do arquivo porque ele não tem acesso ao destino ( `C:\Users\Bob\secret.txt` ) do link.</span><span class="sxs-lookup"><span data-stu-id="12e1c-257">After creating the hard link, Mallory still cannot read the file contents because she does not have access to the target (`C:\Users\Bob\secret.txt`) of the link.</span></span> <span data-ttu-id="12e1c-258">No entanto _, Bob tem_ acesso a esse arquivo.</span><span class="sxs-lookup"><span data-stu-id="12e1c-258">However, Bob _does_ have access to this file.</span></span>

<span data-ttu-id="12e1c-259">Quando o aplicativo de Bob lê da loja em todo o computador, ele agora lê inadvertidamente o conteúdo de seu `secret.txt` arquivo, como se o próprio arquivo estivesse presente no repositório de todo o computador.</span><span class="sxs-lookup"><span data-stu-id="12e1c-259">When Bob's app reads from the machine-wide store, it now inadvertently reads the contents of his `secret.txt` file, just as if the file itself had been present in the machine-wide store.</span></span> <span data-ttu-id="12e1c-260">Quando o aplicativo de Bob é encerrado, se tentar salvar o arquivo novamente no repositório de todo o computador, ele acabará colocando uma cópia real do arquivo no diretório \* C:\ProgramData\IsolatedStorage \* .</span><span class="sxs-lookup"><span data-stu-id="12e1c-260">When Bob's app exits, if it attempts to resave the file to the machine-wide store, it will end up placing an actual copy of the file in the \*C:\ProgramData\IsolatedStorage\* directory.</span></span> <span data-ttu-id="12e1c-261">Como esse diretório é legível por qualquer usuário no computador, o Mallory agora pode ler o conteúdo do arquivo.</span><span class="sxs-lookup"><span data-stu-id="12e1c-261">Since this directory is readable by any user on the machine, Mallory can now read the contents of the file.</span></span>

### <a name="best-practices-to-defend-against-these-attacks"></a><span data-ttu-id="12e1c-262">Práticas recomendadas para a proteção contra esses ataques</span><span class="sxs-lookup"><span data-stu-id="12e1c-262">Best practices to defend against these attacks</span></span>

<span data-ttu-id="12e1c-263">__Importante:__ Se o seu ambiente tiver vários usuários mutuamente não confiáveis, __não__ chame a API `IsolatedStorageFile.GetEnumerator(IsolatedStorageScope.Machine)` nem invoque a ferramenta `storeadm.exe /machine /list` .</span><span class="sxs-lookup"><span data-stu-id="12e1c-263">__Important:__ If your environment has multiple mutually untrusted users, __do not__ call the API `IsolatedStorageFile.GetEnumerator(IsolatedStorageScope.Machine)` or invoke the tool `storeadm.exe /machine /list`.</span></span> <span data-ttu-id="12e1c-264">Ambos pressupõem que eles estão operando em dados confiáveis.</span><span class="sxs-lookup"><span data-stu-id="12e1c-264">Both of these assume that they're operating on trusted data.</span></span> <span data-ttu-id="12e1c-265">Se um invasor puder propagar uma carga mal-intencionada na loja de todo o computador, essa carga poderá levar a uma elevação de ataque de privilégio sob o contexto do usuário que executa esses comandos.</span><span class="sxs-lookup"><span data-stu-id="12e1c-265">If an attacker can seed a malicious payload in the machine-wide store, that payload can lead to an elevation of privilege attack under the context of the user who runs these commands.</span></span>

<span data-ttu-id="12e1c-266">Se estiver operando em um ambiente de vários usuários, reconsidere o uso de recursos de armazenamento isolado que se destinam ao escopo da _máquina_ .</span><span class="sxs-lookup"><span data-stu-id="12e1c-266">If operating in a multi-user environment, reconsider use of isolated storage features which target the _Machine_ scope.</span></span> <span data-ttu-id="12e1c-267">Se um aplicativo precisar ler dados de um local em todo o computador, prefira ler os dados de um local que são graváveis somente por contas de administrador.</span><span class="sxs-lookup"><span data-stu-id="12e1c-267">If an app must read data from a machine-wide location, prefer to read the data from a location that are writable only by admin accounts.</span></span> <span data-ttu-id="12e1c-268">O `%PROGRAMFILES%` diretório e o `HKLM` hive do registro são exemplos de locais que são graváveis somente por administradores e legíveis por todos.</span><span class="sxs-lookup"><span data-stu-id="12e1c-268">The `%PROGRAMFILES%` directory and the `HKLM` registry hive are examples of locations which are writable by only administrators and readable by everyone.</span></span> <span data-ttu-id="12e1c-269">Portanto, os dados lidos desses locais são considerados confiáveis.</span><span class="sxs-lookup"><span data-stu-id="12e1c-269">Data read from those locations is therefore considered trustworthy.</span></span>

<span data-ttu-id="12e1c-270">Se um aplicativo precisar usar o escopo da _máquina_ em um ambiente de vários usuários, valide o conteúdo de qualquer arquivo que você ler do repositório de todo o computador.</span><span class="sxs-lookup"><span data-stu-id="12e1c-270">If an app must use the _Machine_ scope in a multi-user environment, validate the contents of any file that you read from the machine-wide store.</span></span> <span data-ttu-id="12e1c-271">Se o aplicativo desserializar grafos de objeto desses arquivos, considere usar serializadores mais seguros como `XmlSerializer` em vez de serializadores perigosos como `BinaryFormatter` ou `NetDataContractSerializer` .</span><span class="sxs-lookup"><span data-stu-id="12e1c-271">If the app deserializing object graphs from these files, consider using safer serializers like `XmlSerializer` instead of dangerous serializers like `BinaryFormatter` or `NetDataContractSerializer`.</span></span> <span data-ttu-id="12e1c-272">Tenha cuidado com grafos de objeto profundamente aninhados ou grafos de objetos que executam a alocação de recursos com base no conteúdo do arquivo.</span><span class="sxs-lookup"><span data-stu-id="12e1c-272">Use caution with deeply nested object graphs or object graphs which perform resource allocation based on the file contents.</span></span>

<a name="isolated_storage_locations"></a>

## <a name="isolated-storage-locations"></a><span data-ttu-id="12e1c-273">Locais de Armazenamento Isolados</span><span class="sxs-lookup"><span data-stu-id="12e1c-273">Isolated Storage Locations</span></span>

<span data-ttu-id="12e1c-274">Às vezes é útil verificar uma alteração em um armazenamento usando o sistema de arquivos do sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="12e1c-274">Sometimes it is helpful to verify a change to isolated storage by using the file system of the operating system.</span></span> <span data-ttu-id="12e1c-275">Talvez você também queira saber o local dos arquivos de armazenamento isolados.</span><span class="sxs-lookup"><span data-stu-id="12e1c-275">You might also want to know the location of isolated storage files.</span></span> <span data-ttu-id="12e1c-276">Esse local é diferente dependendo do sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="12e1c-276">This location is different depending on the operating system.</span></span> <span data-ttu-id="12e1c-277">A tabela a seguir mostra os locais raiz em que um armazenamento isolado é criado em alguns sistemas operacionais comuns.</span><span class="sxs-lookup"><span data-stu-id="12e1c-277">The following table shows the root locations where isolated storage is created on a few common operating systems.</span></span> <span data-ttu-id="12e1c-278">Procure diretórios Microsoft\IsolatedStorage neste local raiz.</span><span class="sxs-lookup"><span data-stu-id="12e1c-278">Look for Microsoft\IsolatedStorage directories under this root location.</span></span> <span data-ttu-id="12e1c-279">Você deve alterar as configurações de pasta para mostrar arquivos e pastas ocultos para ver um armazenamento isolado no sistema de arquivos.</span><span class="sxs-lookup"><span data-stu-id="12e1c-279">You must change folder settings to show hidden files and folders in order to see isolated storage in the file system.</span></span>

|<span data-ttu-id="12e1c-280">Sistema operacional</span><span class="sxs-lookup"><span data-stu-id="12e1c-280">Operating system</span></span>|<span data-ttu-id="12e1c-281">Localização no sistema de arquivos</span><span class="sxs-lookup"><span data-stu-id="12e1c-281">Location in file system</span></span>|
|----------------------|-----------------------------|
|<span data-ttu-id="12e1c-282">Windows 2000, Windows XP, Windows Server 2003 (atualização do Windows NT 4.0)</span><span class="sxs-lookup"><span data-stu-id="12e1c-282">Windows 2000, Windows XP, Windows Server 2003  (upgrade from Windows NT 4.0)</span></span>|<span data-ttu-id="12e1c-283">Repositórios com suporte a uso móvel =</span><span class="sxs-lookup"><span data-stu-id="12e1c-283">Roaming-enabled stores =</span></span><br /><br /> <span data-ttu-id="12e1c-284">\<SYSTEMROOT>\Profiles \\<o usuário \> \Application Data</span><span class="sxs-lookup"><span data-stu-id="12e1c-284">\<SYSTEMROOT>\Profiles\\<user\>\Application Data</span></span><br /><br /> <span data-ttu-id="12e1c-285">Repositórios não móveis =</span><span class="sxs-lookup"><span data-stu-id="12e1c-285">Nonroaming stores =</span></span><br /><br /> <span data-ttu-id="12e1c-286">\<SYSTEMROOT>\Profiles \\<usuário \> \Local Settings\Application Data</span><span class="sxs-lookup"><span data-stu-id="12e1c-286">\<SYSTEMROOT>\Profiles\\<user\>\Local Settings\Application Data</span></span>|
|<span data-ttu-id="12e1c-287">Windows 2000 – Instalação limpa (e atualizações do Windows 98 e Windows NT 3.51)</span><span class="sxs-lookup"><span data-stu-id="12e1c-287">Windows 2000  - clean installation (and upgrades from Windows 98 and Windows NT 3.51)</span></span>|<span data-ttu-id="12e1c-288">Repositórios com suporte a uso móvel =</span><span class="sxs-lookup"><span data-stu-id="12e1c-288">Roaming-enabled stores =</span></span><br /><br /> <span data-ttu-id="12e1c-289">\<SYSTEMDRIVE>\Documents and Settings \\<o usuário \> \Application Data</span><span class="sxs-lookup"><span data-stu-id="12e1c-289">\<SYSTEMDRIVE>\Documents and Settings\\<user\>\Application Data</span></span><br /><br /> <span data-ttu-id="12e1c-290">Repositórios não móveis =</span><span class="sxs-lookup"><span data-stu-id="12e1c-290">Nonroaming stores =</span></span><br /><br /> <span data-ttu-id="12e1c-291">\<SYSTEMDRIVE>\Documents and Settings \\<usuário \> \Local Settings\Application Data</span><span class="sxs-lookup"><span data-stu-id="12e1c-291">\<SYSTEMDRIVE>\Documents and Settings\\<user\>\Local Settings\Application Data</span></span>|
|<span data-ttu-id="12e1c-292">Windows XP, Windows Server 2003 – Instalação limpa (e atualizações do Windows 2000 e Windows 98)</span><span class="sxs-lookup"><span data-stu-id="12e1c-292">Windows XP, Windows Server 2003 - clean installation (and upgrades from Windows 2000 and Windows 98)</span></span>|<span data-ttu-id="12e1c-293">Repositórios com suporte a uso móvel =</span><span class="sxs-lookup"><span data-stu-id="12e1c-293">Roaming-enabled stores =</span></span><br /><br /> <span data-ttu-id="12e1c-294">\<SYSTEMDRIVE>\Documents and Settings \\<o usuário \> \Application Data</span><span class="sxs-lookup"><span data-stu-id="12e1c-294">\<SYSTEMDRIVE>\Documents and Settings\\<user\>\Application Data</span></span><br /><br /> <span data-ttu-id="12e1c-295">Repositórios não móveis =</span><span class="sxs-lookup"><span data-stu-id="12e1c-295">Nonroaming stores =</span></span><br /><br /> <span data-ttu-id="12e1c-296">\<SYSTEMDRIVE>\Documents and Settings \\<usuário \> \Local Settings\Application Data</span><span class="sxs-lookup"><span data-stu-id="12e1c-296">\<SYSTEMDRIVE>\Documents and Settings\\<user\>\Local Settings\Application Data</span></span>|
|<span data-ttu-id="12e1c-297">Windows 8, Windows 7, Windows Server 2008, Windows Vista</span><span class="sxs-lookup"><span data-stu-id="12e1c-297">Windows 8, Windows 7, Windows Server 2008, Windows Vista</span></span>|<span data-ttu-id="12e1c-298">Repositórios com suporte a uso móvel =</span><span class="sxs-lookup"><span data-stu-id="12e1c-298">Roaming-enabled stores =</span></span><br /><br /> <span data-ttu-id="12e1c-299">\<SYSTEMDRIVE>\Users \\<usuário \> \AppData\Roaming</span><span class="sxs-lookup"><span data-stu-id="12e1c-299">\<SYSTEMDRIVE>\Users\\<user\>\AppData\Roaming</span></span><br /><br /> <span data-ttu-id="12e1c-300">Repositórios não móveis =</span><span class="sxs-lookup"><span data-stu-id="12e1c-300">Nonroaming stores =</span></span><br /><br /> <span data-ttu-id="12e1c-301">\<SYSTEMDRIVE>\Users \\<usuário \> \AppData\Local</span><span class="sxs-lookup"><span data-stu-id="12e1c-301">\<SYSTEMDRIVE>\Users\\<user\>\AppData\Local</span></span>|

<a name="isolated_storage_tasks"></a>

## <a name="creating-enumerating-and-deleting-isolated-storage"></a><span data-ttu-id="12e1c-302">Criando, Enumerando e Excluindo Armazenamento Isolado</span><span class="sxs-lookup"><span data-stu-id="12e1c-302">Creating, Enumerating, and Deleting Isolated Storage</span></span>

<span data-ttu-id="12e1c-303">O .NET fornece três classes no <xref:System.IO.IsolatedStorage> namespace para ajudá-lo a executar tarefas que envolvem o armazenamento isolado:</span><span class="sxs-lookup"><span data-stu-id="12e1c-303">.NET provides three classes in the <xref:System.IO.IsolatedStorage> namespace to help you perform tasks that involve isolated storage:</span></span>

- <span data-ttu-id="12e1c-304"><xref:System.IO.IsolatedStorage.IsolatedStorageFile>, que é derivado de <xref:System.IO.IsolatedStorage.IsolatedStorage?displayProperty=nameWithType> e fornece gerenciamento básico de assemblies armazenados e arquivos de aplicativos.</span><span class="sxs-lookup"><span data-stu-id="12e1c-304"><xref:System.IO.IsolatedStorage.IsolatedStorageFile>, derives from <xref:System.IO.IsolatedStorage.IsolatedStorage?displayProperty=nameWithType> and provides basic management of stored assembly and application files.</span></span> <span data-ttu-id="12e1c-305">Uma instância da classe <xref:System.IO.IsolatedStorage.IsolatedStorageFile> representa um único repositório localizado no sistema de arquivos.</span><span class="sxs-lookup"><span data-stu-id="12e1c-305">An instance of the <xref:System.IO.IsolatedStorage.IsolatedStorageFile> class represents a single store located in the file system.</span></span>

- <span data-ttu-id="12e1c-306"><xref:System.IO.IsolatedStorage.IsolatedStorageFileStream> deriva de <xref:System.IO.FileStream?displayProperty=nameWithType> e fornece acesso aos arquivos em um repositório.</span><span class="sxs-lookup"><span data-stu-id="12e1c-306"><xref:System.IO.IsolatedStorage.IsolatedStorageFileStream> derives from <xref:System.IO.FileStream?displayProperty=nameWithType> and provides access to the files in a store.</span></span>

- <span data-ttu-id="12e1c-307"><xref:System.IO.IsolatedStorage.IsolatedStorageScope> é uma enumeração que permite que você crie e selecione um repositório com o tipo de isolamento apropriado.</span><span class="sxs-lookup"><span data-stu-id="12e1c-307"><xref:System.IO.IsolatedStorage.IsolatedStorageScope> is an enumeration that enables you to create and select a store with the appropriate isolation type.</span></span>

<span data-ttu-id="12e1c-308">As classes de armazenamento isolado permitem que você crie, enumere e exclua o armazenamento isolado.</span><span class="sxs-lookup"><span data-stu-id="12e1c-308">The isolated storage classes enable you to create, enumerate, and delete isolated storage.</span></span> <span data-ttu-id="12e1c-309">Os métodos para a execução dessas tarefas estão disponíveis através do objeto <xref:System.IO.IsolatedStorage.IsolatedStorageFile>.</span><span class="sxs-lookup"><span data-stu-id="12e1c-309">The methods for performing these tasks are available through the <xref:System.IO.IsolatedStorage.IsolatedStorageFile> object.</span></span> <span data-ttu-id="12e1c-310">Algumas operações exigem que você tenha a permissão <xref:System.Security.Permissions.IsolatedStorageFilePermission> que representa o direito para administrar o armazenamento isolado; você também pode precisar ter direitos do sistema operacional para acessar o arquivo ou diretório.</span><span class="sxs-lookup"><span data-stu-id="12e1c-310">Some operations require you to have the <xref:System.Security.Permissions.IsolatedStorageFilePermission> permission that represents the right to administer isolated storage; you might also need to have operating system rights to access the file or directory.</span></span>

<span data-ttu-id="12e1c-311">Para uma série de exemplos que demonstram tarefas de armazenamento isoladas comuns, confira os tópicos listados em [Tópicos relacionados](#related_topics).</span><span class="sxs-lookup"><span data-stu-id="12e1c-311">For a series of examples that demonstrate common isolated storage tasks, see the how-to topics listed in [Related Topics](#related_topics).</span></span>

<a name="scenarios_for_isolated_storage"></a>

## <a name="scenarios-for-isolated-storage"></a><span data-ttu-id="12e1c-312">Cenários para armazenamento isolado</span><span class="sxs-lookup"><span data-stu-id="12e1c-312">Scenarios for Isolated Storage</span></span>

<span data-ttu-id="12e1c-313">O armazenamento isolado é útil em muitas situações, inclusive nestes quatro cenários:</span><span class="sxs-lookup"><span data-stu-id="12e1c-313">Isolated storage is useful in many situations, including these four scenarios:</span></span>

- <span data-ttu-id="12e1c-314">Controles baixados.</span><span class="sxs-lookup"><span data-stu-id="12e1c-314">Downloaded controls.</span></span> <span data-ttu-id="12e1c-315">Controles de código gerenciado baixados da Internet não têm permissão para escrever no disco rígido por meio de classes normais de E/S, mas eles podem usar o armazenamento isolado para persistir as configurações do usuário e o estado dos aplicativos.</span><span class="sxs-lookup"><span data-stu-id="12e1c-315">Managed code controls downloaded from the Internet are not allowed to write to the hard drive through normal I/O classes, but they can use isolated storage to persist users' settings and application states.</span></span>

- <span data-ttu-id="12e1c-316">Armazenamento de componentes compartilhado.</span><span class="sxs-lookup"><span data-stu-id="12e1c-316">Shared component storage.</span></span> <span data-ttu-id="12e1c-317">Componentes que são compartilhados entre aplicativos podem usar o armazenamento isolado para fornecer acesso controlado a repositórios de dados.</span><span class="sxs-lookup"><span data-stu-id="12e1c-317">Components that are shared between applications can use isolated storage to provide controlled access to data stores.</span></span>

- <span data-ttu-id="12e1c-318">Armazenamento de servidor.</span><span class="sxs-lookup"><span data-stu-id="12e1c-318">Server storage.</span></span> <span data-ttu-id="12e1c-319">Aplicativos de servidor podem usar o armazenamento isolado para fornecer armazenamento individual para um grande número de usuários que estão realizando solicitações ao aplicativo.</span><span class="sxs-lookup"><span data-stu-id="12e1c-319">Server applications can use isolated storage to provide individual stores for a large number of users making requests to the application.</span></span> <span data-ttu-id="12e1c-320">Pelo fato do armazenamento isolado ser sempre segredado por usuário, o servidor deve personificar o usuário que fez a solicitação.</span><span class="sxs-lookup"><span data-stu-id="12e1c-320">Because isolated storage is always segregated by user, the server must impersonate the user making the request.</span></span> <span data-ttu-id="12e1c-321">Nesse caso, os dados são isolados com base na identidade do principal, que é a mesma identidade que o aplicativo usa para fazer a distinção entre os seus usuários.</span><span class="sxs-lookup"><span data-stu-id="12e1c-321">In this case, data is isolated based on the identity of the principal, which is the same identity the application uses to distinguish between its users.</span></span>

- <span data-ttu-id="12e1c-322">Roaming.</span><span class="sxs-lookup"><span data-stu-id="12e1c-322">Roaming.</span></span> <span data-ttu-id="12e1c-323">Os aplicativos também podem usar o armazenamento isolado com perfis de usuários móveis.</span><span class="sxs-lookup"><span data-stu-id="12e1c-323">Applications can also use isolated storage with roaming user profiles.</span></span> <span data-ttu-id="12e1c-324">Isso permite que repositórios isolados de um usuário façam roaming com o perfil.</span><span class="sxs-lookup"><span data-stu-id="12e1c-324">This allows a user's isolated stores to roam with the profile.</span></span>

<span data-ttu-id="12e1c-325">Você não deve usar um armazenamento isolado nas seguintes situações:</span><span class="sxs-lookup"><span data-stu-id="12e1c-325">You should not use isolated storage in the following situations:</span></span>

- <span data-ttu-id="12e1c-326">Para armazenar segredos de alto valor, como chaves sem criptografia ou senhas, pois o armazenamento isolado não é protegido contra código altamente confiável, código não gerenciado ou usuários confiáveis do computador.</span><span class="sxs-lookup"><span data-stu-id="12e1c-326">To store high-value secrets, such as unencrypted keys or passwords, because isolated storage is not protected from highly trusted code, from unmanaged code, or from trusted users of the computer.</span></span>

- <span data-ttu-id="12e1c-327">Para armazenar código.</span><span class="sxs-lookup"><span data-stu-id="12e1c-327">To store code.</span></span>

- <span data-ttu-id="12e1c-328">Para armazenar configurações e opções de implantação, as quais são controladas pelos administradores.</span><span class="sxs-lookup"><span data-stu-id="12e1c-328">To store configuration and deployment settings, which administrators control.</span></span> <span data-ttu-id="12e1c-329">(As preferências do usuário não são consideradas como definições de configuração, pois os administradores não as controlam.)</span><span class="sxs-lookup"><span data-stu-id="12e1c-329">(User preferences are not considered to be configuration settings because administrators do not control them.)</span></span>

<span data-ttu-id="12e1c-330">Muitos aplicativos usam bancos de dados para armazenar e isolar os dados. Nesse caso uma ou mais linhas em um banco de dados podem representar o armazenamento para um usuário específico.</span><span class="sxs-lookup"><span data-stu-id="12e1c-330">Many applications use a database to store and isolate data, in which case one or more rows in a database might represent storage for a specific user.</span></span> <span data-ttu-id="12e1c-331">Você pode optar por usar armazenamento isolado em vez de um banco de dados quando o número de usuários é pequeno, quando as despesas no uso de um banco de dados é significativa ou quando não existe nenhum recurso de banco de dados.</span><span class="sxs-lookup"><span data-stu-id="12e1c-331">You might choose to use isolated storage instead of a database when the number of users is small, when the overhead of using a database is significant, or when no database facility exists.</span></span> <span data-ttu-id="12e1c-332">Além disso, quando o aplicativo requer um armazenamento que seja mais flexível e complexo do que aquele fornecido por uma linha em um banco de dados, o armazenamento isolado pode fornecer uma alternativa viável.</span><span class="sxs-lookup"><span data-stu-id="12e1c-332">Also, when the application requires storage that is more flexible and complex than what a row in a database provides, isolated storage can provide a viable alternative.</span></span>

<a name="related_topics"></a>

## <a name="related-articles"></a><span data-ttu-id="12e1c-333">Artigos relacionados</span><span class="sxs-lookup"><span data-stu-id="12e1c-333">Related articles</span></span>

|<span data-ttu-id="12e1c-334">Título</span><span class="sxs-lookup"><span data-stu-id="12e1c-334">Title</span></span>|<span data-ttu-id="12e1c-335">Descrição</span><span class="sxs-lookup"><span data-stu-id="12e1c-335">Description</span></span>|
|-----------|-----------------|
|[<span data-ttu-id="12e1c-336">Tipos de isolamento</span><span class="sxs-lookup"><span data-stu-id="12e1c-336">Types of Isolation</span></span>](types-of-isolation.md)|<span data-ttu-id="12e1c-337">Descreve os diferentes tipos de isolamento.</span><span class="sxs-lookup"><span data-stu-id="12e1c-337">Describes the different types of isolation.</span></span>|
|[<span data-ttu-id="12e1c-338">Como: Obter repositórios para o armazenamento isolado</span><span class="sxs-lookup"><span data-stu-id="12e1c-338">How to: Obtain Stores for Isolated Storage</span></span>](how-to-obtain-stores-for-isolated-storage.md)|<span data-ttu-id="12e1c-339">Fornece um exemplo de uso da classe <xref:System.IO.IsolatedStorage.IsolatedStorageFile> para obter um armazenamento isolado por usuário e assembly.</span><span class="sxs-lookup"><span data-stu-id="12e1c-339">Provides an example of using the <xref:System.IO.IsolatedStorage.IsolatedStorageFile> class to obtain a store isolated by user and assembly.</span></span>|
|[<span data-ttu-id="12e1c-340">Como: Enumerar repositórios para o armazenamento isolado</span><span class="sxs-lookup"><span data-stu-id="12e1c-340">How to: Enumerate Stores for Isolated Storage</span></span>](how-to-enumerate-stores-for-isolated-storage.md)|<span data-ttu-id="12e1c-341">Mostra como usar o método <xref:System.IO.IsolatedStorage.IsolatedStorageFile.GetEnumerator%2A?displayProperty=nameWithType> para calcular o tamanho de todo o armazenamento isolado para o usuário.</span><span class="sxs-lookup"><span data-stu-id="12e1c-341">Shows how to use the <xref:System.IO.IsolatedStorage.IsolatedStorageFile.GetEnumerator%2A?displayProperty=nameWithType> method to calculate the size of all isolated storage for the user.</span></span>|
|[<span data-ttu-id="12e1c-342">Como: Excluir repositórios no armazenamento isolado</span><span class="sxs-lookup"><span data-stu-id="12e1c-342">How to: Delete Stores in Isolated Storage</span></span>](how-to-delete-stores-in-isolated-storage.md)|<span data-ttu-id="12e1c-343">Mostra como usar o método <xref:System.IO.IsolatedStorage.IsolatedStorageFile.Remove%2A?displayProperty=nameWithType> de duas maneiras diferentes para excluir repositórios isolados.</span><span class="sxs-lookup"><span data-stu-id="12e1c-343">Shows how to use the <xref:System.IO.IsolatedStorage.IsolatedStorageFile.Remove%2A?displayProperty=nameWithType> method in two different ways to delete isolated stores.</span></span>|
|[<span data-ttu-id="12e1c-344">Como: Prever condições de espaço insuficiente com o armazenamento isolado</span><span class="sxs-lookup"><span data-stu-id="12e1c-344">How to: Anticipate Out-of-Space Conditions with Isolated Storage</span></span>](how-to-anticipate-out-of-space-conditions-with-isolated-storage.md)|<span data-ttu-id="12e1c-345">Mostra como a medir o espaço restante em um armazenamento isolado.</span><span class="sxs-lookup"><span data-stu-id="12e1c-345">Shows how to measure the remaining space in an isolated store.</span></span>|
|[<span data-ttu-id="12e1c-346">Como: Criar arquivos e diretórios no armazenamento isolado</span><span class="sxs-lookup"><span data-stu-id="12e1c-346">How to: Create Files and Directories in Isolated Storage</span></span>](how-to-create-files-and-directories-in-isolated-storage.md)|<span data-ttu-id="12e1c-347">Fornece alguns exemplos de criação de arquivos e diretórios em um repositório isolado.</span><span class="sxs-lookup"><span data-stu-id="12e1c-347">Provides some examples of creating files and directories in an isolated store.</span></span>|
|[<span data-ttu-id="12e1c-348">Como: Localizar arquivos e diretórios existentes no armazenamento isolado</span><span class="sxs-lookup"><span data-stu-id="12e1c-348">How to: Find Existing Files and Directories in Isolated Storage</span></span>](how-to-find-existing-files-and-directories-in-isolated-storage.md)|<span data-ttu-id="12e1c-349">Demonstra como ler a estrutura de diretórios e arquivos no armazenamento isolado.</span><span class="sxs-lookup"><span data-stu-id="12e1c-349">Demonstrates how to read the directory structure and files in isolated storage.</span></span>|
|[<span data-ttu-id="12e1c-350">Como: Ler e gravar em arquivos no armazenamento isolado</span><span class="sxs-lookup"><span data-stu-id="12e1c-350">How to: Read and Write to Files in Isolated Storage</span></span>](how-to-read-and-write-to-files-in-isolated-storage.md)|<span data-ttu-id="12e1c-351">Fornece um exemplo de gravação de uma cadeia de caracteres em um arquivo de armazenamento isolado, seguida por sua leitura de volta.</span><span class="sxs-lookup"><span data-stu-id="12e1c-351">Provides an example of writing a string to an isolated storage file and reading it back.</span></span>|
|[<span data-ttu-id="12e1c-352">Como: Excluir arquivos e diretórios no armazenamento isolado</span><span class="sxs-lookup"><span data-stu-id="12e1c-352">How to: Delete Files and Directories in Isolated Storage</span></span>](how-to-delete-files-and-directories-in-isolated-storage.md)|<span data-ttu-id="12e1c-353">Demonstra como excluir arquivos e diretórios isolados.</span><span class="sxs-lookup"><span data-stu-id="12e1c-353">Demonstrates how to delete isolated storage files and directories.</span></span>|
|[<span data-ttu-id="12e1c-354">Arquivo e e/s de fluxo</span><span class="sxs-lookup"><span data-stu-id="12e1c-354">File and Stream I/O</span></span>](index.md)|<span data-ttu-id="12e1c-355">Explica como você pode executar acesso síncrono e assíncrono a fluxos de dados e arquivos.</span><span class="sxs-lookup"><span data-stu-id="12e1c-355">Explains how you can perform synchronous and asynchronous file and data stream access.</span></span>|

<a name="reference"></a>

## <a name="reference"></a><span data-ttu-id="12e1c-356">Referência</span><span class="sxs-lookup"><span data-stu-id="12e1c-356">Reference</span></span>

- <xref:System.IO.IsolatedStorage.IsolatedStorage?displayProperty=nameWithType>

- <xref:System.IO.IsolatedStorage.IsolatedStorageFile?displayProperty=nameWithType>

- <xref:System.IO.IsolatedStorage.IsolatedStorageFileStream?displayProperty=nameWithType>

- <xref:System.IO.IsolatedStorage.IsolatedStorageScope?displayProperty=nameWithType>
