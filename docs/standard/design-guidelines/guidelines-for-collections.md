---
title: Diretrizes para coleções
ms.date: 10/22/2008
ms.technology: dotnet-standard
ms.assetid: 297b8f1d-b11f-4dc6-960a-8e990817304e
ms.openlocfilehash: cc853be2310cf72c4eb559f625c6a37a44ed7db8
ms.sourcegitcommit: 33deec3e814238fb18a49b2a7e89278e27888291
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 06/02/2020
ms.locfileid: "84276043"
---
# <a name="guidelines-for-collections"></a><span data-ttu-id="094fa-102">Diretrizes para coleções</span><span class="sxs-lookup"><span data-stu-id="094fa-102">Guidelines for Collections</span></span>
<span data-ttu-id="094fa-103">Qualquer tipo projetado especificamente para manipular um grupo de objetos com alguma característica comum pode ser considerado uma coleção.</span><span class="sxs-lookup"><span data-stu-id="094fa-103">Any type designed specifically to manipulate a group of objects having some common characteristic can be considered a collection.</span></span> <span data-ttu-id="094fa-104">É quase sempre apropriado que tais tipos sejam implementados <xref:System.Collections.IEnumerable> ou <xref:System.Collections.Generic.IEnumerable%601> , portanto, nesta seção, apenas consideramos os tipos que implementam uma ou ambas as interfaces para serem coleções.</span><span class="sxs-lookup"><span data-stu-id="094fa-104">It is almost always appropriate for such types to implement <xref:System.Collections.IEnumerable> or <xref:System.Collections.Generic.IEnumerable%601>, so in this section we only consider types implementing one or both of those interfaces to be collections.</span></span>

 <span data-ttu-id="094fa-105">❌Não use coleções com tipo fraco em APIs públicas.</span><span class="sxs-lookup"><span data-stu-id="094fa-105">❌ DO NOT use weakly typed collections in public APIs.</span></span>

 <span data-ttu-id="094fa-106">O tipo de todos os valores de retorno e parâmetros que representam itens de coleta deve ser o tipo de item exato, não qualquer um de seus tipos base (isso se aplica somente a membros públicos da coleção).</span><span class="sxs-lookup"><span data-stu-id="094fa-106">The type of all return values and parameters representing collection items should be the exact item type, not any of its base types (this applies only to public members of the collection).</span></span>

 <span data-ttu-id="094fa-107">❌Não use <xref:System.Collections.ArrayList> nem <xref:System.Collections.Generic.List%601> em APIs públicas.</span><span class="sxs-lookup"><span data-stu-id="094fa-107">❌ DO NOT use <xref:System.Collections.ArrayList> or <xref:System.Collections.Generic.List%601> in public APIs.</span></span>

 <span data-ttu-id="094fa-108">Esses tipos são estruturas de dados projetadas para serem usadas na implementação interna, não em APIs públicas.</span><span class="sxs-lookup"><span data-stu-id="094fa-108">These types are data structures designed to be used in internal implementation, not in public APIs.</span></span> <span data-ttu-id="094fa-109">`List<T>`é otimizado para desempenho e potência no custo da limpeza das APIs e da flexibilidade.</span><span class="sxs-lookup"><span data-stu-id="094fa-109">`List<T>` is optimized for performance and power at the cost of cleanness of the APIs and flexibility.</span></span> <span data-ttu-id="094fa-110">Por exemplo, se você retornar `List<T>` , ainda não será possível receber notificações quando o código do cliente modificar a coleção.</span><span class="sxs-lookup"><span data-stu-id="094fa-110">For example, if you return `List<T>`, you will not ever be able to receive notifications when client code modifies the collection.</span></span> <span data-ttu-id="094fa-111">Além disso, `List<T>` o expõe muitos membros, como <xref:System.Collections.Generic.List%601.BinarySearch%2A> , que não são úteis ou aplicáveis em muitos cenários.</span><span class="sxs-lookup"><span data-stu-id="094fa-111">Also, `List<T>` exposes many members, such as <xref:System.Collections.Generic.List%601.BinarySearch%2A>, that are not useful or applicable in many scenarios.</span></span> <span data-ttu-id="094fa-112">As duas seções a seguir descrevem tipos (abstrações) projetados especificamente para uso em APIs públicas.</span><span class="sxs-lookup"><span data-stu-id="094fa-112">The following two sections describe types (abstractions) designed specifically for use in public APIs.</span></span>

 <span data-ttu-id="094fa-113">❌Não use `Hashtable` nem `Dictionary<TKey,TValue>` em APIs públicas.</span><span class="sxs-lookup"><span data-stu-id="094fa-113">❌ DO NOT use `Hashtable` or `Dictionary<TKey,TValue>` in public APIs.</span></span>

 <span data-ttu-id="094fa-114">Esses tipos são estruturas de dados projetadas para serem usadas na implementação interna.</span><span class="sxs-lookup"><span data-stu-id="094fa-114">These types are data structures designed to be used in internal implementation.</span></span> <span data-ttu-id="094fa-115">As APIs públicas devem usar <xref:System.Collections.IDictionary> , `IDictionary <TKey, TValue>` ou um tipo personalizado que implemente uma ou ambas as interfaces.</span><span class="sxs-lookup"><span data-stu-id="094fa-115">Public APIs should use <xref:System.Collections.IDictionary>, `IDictionary <TKey, TValue>`, or a custom type implementing one or both of the interfaces.</span></span>

 <span data-ttu-id="094fa-116">❌Não use <xref:System.Collections.Generic.IEnumerator%601> , <xref:System.Collections.IEnumerator> ou qualquer outro tipo que implemente qualquer uma dessas interfaces, exceto como o tipo de retorno de um `GetEnumerator` método.</span><span class="sxs-lookup"><span data-stu-id="094fa-116">❌ DO NOT use <xref:System.Collections.Generic.IEnumerator%601>, <xref:System.Collections.IEnumerator>, or any other type that implements either of these interfaces, except as the return type of a `GetEnumerator` method.</span></span>

 <span data-ttu-id="094fa-117">Tipos que retornam enumeradores de métodos diferentes de `GetEnumerator` não podem ser usados com a `foreach` instrução.</span><span class="sxs-lookup"><span data-stu-id="094fa-117">Types returning enumerators from methods other than `GetEnumerator` cannot be used with the `foreach` statement.</span></span>

 <span data-ttu-id="094fa-118">❌Não implemente ambos `IEnumerator<T>` e `IEnumerable<T>` no mesmo tipo.</span><span class="sxs-lookup"><span data-stu-id="094fa-118">❌ DO NOT implement both `IEnumerator<T>` and `IEnumerable<T>` on the same type.</span></span> <span data-ttu-id="094fa-119">O mesmo se aplica às interfaces não genéricas `IEnumerator` e ao `IEnumerable` .</span><span class="sxs-lookup"><span data-stu-id="094fa-119">The same applies to the nongeneric interfaces `IEnumerator` and `IEnumerable`.</span></span>

## <a name="collection-parameters"></a><span data-ttu-id="094fa-120">Parâmetros de coleta</span><span class="sxs-lookup"><span data-stu-id="094fa-120">Collection Parameters</span></span>
 <span data-ttu-id="094fa-121">✔️ usar o tipo menos especializado possível como um tipo de parâmetro.</span><span class="sxs-lookup"><span data-stu-id="094fa-121">✔️ DO use the least-specialized type possible as a parameter type.</span></span> <span data-ttu-id="094fa-122">A maioria dos membros que tomam coleções como parâmetros usa a `IEnumerable<T>` interface.</span><span class="sxs-lookup"><span data-stu-id="094fa-122">Most members taking collections as parameters use the `IEnumerable<T>` interface.</span></span>

 <span data-ttu-id="094fa-123">❌Evite usar <xref:System.Collections.Generic.ICollection%601> ou <xref:System.Collections.ICollection> como um parâmetro apenas para acessar a `Count` propriedade.</span><span class="sxs-lookup"><span data-stu-id="094fa-123">❌ AVOID using <xref:System.Collections.Generic.ICollection%601> or <xref:System.Collections.ICollection> as a parameter just to access the `Count` property.</span></span>

 <span data-ttu-id="094fa-124">Em vez disso, considere usar `IEnumerable<T>` ou `IEnumerable` e verificar dinamicamente se o objeto implementa `ICollection<T>` ou `ICollection` .</span><span class="sxs-lookup"><span data-stu-id="094fa-124">Instead, consider using `IEnumerable<T>` or `IEnumerable` and dynamically checking whether the object implements `ICollection<T>` or `ICollection`.</span></span>

## <a name="collection-properties-and-return-values"></a><span data-ttu-id="094fa-125">Propriedades de coleção e valores de retorno</span><span class="sxs-lookup"><span data-stu-id="094fa-125">Collection Properties and Return Values</span></span>
 <span data-ttu-id="094fa-126">❌Não forneça Propriedades de coleção configurável.</span><span class="sxs-lookup"><span data-stu-id="094fa-126">❌ DO NOT provide settable collection properties.</span></span>

 <span data-ttu-id="094fa-127">Os usuários podem substituir o conteúdo da coleção limpando a coleção primeiro e, em seguida, adicionando o novo conteúdo.</span><span class="sxs-lookup"><span data-stu-id="094fa-127">Users can replace the contents of the collection by clearing the collection first and then adding the new contents.</span></span> <span data-ttu-id="094fa-128">Se substituir a coleção inteira for um cenário comum, considere fornecer o `AddRange` método na coleção.</span><span class="sxs-lookup"><span data-stu-id="094fa-128">If replacing the whole collection is a common scenario, consider providing the `AddRange` method on the collection.</span></span>

 <span data-ttu-id="094fa-129">✔️ usar `Collection<T>` ou uma subclasse de `Collection<T>` para propriedades ou valores de retorno que representam coleções de leitura/gravação.</span><span class="sxs-lookup"><span data-stu-id="094fa-129">✔️ DO use `Collection<T>` or a subclass of `Collection<T>` for properties or return values representing read/write collections.</span></span>

 <span data-ttu-id="094fa-130">Se `Collection<T>` o não atender a algum requisito (por exemplo, a coleção não deve implementar <xref:System.Collections.IList> ), use uma coleção personalizada implementando `IEnumerable<T>` , `ICollection<T>` ou <xref:System.Collections.Generic.IList%601> .</span><span class="sxs-lookup"><span data-stu-id="094fa-130">If `Collection<T>` does not meet some requirement (e.g., the collection must not implement <xref:System.Collections.IList>), use a custom collection by implementing `IEnumerable<T>`, `ICollection<T>`, or <xref:System.Collections.Generic.IList%601>.</span></span>

 <span data-ttu-id="094fa-131">✔️ usar <xref:System.Collections.ObjectModel.ReadOnlyCollection%601> , uma subclasse de `ReadOnlyCollection<T>` ou em casos raros `IEnumerable<T>` para propriedades ou valores de retorno representando coleções somente leitura.</span><span class="sxs-lookup"><span data-stu-id="094fa-131">✔️ DO use <xref:System.Collections.ObjectModel.ReadOnlyCollection%601>, a subclass of `ReadOnlyCollection<T>`, or in rare cases `IEnumerable<T>` for properties or return values representing read-only collections.</span></span>

 <span data-ttu-id="094fa-132">Em geral, prefira `ReadOnlyCollection<T>` .</span><span class="sxs-lookup"><span data-stu-id="094fa-132">In general, prefer `ReadOnlyCollection<T>`.</span></span> <span data-ttu-id="094fa-133">Se ele não atender a algum requisito (por exemplo, a coleção não deve implementar `IList` ), use uma coleção personalizada implementando `IEnumerable<T>` , `ICollection<T>` ou `IList<T>` .</span><span class="sxs-lookup"><span data-stu-id="094fa-133">If it does not meet some requirement (e.g., the collection must not implement `IList`), use a custom collection by implementing `IEnumerable<T>`, `ICollection<T>`, or `IList<T>`.</span></span> <span data-ttu-id="094fa-134">Se você implementar uma coleção personalizada somente leitura, implemente `ICollection<T>.IsReadOnly` para retornar `true` .</span><span class="sxs-lookup"><span data-stu-id="094fa-134">If you do implement a custom read-only collection, implement `ICollection<T>.IsReadOnly` to return `true`.</span></span>

 <span data-ttu-id="094fa-135">Nos casos em que você tem certeza de que o único cenário para o qual você deseja dar suporte é iteração somente de avanço, você pode simplesmente usar `IEnumerable<T>` .</span><span class="sxs-lookup"><span data-stu-id="094fa-135">In cases where you are sure that the only scenario you will ever want to support is forward-only iteration, you can simply use `IEnumerable<T>`.</span></span>

 <span data-ttu-id="094fa-136">✔️ Considere o uso de subclasses de coleções base genéricas em vez de usar as coleções diretamente.</span><span class="sxs-lookup"><span data-stu-id="094fa-136">✔️ CONSIDER using subclasses of generic base collections instead of using the collections directly.</span></span>

 <span data-ttu-id="094fa-137">Isso permite um nome melhor e para adicionar membros auxiliares que não estão presentes nos tipos de coleção base.</span><span class="sxs-lookup"><span data-stu-id="094fa-137">This allows for a better name and for adding helper members that are not present on the base collection types.</span></span> <span data-ttu-id="094fa-138">Isso é especialmente aplicável a APIs de alto nível.</span><span class="sxs-lookup"><span data-stu-id="094fa-138">This is especially applicable to high-level APIs.</span></span>

 <span data-ttu-id="094fa-139">✔️ Considere retornar uma subclasse de `Collection<T>` ou `ReadOnlyCollection<T>` de métodos e propriedades usados com muita frequência.</span><span class="sxs-lookup"><span data-stu-id="094fa-139">✔️ CONSIDER returning a subclass of `Collection<T>` or `ReadOnlyCollection<T>` from very commonly used methods and properties.</span></span>

 <span data-ttu-id="094fa-140">Isso possibilitará que você adicione métodos auxiliares ou altere a implementação da coleção no futuro.</span><span class="sxs-lookup"><span data-stu-id="094fa-140">This will make it possible for you to add helper methods or change the collection implementation in the future.</span></span>

 <span data-ttu-id="094fa-141">✔️ Considere usar uma coleção com chave se os itens armazenados na coleção tiverem chaves exclusivas (nomes, IDs, etc.).</span><span class="sxs-lookup"><span data-stu-id="094fa-141">✔️ CONSIDER using a keyed collection if the items stored in the collection have unique keys (names, IDs, etc.).</span></span> <span data-ttu-id="094fa-142">Coleções com chave são coleções que podem ser indexadas por um inteiro e uma chave e geralmente são implementadas herdando de `KeyedCollection<TKey,TItem>` .</span><span class="sxs-lookup"><span data-stu-id="094fa-142">Keyed collections are collections that can be indexed by both an integer and a key and are usually implemented by inheriting from `KeyedCollection<TKey,TItem>`.</span></span>

 <span data-ttu-id="094fa-143">Coleções com chave geralmente têm grandes volumes de memória e não devem ser usadas se a sobrecarga de memória supera os benefícios de ter as chaves.</span><span class="sxs-lookup"><span data-stu-id="094fa-143">Keyed collections usually have larger memory footprints and should not be used if the memory overhead outweighs the benefits of having the keys.</span></span>

 <span data-ttu-id="094fa-144">❌Não retornar valores nulos das propriedades de coleção ou dos métodos que retornam coleções.</span><span class="sxs-lookup"><span data-stu-id="094fa-144">❌ DO NOT return null values from collection properties or from methods returning collections.</span></span> <span data-ttu-id="094fa-145">Em vez disso, retorne uma coleção vazia ou uma matriz vazia.</span><span class="sxs-lookup"><span data-stu-id="094fa-145">Return an empty collection or an empty array instead.</span></span>

 <span data-ttu-id="094fa-146">A regra geral é que as coleções e as matrizes NULL e Empty (0 item) devem ser tratadas da mesma.</span><span class="sxs-lookup"><span data-stu-id="094fa-146">The general rule is that null and empty (0 item) collections or arrays should be treated the same.</span></span>

### <a name="snapshots-versus-live-collections"></a><span data-ttu-id="094fa-147">Instantâneos versus coleções ao vivo</span><span class="sxs-lookup"><span data-stu-id="094fa-147">Snapshots Versus Live Collections</span></span>
 <span data-ttu-id="094fa-148">As coleções que representam um estado em algum momento são chamadas de coleções de instantâneos.</span><span class="sxs-lookup"><span data-stu-id="094fa-148">Collections representing a state at some point in time are called snapshot collections.</span></span> <span data-ttu-id="094fa-149">Por exemplo, uma coleção que contém linhas retornadas de uma consulta de banco de dados seria um instantâneo.</span><span class="sxs-lookup"><span data-stu-id="094fa-149">For example, a collection containing rows returned from a database query would be a snapshot.</span></span> <span data-ttu-id="094fa-150">As coleções que sempre representam o estado atual são chamadas de coleções dinâmicas.</span><span class="sxs-lookup"><span data-stu-id="094fa-150">Collections that always represent the current state are called live collections.</span></span> <span data-ttu-id="094fa-151">Por exemplo, uma coleção de `ComboBox` itens é uma coleção dinâmica.</span><span class="sxs-lookup"><span data-stu-id="094fa-151">For example, a collection of `ComboBox` items is a live collection.</span></span>

 <span data-ttu-id="094fa-152">❌NÃO retornar coleções de instantâneos das propriedades.</span><span class="sxs-lookup"><span data-stu-id="094fa-152">❌ DO NOT return snapshot collections from properties.</span></span> <span data-ttu-id="094fa-153">As propriedades devem retornar coleções dinâmicas.</span><span class="sxs-lookup"><span data-stu-id="094fa-153">Properties should return live collections.</span></span>

 <span data-ttu-id="094fa-154">Os getters de propriedade devem ser operações muito leves.</span><span class="sxs-lookup"><span data-stu-id="094fa-154">Property getters should be very lightweight operations.</span></span> <span data-ttu-id="094fa-155">Retornar um instantâneo requer a criação de uma cópia de uma coleção interna em uma operação O (n).</span><span class="sxs-lookup"><span data-stu-id="094fa-155">Returning a snapshot requires creating a copy of an internal collection in an O(n) operation.</span></span>

 <span data-ttu-id="094fa-156">✔️ usar uma coleção de instantâneos ou um Live `IEnumerable<T>` (ou seu subtipo) para representar coleções que são voláteis (ou seja, que podem ser alteradas sem modificar explicitamente a coleção).</span><span class="sxs-lookup"><span data-stu-id="094fa-156">✔️ DO use either a snapshot collection or a live `IEnumerable<T>` (or its subtype) to represent collections that are volatile (i.e., that can change without explicitly modifying the collection).</span></span>

 <span data-ttu-id="094fa-157">Em geral, todas as coleções que representam um recurso compartilhado (por exemplo, arquivos em um diretório) são voláteis.</span><span class="sxs-lookup"><span data-stu-id="094fa-157">In general, all collections representing a shared resource (e.g., files in a directory) are volatile.</span></span> <span data-ttu-id="094fa-158">Essas coleções são muito difíceis ou impossíveis de implementar como coleções dinâmicas, a menos que a implementação seja simplesmente um enumerador somente de encaminhamento.</span><span class="sxs-lookup"><span data-stu-id="094fa-158">Such collections are very difficult or impossible to implement as live collections unless the implementation is simply a forward-only enumerator.</span></span>

## <a name="choosing-between-arrays-and-collections"></a><span data-ttu-id="094fa-159">Escolhendo entre matrizes e coleções</span><span class="sxs-lookup"><span data-stu-id="094fa-159">Choosing Between Arrays and Collections</span></span>
 <span data-ttu-id="094fa-160">✔️ preferir coleções em matrizes.</span><span class="sxs-lookup"><span data-stu-id="094fa-160">✔️ DO prefer collections over arrays.</span></span>

 <span data-ttu-id="094fa-161">As coleções fornecem mais controle sobre o conteúdo, podem evoluir ao longo do tempo e são mais utilizáveis.</span><span class="sxs-lookup"><span data-stu-id="094fa-161">Collections provide more control over contents, can evolve over time, and are more usable.</span></span> <span data-ttu-id="094fa-162">Além disso, o uso de matrizes para cenários somente leitura é desencorajado porque o custo da clonagem da matriz é proibitivo.</span><span class="sxs-lookup"><span data-stu-id="094fa-162">In addition, using arrays for read-only scenarios is discouraged because the cost of cloning the array is prohibitive.</span></span> <span data-ttu-id="094fa-163">Estudos de usabilidade mostraram que alguns desenvolvedores se sentem mais confortáveis usando APIs baseadas em coleção.</span><span class="sxs-lookup"><span data-stu-id="094fa-163">Usability studies have shown that some developers feel more comfortable using collection-based APIs.</span></span>

 <span data-ttu-id="094fa-164">No entanto, se você estiver desenvolvendo APIs de nível baixo, talvez seja melhor usar matrizes para cenários de leitura/gravação.</span><span class="sxs-lookup"><span data-stu-id="094fa-164">However, if you are developing low-level APIs, it might be better to use arrays for read-write scenarios.</span></span> <span data-ttu-id="094fa-165">As matrizes têm uma superfície de memória menor, o que ajuda a reduzir o conjunto de trabalho, e o acesso a elementos em uma matriz é mais rápido porque é otimizado pelo tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="094fa-165">Arrays have a smaller memory footprint, which helps reduce the working set, and access to elements in an array is faster because it is optimized by the runtime.</span></span>

 <span data-ttu-id="094fa-166">✔️ Considere o uso de matrizes em APIs de baixo nível para minimizar o consumo de memória e maximizar o desempenho.</span><span class="sxs-lookup"><span data-stu-id="094fa-166">✔️ CONSIDER using arrays in low-level APIs to minimize memory consumption and maximize performance.</span></span>

 <span data-ttu-id="094fa-167">✔️ usar matrizes de bytes em vez de coleções de bytes.</span><span class="sxs-lookup"><span data-stu-id="094fa-167">✔️ DO use byte arrays instead of collections of bytes.</span></span>

 <span data-ttu-id="094fa-168">❌Não use matrizes para propriedades se a propriedade precisasse retornar uma nova matriz (por exemplo, uma cópia de uma matriz interna) toda vez que o getter da propriedade for chamado.</span><span class="sxs-lookup"><span data-stu-id="094fa-168">❌ DO NOT use arrays for properties if the property would have to return a new array (e.g., a copy of an internal array) every time the property getter is called.</span></span>

## <a name="implementing-custom-collections"></a><span data-ttu-id="094fa-169">Implementando coleções personalizadas</span><span class="sxs-lookup"><span data-stu-id="094fa-169">Implementing Custom Collections</span></span>
 <span data-ttu-id="094fa-170">✔️ Considere a herança de `Collection<T>` , `ReadOnlyCollection<T>` ou `KeyedCollection<TKey,TItem>` ao criar novas coleções.</span><span class="sxs-lookup"><span data-stu-id="094fa-170">✔️ CONSIDER inheriting from `Collection<T>`, `ReadOnlyCollection<T>`, or `KeyedCollection<TKey,TItem>` when designing new collections.</span></span>

 <span data-ttu-id="094fa-171">✔️ implementar `IEnumerable<T>` ao criar novas coleções.</span><span class="sxs-lookup"><span data-stu-id="094fa-171">✔️ DO implement `IEnumerable<T>` when designing new collections.</span></span> <span data-ttu-id="094fa-172">Considere implementar `ICollection<T>` ou até mesmo `IList<T>` onde faz sentido.</span><span class="sxs-lookup"><span data-stu-id="094fa-172">Consider implementing `ICollection<T>` or even `IList<T>` where it makes sense.</span></span>

 <span data-ttu-id="094fa-173">Ao implementar essa coleção personalizada, siga o padrão de API estabelecido pelo `Collection<T>` e `ReadOnlyCollection<T>` o mais próximo possível.</span><span class="sxs-lookup"><span data-stu-id="094fa-173">When implementing such custom collection, follow the API pattern established by `Collection<T>` and `ReadOnlyCollection<T>` as closely as possible.</span></span> <span data-ttu-id="094fa-174">Ou seja, implemente os mesmos membros explicitamente, nomeie os parâmetros como essas duas coleções, e assim por diante.</span><span class="sxs-lookup"><span data-stu-id="094fa-174">That is, implement the same members explicitly, name the parameters like these two collections name them, and so on.</span></span>

 <span data-ttu-id="094fa-175">✔️ Considere a implementação de interfaces de coleção não genéricas ( `IList` e `ICollection` ) se a coleção geralmente será passada para APIs que tomam essas interfaces como entrada.</span><span class="sxs-lookup"><span data-stu-id="094fa-175">✔️ CONSIDER implementing nongeneric collection interfaces (`IList` and `ICollection`) if the collection will often be passed to APIs taking these interfaces as input.</span></span>

 <span data-ttu-id="094fa-176">❌Evite implementar interfaces de coleção em tipos com APIs complexas não relacionadas ao conceito de uma coleção.</span><span class="sxs-lookup"><span data-stu-id="094fa-176">❌ AVOID implementing collection interfaces on types with complex APIs unrelated to the concept of a collection.</span></span>

 <span data-ttu-id="094fa-177">❌NÃO herde de coleções base não genéricas, como `CollectionBase` .</span><span class="sxs-lookup"><span data-stu-id="094fa-177">❌ DO NOT inherit from nongeneric base collections such as `CollectionBase`.</span></span> <span data-ttu-id="094fa-178">Use `Collection<T>` , `ReadOnlyCollection<T>` e `KeyedCollection<TKey,TItem>` em vez disso.</span><span class="sxs-lookup"><span data-stu-id="094fa-178">Use `Collection<T>`, `ReadOnlyCollection<T>`, and `KeyedCollection<TKey,TItem>` instead.</span></span>

### <a name="naming-custom-collections"></a><span data-ttu-id="094fa-179">Nomeando coleções personalizadas</span><span class="sxs-lookup"><span data-stu-id="094fa-179">Naming Custom Collections</span></span>
 <span data-ttu-id="094fa-180">Coleções (tipos que implementam `IEnumerable` ) são criadas principalmente por dois motivos: (1) para criar uma nova estrutura de dados com operações específicas da estrutura e, muitas vezes, características de desempenho diferentes das estruturas de dados existentes (por exemplo,,, <xref:System.Collections.Generic.List%601> <xref:System.Collections.Generic.LinkedList%601> <xref:System.Collections.Generic.Stack%601> ) e (2) para criar uma coleção especializada para manter um conjunto específico de itens (por exemplo, <xref:System.Collections.Specialized.StringCollection> ).</span><span class="sxs-lookup"><span data-stu-id="094fa-180">Collections (types that implement `IEnumerable`) are created mainly for two reasons: (1) to create a new data structure with structure-specific operations and often different performance characteristics than existing data structures (e.g.,  <xref:System.Collections.Generic.List%601>, <xref:System.Collections.Generic.LinkedList%601>, <xref:System.Collections.Generic.Stack%601>), and (2) to create a specialized collection for holding a specific set of items (e.g.,  <xref:System.Collections.Specialized.StringCollection>).</span></span> <span data-ttu-id="094fa-181">As estruturas de dados são geralmente usadas na implementação interna de aplicativos e bibliotecas.</span><span class="sxs-lookup"><span data-stu-id="094fa-181">Data structures are most often used in the internal implementation of applications and libraries.</span></span> <span data-ttu-id="094fa-182">Coleções especializadas são principalmente expostas em APIs (como tipos de propriedade e de parâmetro).</span><span class="sxs-lookup"><span data-stu-id="094fa-182">Specialized collections are mainly to be exposed in APIs (as property and parameter types).</span></span>

 <span data-ttu-id="094fa-183">✔️ usar o sufixo "Dictionary" em nomes de abstrações implementando `IDictionary` ou `IDictionary<TKey,TValue>` .</span><span class="sxs-lookup"><span data-stu-id="094fa-183">✔️ DO use the "Dictionary" suffix in names of abstractions implementing `IDictionary` or `IDictionary<TKey,TValue>`.</span></span>

 <span data-ttu-id="094fa-184">✔️ usar o sufixo "Collection" em nomes de tipos que implementam `IEnumerable` (ou qualquer um de seus descendentes) e representam uma lista de itens.</span><span class="sxs-lookup"><span data-stu-id="094fa-184">✔️ DO use the "Collection" suffix in names of types implementing `IEnumerable` (or any of its descendants) and representing a list of items.</span></span>

 <span data-ttu-id="094fa-185">✔️ usar o nome de estrutura de dados apropriado para estruturas de dados personalizadas.</span><span class="sxs-lookup"><span data-stu-id="094fa-185">✔️ DO use the appropriate data structure name for custom data structures.</span></span>

 <span data-ttu-id="094fa-186">❌Evite usar quaisquer sufixos que sugerem implementação específica, como "LinkedList" ou "Hashtable", em nomes de abstrações de coleção.</span><span class="sxs-lookup"><span data-stu-id="094fa-186">❌ AVOID using any suffixes implying particular implementation, such as "LinkedList" or "Hashtable," in names of collection abstractions.</span></span>

 <span data-ttu-id="094fa-187">✔️ Considere a possibilidade de prefixar nomes de coleção com o nome do tipo de item.</span><span class="sxs-lookup"><span data-stu-id="094fa-187">✔️ CONSIDER prefixing collection names with the name of the item type.</span></span> <span data-ttu-id="094fa-188">Por exemplo, uma coleção que armazena itens do tipo `Address` (implementando `IEnumerable<Address>` ) deve ser nomeada `AddressCollection` .</span><span class="sxs-lookup"><span data-stu-id="094fa-188">For example, a collection storing items of type `Address` (implementing `IEnumerable<Address>`) should be named `AddressCollection`.</span></span> <span data-ttu-id="094fa-189">Se o tipo de item for uma interface, o prefixo "I" do tipo de item poderá ser omitido.</span><span class="sxs-lookup"><span data-stu-id="094fa-189">If the item type is an interface, the "I" prefix of the item type can be omitted.</span></span> <span data-ttu-id="094fa-190">Assim, uma coleção de <xref:System.IDisposable> itens pode ser chamada `DisposableCollection` .</span><span class="sxs-lookup"><span data-stu-id="094fa-190">Thus, a collection of <xref:System.IDisposable> items can be called `DisposableCollection`.</span></span>

 <span data-ttu-id="094fa-191">✔️ Considere usar o prefixo "ReadOnly" em nomes de coleções somente leitura se uma coleção gravável correspondente puder ser adicionada ou já existir na estrutura.</span><span class="sxs-lookup"><span data-stu-id="094fa-191">✔️ CONSIDER using the "ReadOnly" prefix in names of read-only collections if a corresponding writeable collection might be added or already exists in the framework.</span></span>

 <span data-ttu-id="094fa-192">Por exemplo, uma coleção de cadeias de caracteres somente leitura deve ser chamada `ReadOnlyStringCollection` .</span><span class="sxs-lookup"><span data-stu-id="094fa-192">For example, a read-only collection of strings should be called `ReadOnlyStringCollection`.</span></span>

 <span data-ttu-id="094fa-193">*Partes © 2005, 2009 Microsoft Corporation. Todos os direitos reservados.*</span><span class="sxs-lookup"><span data-stu-id="094fa-193">*Portions © 2005, 2009 Microsoft Corporation. All rights reserved.*</span></span>

 <span data-ttu-id="094fa-194">*Reimpresso com permissão da Pearson Education, Inc. das [Diretrizes de Design do Framework: convenções, linguagens e padrões para bibliotecas do .NET reutilizável, 2ª edição](https://www.informit.com/store/framework-design-guidelines-conventions-idioms-and-9780321545619) por Krzysztof Cwalina e Brad Abrams, publicado em 22 de outubro de 2008 por Addison-Wesley Professional como parte da série de desenvolvimento do Microsoft Windows.*</span><span class="sxs-lookup"><span data-stu-id="094fa-194">*Reprinted by permission of Pearson Education, Inc. from [Framework Design Guidelines: Conventions, Idioms, and Patterns for Reusable .NET Libraries, 2nd Edition](https://www.informit.com/store/framework-design-guidelines-conventions-idioms-and-9780321545619) by Krzysztof Cwalina and Brad Abrams, published Oct 22, 2008 by Addison-Wesley Professional as part of the Microsoft Windows Development Series.*</span></span>

## <a name="see-also"></a><span data-ttu-id="094fa-195">Veja também</span><span class="sxs-lookup"><span data-stu-id="094fa-195">See also</span></span>

- [<span data-ttu-id="094fa-196">Diretrizes de design de estrutura</span><span class="sxs-lookup"><span data-stu-id="094fa-196">Framework Design Guidelines</span></span>](index.md)
- [<span data-ttu-id="094fa-197">Diretrizes de uso</span><span class="sxs-lookup"><span data-stu-id="094fa-197">Usage Guidelines</span></span>](usage-guidelines.md)
