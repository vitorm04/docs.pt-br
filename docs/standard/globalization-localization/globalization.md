---
title: Globalização
ms.date: 03/30/2017
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
helpviewer_keywords:
- globalization [.NET Framework], about globalization
- global applications, globalization
- international applications [.NET Framework], globalization
- world-ready applications, globalization
- application development [.NET Framework], globalization
- culture, globalization
ms.assetid: 4e919934-6b19-42f2-b770-275a4fae87c9
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: ce2f127858305a96b358c1661b98a359ae565f57
ms.sourcegitcommit: da2dd2772fcf32b44eb18b1cbe8affd17b1753c9
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/27/2019
ms.locfileid: "71393127"
---
# <a name="globalization"></a><span data-ttu-id="94196-102">Globalização</span><span class="sxs-lookup"><span data-stu-id="94196-102">Globalization</span></span>

<span data-ttu-id="94196-103">A globalização envolve projetar e desenvolver um aplicativo preparado para o mundo que dá suporte a interfaces localizadas e dados regionais para usuários em várias culturas.</span><span class="sxs-lookup"><span data-stu-id="94196-103">Globalization involves designing and developing a world-ready app that supports localized interfaces and regional data for users in multiple cultures.</span></span> <span data-ttu-id="94196-104">Antes de iniciar a fase de design, você deve determinar a quais culturas seu aplicativo dará suporte.</span><span class="sxs-lookup"><span data-stu-id="94196-104">Before beginning the design phase, you should determine which cultures your app will support.</span></span> <span data-ttu-id="94196-105">Embora um aplicativo seja direcionado para uma única cultura ou região por padrão, você pode projetá-lo e gravá-lo para que ele possa ser facilmente estendido para usuários em outras culturas ou regiões.</span><span class="sxs-lookup"><span data-stu-id="94196-105">Although an app targets a single culture or region as its default, you can design and write it so that it can easily be extended to users in other cultures or regions.</span></span>

<span data-ttu-id="94196-106">Como desenvolvedores, todos nós temos suposições sobre as interfaces do usuário e dados que são formados pelas nossas culturas.</span><span class="sxs-lookup"><span data-stu-id="94196-106">As developers, we all have assumptions about user interfaces and data that are formed by our cultures.</span></span> <span data-ttu-id="94196-107">Por exemplo, para um desenvolvedor falante de inglês nos Estados Unidos, a serialização de dados de data e hora como uma cadeia de caracteres no formato `MM/dd/yyyy hh:mm:ss` parece perfeitamente razoável.</span><span class="sxs-lookup"><span data-stu-id="94196-107">For example, for an English-speaking developer in the United States, serializing date and time data as a string in the format `MM/dd/yyyy hh:mm:ss` seems perfectly reasonable.</span></span> <span data-ttu-id="94196-108">No entanto, desserializar essa cadeia de caracteres em um sistema em uma cultura diferente é provavelmente lançará uma exceção <xref:System.FormatException> ou produzirá dados imprecisos.</span><span class="sxs-lookup"><span data-stu-id="94196-108">However, deserializing that string on a system in a different culture is likely to throw a <xref:System.FormatException> exception or produce inaccurate data.</span></span> <span data-ttu-id="94196-109">A globalização nos permite identificar essas suposições específicas de culturas e nos certificarmos de que elas não afetem o design ou código de nosso aplicativo.</span><span class="sxs-lookup"><span data-stu-id="94196-109">Globalization enables us to identify such culture-specific assumptions and ensure that they do not affect our app's design or code.</span></span>

<span data-ttu-id="94196-110">Este artigo discute alguns dos principais problemas que você deve considerar e as práticas recomendadas que você pode seguir ao lidar com cadeias de caracteres, valores de data e hora e valores numéricos em um aplicativo globalizado.</span><span class="sxs-lookup"><span data-stu-id="94196-110">This article discusses some of the major issues you should consider and the best practices you can follow when handling strings, date and time values, and numeric values in a globalized app.</span></span>

## <a name="strings"></a><span data-ttu-id="94196-111">Cadeias de caracteres</span><span class="sxs-lookup"><span data-stu-id="94196-111">Strings</span></span>

<span data-ttu-id="94196-112">A manipulação de caracteres e cadeias de caracteres é um foco central da globalização, porque cada cultura ou região pode usar caracteres e conjuntos de caracteres diferentes e classificá-los de maneira diferente.</span><span class="sxs-lookup"><span data-stu-id="94196-112">The handling of characters and strings is a central focus of globalization, because each culture or region may use different characters and character sets and sort them differently.</span></span> <span data-ttu-id="94196-113">Esta seção fornece recomendações para usar cadeias de caracteres em aplicativos globalizados.</span><span class="sxs-lookup"><span data-stu-id="94196-113">This section provides recommendations for using strings in globalized apps.</span></span>

### <a name="use-unicode-internally"></a><span data-ttu-id="94196-114">Usar Unicode internamente</span><span class="sxs-lookup"><span data-stu-id="94196-114">Use Unicode internally</span></span>

<span data-ttu-id="94196-115">Por padrão, o .NET usa cadeias de caracteres Unicode.</span><span class="sxs-lookup"><span data-stu-id="94196-115">By default, .NET uses Unicode strings.</span></span> <span data-ttu-id="94196-116">Uma cadeia de caracteres do Unicode consiste em zero e um ou mais objetos <xref:System.Char>, cada um dos quais representa uma unidade de código UTF-16.</span><span class="sxs-lookup"><span data-stu-id="94196-116">A Unicode string consists of zero, one, or more <xref:System.Char> objects, each of which represents a UTF-16 code unit.</span></span> <span data-ttu-id="94196-117">Há uma representação Unicode para quase todos os caracteres em cada conjunto de caracteres no uso em todo o mundo.</span><span class="sxs-lookup"><span data-stu-id="94196-117">There is a Unicode representation for almost every character in every character set in use throughout the world.</span></span>

<span data-ttu-id="94196-118">Muitos aplicativos e sistemas operacionais, incluindo o sistema operacional Windows, também podem usar as páginas de código para representar conjuntos de caracteres.</span><span class="sxs-lookup"><span data-stu-id="94196-118">Many applications and operating systems, including the Windows operating system, can use also use code pages to represent character sets.</span></span> <span data-ttu-id="94196-119">Páginas de código geralmente contêm valores ASCII padrão de 0x00 a 0x7F e mapeiam outros caracteres para os valores restantes de 0x80 a 0xFF.</span><span class="sxs-lookup"><span data-stu-id="94196-119">Code pages typically contain the standard ASCII values from 0x00 through 0x7F and map other characters to the remaining values from 0x80 through 0xFF.</span></span> <span data-ttu-id="94196-120">A interpretação dos valores de 0x80 a 0xFF depende da página de código específica.</span><span class="sxs-lookup"><span data-stu-id="94196-120">The interpretation of values from 0x80 through 0xFF depends on the specific code page.</span></span> <span data-ttu-id="94196-121">Por isso, se possível, evite usar as páginas de código em um aplicativo globalizado.</span><span class="sxs-lookup"><span data-stu-id="94196-121">Because of this, you should avoid using code pages in a globalized app if possible.</span></span>

<span data-ttu-id="94196-122">O exemplo a seguir ilustra os perigos da interpretação de dados de página de código quando a página de código padrão em um sistema é diferente da página de código no qual os dados foram salvos.</span><span class="sxs-lookup"><span data-stu-id="94196-122">The following example illustrates the dangers of interpreting code page data when the default code page on a system is different from the code page on which the data was saved.</span></span> <span data-ttu-id="94196-123">(Para simular esse cenário, o exemplo especifica explicitamente páginas de código diferentes.) Primeiro, o exemplo define uma matriz que consiste dos caracteres em maiúsculas do alfabeto grego.</span><span class="sxs-lookup"><span data-stu-id="94196-123">(To simulate this scenario, the example explicitly specifies different code pages.) First, the example defines an array that consists of the uppercase characters of the Greek alphabet.</span></span> <span data-ttu-id="94196-124">Ele os codifica em uma matriz de bytes usando a página de código 737 (também conhecida como MS-DOS grego) e salva a matriz de bytes em um arquivo.</span><span class="sxs-lookup"><span data-stu-id="94196-124">It encodes them into a byte array by using code page 737 (also known as MS-DOS Greek) and saves the byte array to a file.</span></span> <span data-ttu-id="94196-125">Se o arquivo é recuperado e sua matriz de bytes é decodificada usando a página de código 737, os caracteres originais são restaurados.</span><span class="sxs-lookup"><span data-stu-id="94196-125">If the file is retrieved and its byte array is decoded by using code page 737, the original characters are restored.</span></span> <span data-ttu-id="94196-126">No entanto, se o arquivo é recuperado e sua matriz de bytes é decodificada usando a página de código 1252 (ou Windows-1252, que representa os caracteres do alfabeto latino), os caracteres originais são perdidos.</span><span class="sxs-lookup"><span data-stu-id="94196-126">However, if the file is retrieved and its byte array is decoded by using code page 1252 (or Windows-1252, which represents characters in the Latin alphabet), the original characters are lost.</span></span>

[!code-csharp[Conceptual.Globalization#1](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/codepages1.cs#1)]
[!code-vb[Conceptual.Globalization#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/codepages1.vb#1)]

<span data-ttu-id="94196-127">O uso do Unicode garante que as mesmas unidades de código sempre sejam mapeadas para os mesmos caracteres e que os mesmos caracteres sempre sejam mapeados para as mesmas matrizes de bytes.</span><span class="sxs-lookup"><span data-stu-id="94196-127">The use of Unicode ensures that the same code units always map to the same characters, and that the same characters always map to the same byte arrays.</span></span>

### <a name="use-resource-files"></a><span data-ttu-id="94196-128">Usar arquivos de recurso</span><span class="sxs-lookup"><span data-stu-id="94196-128">Use resource files</span></span>

<span data-ttu-id="94196-129">Mesmo se você estiver desenvolvendo um aplicativo que tenha como alvo uma única cultura ou a região, use arquivos de recurso para armazenar cadeias de caracteres e outros recursos que sejam exibidos na interface do usuário.</span><span class="sxs-lookup"><span data-stu-id="94196-129">Even if you are developing an app that targets a single culture or region, you should use resource files to store strings and other resources that are displayed in the user interface.</span></span> <span data-ttu-id="94196-130">Você nunca deve adicioná-los diretamente em seu código.</span><span class="sxs-lookup"><span data-stu-id="94196-130">You should never add them directly to your code.</span></span> <span data-ttu-id="94196-131">Usar arquivos de recurso tem uma série de vantagens:</span><span class="sxs-lookup"><span data-stu-id="94196-131">Using resource files has a number of advantages:</span></span>

- <span data-ttu-id="94196-132">Todas as cadeias de caracteres estão em um único local.</span><span class="sxs-lookup"><span data-stu-id="94196-132">All the strings are in a single location.</span></span> <span data-ttu-id="94196-133">Você não precisa pesquisar todo o seu código-fonte para identificar cadeias de caracteres para modificá-las para um determinado idioma ou cultura.</span><span class="sxs-lookup"><span data-stu-id="94196-133">You don't have to search throughout your source code to identify strings to modify for a specific language or culture.</span></span>

- <span data-ttu-id="94196-134">Não há nenhuma necessidade de duplicar cadeias de caracteres.</span><span class="sxs-lookup"><span data-stu-id="94196-134">There is no need to duplicate strings.</span></span> <span data-ttu-id="94196-135">Os desenvolvedores que não usam arquivos de recursos frequentemente definem a mesma cadeia de caracteres em vários arquivos de código-fonte.</span><span class="sxs-lookup"><span data-stu-id="94196-135">Developers who don't use resource files often define the same string in multiple source code files.</span></span> <span data-ttu-id="94196-136">Essa duplicação aumenta a probabilidade de que uma ou mais instâncias sejam esquecidas quando uma cadeia de caracteres é modificada.</span><span class="sxs-lookup"><span data-stu-id="94196-136">This duplication increases the probability that one or more instances will be overlooked when a string is modified.</span></span>

- <span data-ttu-id="94196-137">Você pode incluir recursos que não sejam cadeia de caracteres tais como imagens ou dados binários no arquivo de recurso, em vez de armazená-los em um arquivo autônomo separado, para que eles possam ser recuperados facilmente.</span><span class="sxs-lookup"><span data-stu-id="94196-137">You can include non-string resources, such as images or binary data, in the resource file instead of storing them in a separate standalone file, so they can be retrieved easily.</span></span>

<span data-ttu-id="94196-138">Usar arquivos de recurso tem vantagens específicas se você está criando um aplicativo localizado.</span><span class="sxs-lookup"><span data-stu-id="94196-138">Using resource files has particular advantages if you are creating a localized app.</span></span> <span data-ttu-id="94196-139">Quando você implanta recursos em assemblies satélite, o Common Language Runtime seleciona automaticamente um recurso apropriado com base na cultura da interface do usuário atual, conforme definido pela propriedade <xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="94196-139">When you deploy resources in satellite assemblies, the common language runtime automatically selects a culture-appropriate resource based on the user's current UI culture as defined by the <xref:System.Globalization.CultureInfo.CurrentUICulture%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="94196-140">Desde que você forneça um recurso específico de cultura apropriado e instancie corretamente um objeto <xref:System.Resources.ResourceManager> ou então use uma classe de recurso fortemente tipada, o tempo de execução cuidará dos detalhes para recuperar os recursos apropriados.</span><span class="sxs-lookup"><span data-stu-id="94196-140">As long as you provide an appropriate culture-specific resource and correctly instantiate a <xref:System.Resources.ResourceManager> object or use a strongly typed resource class, the runtime handles the details of retrieving the appropriate resources.</span></span>

<span data-ttu-id="94196-141">Para obter mais informações sobre como criar arquivos de recursos, consulte [Criar arquivos de recurso](../../../docs/framework/resources/creating-resource-files-for-desktop-apps.md).</span><span class="sxs-lookup"><span data-stu-id="94196-141">For more information about creating resource files, see [Creating Resource Files](../../../docs/framework/resources/creating-resource-files-for-desktop-apps.md).</span></span> <span data-ttu-id="94196-142">Para obter informações sobre como criar e implantar assemblies satélite, consulte [Criar assemblies satélite](../../../docs/framework/resources/creating-satellite-assemblies-for-desktop-apps.md) e [Empacotar e implantar recursos](../../../docs/framework/resources/packaging-and-deploying-resources-in-desktop-apps.md).</span><span class="sxs-lookup"><span data-stu-id="94196-142">For information about creating and deploying satellite assemblies, see [Creating Satellite Assemblies](../../../docs/framework/resources/creating-satellite-assemblies-for-desktop-apps.md) and [Packaging and Deploying Resources](../../../docs/framework/resources/packaging-and-deploying-resources-in-desktop-apps.md).</span></span>

### <a name="search-and-compare-strings"></a><span data-ttu-id="94196-143">Pesquisar e comparar cadeias de caracteres</span><span class="sxs-lookup"><span data-stu-id="94196-143">Search and compare strings</span></span>

<span data-ttu-id="94196-144">Sempre que possível, você deve tratar cadeias de caracteres como cadeias de caracteres inteiras em vez de tratá-las como uma série de caracteres individuais.</span><span class="sxs-lookup"><span data-stu-id="94196-144">Whenever possible, you should handle strings as entire strings instead of handling them as a series of individual characters.</span></span> <span data-ttu-id="94196-145">Isso é especialmente importante quando você classifica ou pesquisa subcadeias de caracteres, para evitar problemas associados à análise de caracteres combinados.</span><span class="sxs-lookup"><span data-stu-id="94196-145">This is especially important when you sort or search for substrings, to prevent problems associated with parsing combined characters.</span></span>

> [!TIP]
> <span data-ttu-id="94196-146">Você pode usar a classe <xref:System.Globalization.StringInfo> para trabalhar com os elementos de texto em vez dos caracteres individuais em uma cadeia de caracteres.</span><span class="sxs-lookup"><span data-stu-id="94196-146">You can use the <xref:System.Globalization.StringInfo> class to work with the text elements rather than the individual characters in a string.</span></span>

<span data-ttu-id="94196-147">Em comparações e pesquisas de cadeia de caracteres, um erro comum é tratar a cadeia de caracteres como uma coleção de caracteres, cada um dos quais é representado por um objeto <xref:System.Char>.</span><span class="sxs-lookup"><span data-stu-id="94196-147">In string searches and comparisons, a common mistake is to treat the string as a collection of characters, each of which is represented by a <xref:System.Char> object.</span></span> <span data-ttu-id="94196-148">Na verdade, um único caractere pode ser formado por um, dois ou mais objetos <xref:System.Char>.</span><span class="sxs-lookup"><span data-stu-id="94196-148">In fact, a single character may be formed by one, two, or more <xref:System.Char> objects.</span></span> <span data-ttu-id="94196-149">Esses caracteres são encontrados com mais frequência em cadeias de caracteres de culturas cujos alfabetos consistem em caracteres fora do intervalo de caracteres do Latim Básico Unicode (U+0021 até U+007E).</span><span class="sxs-lookup"><span data-stu-id="94196-149">Such characters are found most frequently in strings from cultures whose alphabets consist of characters outside the Unicode Basic Latin character range (U+0021 through U+007E).</span></span> <span data-ttu-id="94196-150">O exemplo a seguir tenta localizar o índice do caractere LETRA A MAIÚSCULA COM ACENTO GRAVE LATINA (U+00C0) em uma cadeia de caracteres.</span><span class="sxs-lookup"><span data-stu-id="94196-150">The following example tries to find the index of the LATIN CAPITAL LETTER A WITH GRAVE character (U+00C0) in a string.</span></span> <span data-ttu-id="94196-151">No entanto, esse caractere pode ser representado de duas maneiras diferentes: como uma única unidade de código (U+00C0) ou como um caractere composto (duas unidades de código: U+0021 e U+007E).</span><span class="sxs-lookup"><span data-stu-id="94196-151">However, this character can be represented in two different ways: as a single code unit (U+00C0) or as a composite character (two code units: U+0021 and U+007E).</span></span> <span data-ttu-id="94196-152">Nesse caso, o caractere é representado na instância de cadeia de caracteres por dois objetos <xref:System.Char>, U+0021 e U+007E.</span><span class="sxs-lookup"><span data-stu-id="94196-152">In this case, the character is represented in the string instance by two <xref:System.Char> objects, U+0021 and U+007E.</span></span> <span data-ttu-id="94196-153">O código de exemplo chama as sobrecargas <xref:System.String.IndexOf%28System.Char%29?displayProperty=nameWithType> e <xref:System.String.IndexOf%28System.String%29?displayProperty=nameWithType> para localizar a posição desse caractere na instância de cadeia de caracteres, mas elas retornam resultados diferentes.</span><span class="sxs-lookup"><span data-stu-id="94196-153">The example code calls the <xref:System.String.IndexOf%28System.Char%29?displayProperty=nameWithType> and <xref:System.String.IndexOf%28System.String%29?displayProperty=nameWithType> overloads to find the position of this character in the string instance, but these return different results.</span></span> <span data-ttu-id="94196-154">A primeira chamada de método tem um argumento <xref:System.Char>; ele executa uma comparação ordinal e, portanto, não é capaz de encontrar uma correspondência.</span><span class="sxs-lookup"><span data-stu-id="94196-154">The first method call has a <xref:System.Char> argument; it performs an ordinal comparison and therefore cannot find a match.</span></span> <span data-ttu-id="94196-155">A segunda chamada tem um argumento <xref:System.String>; ele executa uma comparação com diferenciação entre culturas e, portanto, encontra uma correspondência.</span><span class="sxs-lookup"><span data-stu-id="94196-155">The second call has a <xref:System.String> argument; it performs a culture-sensitive comparison and therefore finds a match.</span></span>

[!code-csharp[Conceptual.Globalization#18](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/search1.cs#18)]
[!code-vb[Conceptual.Globalization#18](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/search1.vb#18)]

<span data-ttu-id="94196-156">Você pode evitar alguma ambiguidade deste exemplo (chamadas para duas sobrecargas semelhantes de um método que retorna resultados diferentes) chamando uma sobrecarga que inclui um parâmetro <xref:System.StringComparison>, como o método <xref:System.String.IndexOf%28System.String%2CSystem.StringComparison%29?displayProperty=nameWithType> ou <xref:System.String.LastIndexOf%28System.String%2CSystem.StringComparison%29?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="94196-156">You can avoid some of the ambiguity of this example (calls to two similar overloads of a method returning different results) by calling an overload that includes a <xref:System.StringComparison> parameter, such as the <xref:System.String.IndexOf%28System.String%2CSystem.StringComparison%29?displayProperty=nameWithType> or <xref:System.String.LastIndexOf%28System.String%2CSystem.StringComparison%29?displayProperty=nameWithType> method.</span></span>

<span data-ttu-id="94196-157">No entanto, pesquisas nem sempre são com diferenciação entre culturas.</span><span class="sxs-lookup"><span data-stu-id="94196-157">However, searches are not always culture-sensitive.</span></span> <span data-ttu-id="94196-158">Se a finalidade da pesquisa é tomar uma decisão de segurança ou permitir ou não o acesso a alguns recursos, a comparação deve ser ordinal, conforme discutido na próxima seção.</span><span class="sxs-lookup"><span data-stu-id="94196-158">If the purpose of the search is to make a security decision or to allow or disallow access to some resource, the comparison should be ordinal, as discussed in the next section.</span></span>

### <a name="test-strings-for-equality"></a><span data-ttu-id="94196-159">Testar a igualdade das cadeias de caracteres</span><span class="sxs-lookup"><span data-stu-id="94196-159">Test strings for equality</span></span>

<span data-ttu-id="94196-160">Se você quiser testar a igualdade de duas cadeias de caracteres em vez de determinar a comparação delas na ordem de classificação, use o método <xref:System.String.Equals%2A?displayProperty=nameWithType> em vez de um método de comparação de cadeia de caracteres, como <xref:System.String.Compare%2A?displayProperty=nameWithType> ou <xref:System.Globalization.CompareInfo.Compare%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="94196-160">If you want to test two strings for equality rather than determine how they compare in the sort order, use the <xref:System.String.Equals%2A?displayProperty=nameWithType> method instead of a string comparison method such as <xref:System.String.Compare%2A?displayProperty=nameWithType> or <xref:System.Globalization.CompareInfo.Compare%2A?displayProperty=nameWithType>.</span></span>

<span data-ttu-id="94196-161">Comparações de igualdade normalmente são executadas para acessar algum recurso de modo condicional.</span><span class="sxs-lookup"><span data-stu-id="94196-161">Comparisons for equality are typically performed to access some resource conditionally.</span></span> <span data-ttu-id="94196-162">Por exemplo, você pode executar uma comparação de igualdade para verificar uma senha ou confirmar a existência de um arquivo.</span><span class="sxs-lookup"><span data-stu-id="94196-162">For example, you might perform a comparison for equality to verify a password or to confirm that a file exists.</span></span> <span data-ttu-id="94196-163">Essas comparações não linguísticas devem sempre ser de tipo ordinal, em vez de com diferenciação entre culturas.</span><span class="sxs-lookup"><span data-stu-id="94196-163">Such non-linguistic comparisons should always be ordinal rather than culture-sensitive.</span></span> <span data-ttu-id="94196-164">Em geral, você deve chamar o método <xref:System.String.Equals%28System.String%2CSystem.StringComparison%29?displayProperty=nameWithType> da instância ou o método estático <xref:System.String.Equals%28System.String%2CSystem.String%2CSystem.StringComparison%29?displayProperty=nameWithType> com um valor de <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> para cadeias de caracteres como senhas, e um valor de <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType> para cadeias de caracteres como nomes de arquivo ou URIs.</span><span class="sxs-lookup"><span data-stu-id="94196-164">In general, you should call the instance <xref:System.String.Equals%28System.String%2CSystem.StringComparison%29?displayProperty=nameWithType> method or the static <xref:System.String.Equals%28System.String%2CSystem.String%2CSystem.StringComparison%29?displayProperty=nameWithType> method with a value of <xref:System.StringComparison.Ordinal?displayProperty=nameWithType> for strings such as passwords, and a value of <xref:System.StringComparison.OrdinalIgnoreCase?displayProperty=nameWithType> for strings such as file names or URIs.</span></span>

<span data-ttu-id="94196-165">Algumas vezes, as comparações de igualdade envolvem pesquisas ou comparações de subcadeias de caracteres em vez de chamadas para o método <xref:System.String.Equals%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="94196-165">Comparisons for equality sometimes involve searches or substring comparisons rather than calls to the <xref:System.String.Equals%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="94196-166">Em alguns casos, você pode usar uma subsequência de pesquisa para determinar se aquela subcadeia de caracteres é igual a uma outra cadeia de caracteres.</span><span class="sxs-lookup"><span data-stu-id="94196-166">In some cases, you may use a substring search to determine whether that substring equals another string.</span></span> <span data-ttu-id="94196-167">Se a finalidade desta comparação é não linguística, a pesquisa também deve ser ordinal em vez de com diferenciação entre culturas.</span><span class="sxs-lookup"><span data-stu-id="94196-167">If the purpose of this comparison is non-linguistic, the search should also be ordinal rather than culture-sensitive.</span></span>

<span data-ttu-id="94196-168">O exemplo a seguir ilustra o perigo de uma pesquisa com diferenciação entre culturas em dados não linguísticos.</span><span class="sxs-lookup"><span data-stu-id="94196-168">The following example illustrates the danger of a culture-sensitive search on non-linguistic data.</span></span> <span data-ttu-id="94196-169">O método `AccessesFileSystem` é projetado para proibir o acesso de URIs que começam com a subcadeia de caracteres "FILE" ao sistema de arquivos.</span><span class="sxs-lookup"><span data-stu-id="94196-169">The `AccessesFileSystem` method is designed to prohibit file system access for URIs that begin with the substring "FILE".</span></span> <span data-ttu-id="94196-170">Para fazer isso, ele executa uma comparação com diferenciação entre culturas mas sem diferenciação de maiúsculas e minúsculas do início da URI com a cadeia de caracteres "FILE".</span><span class="sxs-lookup"><span data-stu-id="94196-170">To do this, it performs a culture-sensitive, case-insensitive comparison of the beginning of the URI with the string "FILE".</span></span> <span data-ttu-id="94196-171">Já que um URI que acessa o sistema de arquivos pode começar com "FILE:" ou "file:", a suposição implícita é que esse "i" (U+0069) é sempre o equivalente em minúsculas de "I" (U+0049).</span><span class="sxs-lookup"><span data-stu-id="94196-171">Because a URI that accesses the file system can begin with either "FILE:" or "file:", the implicit assumption is that "i" (U+0069) is always the lowercase equivalent of "I" (U+0049).</span></span> <span data-ttu-id="94196-172">No entanto, em turco e azerbaijano, a versão maiúscula de "i" é "İ" (U+0130).</span><span class="sxs-lookup"><span data-stu-id="94196-172">However, in Turkish and Azerbaijani, the uppercase version of "i" is "İ" (U+0130).</span></span> <span data-ttu-id="94196-173">Devido a essa discrepância, a comparação com diferenciação entre culturas permite o acesso ao sistema de arquivos quando ele deve ser proibido.</span><span class="sxs-lookup"><span data-stu-id="94196-173">Because of this discrepancy, the culture-sensitive comparison allows file system access when it should be prohibited.</span></span>

[!code-csharp[Conceptual.Globalization#12](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/equals1.cs#12)]
[!code-vb[Conceptual.Globalization#12](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/equals1.vb#12)]

<span data-ttu-id="94196-174">Você pode evitar esse problema ao executar uma comparação ordinal que diferencia maiúsculas de minúsculas, conforme mostra o exemplo a seguir.</span><span class="sxs-lookup"><span data-stu-id="94196-174">You can avoid this problem by performing an ordinal comparison that ignores case, as the following example shows.</span></span>

[!code-csharp[Conceptual.Globalization#13](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/equals2.cs#13)]
[!code-vb[Conceptual.Globalization#13](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/equals2.vb#13)]

### <a name="order-and-sort-strings"></a><span data-ttu-id="94196-175">Ordenar e classificar cadeias de caracteres</span><span class="sxs-lookup"><span data-stu-id="94196-175">Order and sort strings</span></span>

<span data-ttu-id="94196-176">Normalmente, cadeias de caracteres ordenadas que devem ser exibidas na interface do usuário devem ser classificadas com base na cultura.</span><span class="sxs-lookup"><span data-stu-id="94196-176">Typically, ordered strings that are to be displayed in the user interface should be sorted based on culture.</span></span> <span data-ttu-id="94196-177">Geralmente, essas comparações de cadeia de caracteres são tratadas implicitamente pelo .NET quando você chama um método que classifica as cadeias de caracteres, como <xref:System.Array.Sort%2A?displayProperty=nameWithType> ou <xref:System.Collections.Generic.List%601.Sort%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="94196-177">For the most part, such string comparisons are handled implicitly by .NET when you call a method that sorts strings, such as <xref:System.Array.Sort%2A?displayProperty=nameWithType> or <xref:System.Collections.Generic.List%601.Sort%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="94196-178">Por padrão, as cadeias de caracteres são classificadas pelo uso das convenções de classificação da cultura atual.</span><span class="sxs-lookup"><span data-stu-id="94196-178">By default, strings are sorted by using the sorting conventions of the current culture.</span></span> <span data-ttu-id="94196-179">O exemplo a seguir ilustra a diferença entre quando uma matriz de cadeias de caracteres é classificada usando as convenções das culturas Inglês (Estados Unidos) e Sueco (Suécia).</span><span class="sxs-lookup"><span data-stu-id="94196-179">The following example illustrates the difference when an array of strings is sorted by using the conventions of the English (United States) culture and the Swedish (Sweden) culture.</span></span>

[!code-csharp[Conceptual.Globalization#14](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/sort1.cs#14)]
[!code-vb[Conceptual.Globalization#14](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/sort1.vb#14)]

<span data-ttu-id="94196-180">A comparação de cadeia de caracteres sensíveis à cultura é definida pelo objeto <xref:System.Globalization.CompareInfo>, que é retornado pela propriedade <xref:System.Globalization.CultureInfo.CompareInfo%2A?displayProperty=nameWithType> de cada cultura.</span><span class="sxs-lookup"><span data-stu-id="94196-180">Culture-sensitive string comparison is defined by the <xref:System.Globalization.CompareInfo> object, which is returned by each culture's <xref:System.Globalization.CultureInfo.CompareInfo%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="94196-181">Comparações de cadeia de caracteres sensíveis à cultura que usam sobrecargas do método <xref:System.String.Compare%2A?displayProperty=nameWithType> também usam o objeto <xref:System.Globalization.CompareInfo>.</span><span class="sxs-lookup"><span data-stu-id="94196-181">Culture-sensitive string comparisons that use the <xref:System.String.Compare%2A?displayProperty=nameWithType> method overloads also use the <xref:System.Globalization.CompareInfo> object.</span></span>

<span data-ttu-id="94196-182">O .NET usa tabelas para realizar classificações com detecção de cultura em dados de cadeia de caracteres.</span><span class="sxs-lookup"><span data-stu-id="94196-182">.NET uses tables to perform culture-sensitive sorts on string data.</span></span> <span data-ttu-id="94196-183">O conteúdo dessas tabelas, que contêm dados sobre os pesos de classificação e a normalização de cadeias de caracteres, é determinado pela versão do padrão Unicode implementada por uma versão específica do .NET.</span><span class="sxs-lookup"><span data-stu-id="94196-183">The content of these tables, which contain data on sort weights and string normalization, is determined by the version of the Unicode standard implemented by a particular version of .NET.</span></span> <span data-ttu-id="94196-184">A tabela a seguir lista as versões do Unicode implementadas pelas versões especificadas do .NET Framework e pelo .NET Core.</span><span class="sxs-lookup"><span data-stu-id="94196-184">The following table lists the versions of Unicode implemented by the specified versions of the .NET Framework and by .NET Core.</span></span> <span data-ttu-id="94196-185">Observe que essa lista de versões com suporte do Unicode aplica-se somente à comparação e classificação de caracteres. ela não se aplica à classificação de caracteres Unicode por categoria.</span><span class="sxs-lookup"><span data-stu-id="94196-185">Note that this list of supported Unicode versions applies to character comparison and sorting only; it does not apply to classification of Unicode characters by category.</span></span> <span data-ttu-id="94196-186">Para saber mais, confira a seção "Cadeias de caracteres e o padrão Unicode" no artigo <xref:System.String>.</span><span class="sxs-lookup"><span data-stu-id="94196-186">For more information, see the "Strings and The Unicode Standard" section in the <xref:System.String> article.</span></span>

|<span data-ttu-id="94196-187">Versão do .NET Framework</span><span class="sxs-lookup"><span data-stu-id="94196-187">.NET Framework version</span></span>|<span data-ttu-id="94196-188">Sistema operacional</span><span class="sxs-lookup"><span data-stu-id="94196-188">Operating system</span></span>|<span data-ttu-id="94196-189">Versão Unicode</span><span class="sxs-lookup"><span data-stu-id="94196-189">Unicode version</span></span>|
|----------------------------|----------------------|---------------------|
|<span data-ttu-id="94196-190">.NET Framework 2.0</span><span class="sxs-lookup"><span data-stu-id="94196-190">.NET Framework 2.0</span></span>|<span data-ttu-id="94196-191">Todos os sistemas operacionais</span><span class="sxs-lookup"><span data-stu-id="94196-191">All operating systems</span></span>|<span data-ttu-id="94196-192">Unicode 4.1</span><span class="sxs-lookup"><span data-stu-id="94196-192">Unicode 4.1</span></span>|
|<span data-ttu-id="94196-193">.NET Framework 3.0</span><span class="sxs-lookup"><span data-stu-id="94196-193">.NET Framework 3.0</span></span>|<span data-ttu-id="94196-194">Todos os sistemas operacionais</span><span class="sxs-lookup"><span data-stu-id="94196-194">All operating systems</span></span>|<span data-ttu-id="94196-195">Unicode 4.1</span><span class="sxs-lookup"><span data-stu-id="94196-195">Unicode 4.1</span></span>|
|<span data-ttu-id="94196-196">.NET Framework 3,5</span><span class="sxs-lookup"><span data-stu-id="94196-196">.NET Framework 3.5</span></span>|<span data-ttu-id="94196-197">Todos os sistemas operacionais</span><span class="sxs-lookup"><span data-stu-id="94196-197">All operating systems</span></span>|<span data-ttu-id="94196-198">Unicode 4.1</span><span class="sxs-lookup"><span data-stu-id="94196-198">Unicode 4.1</span></span>|
|<span data-ttu-id="94196-199">.NET Framework 4</span><span class="sxs-lookup"><span data-stu-id="94196-199">.NET Framework 4</span></span>|<span data-ttu-id="94196-200">Todos os sistemas operacionais</span><span class="sxs-lookup"><span data-stu-id="94196-200">All operating systems</span></span>|<span data-ttu-id="94196-201">Unicode 5.0</span><span class="sxs-lookup"><span data-stu-id="94196-201">Unicode 5.0</span></span>|
|<span data-ttu-id="94196-202">.NET Framework 4.5 e posterior no Windows 7</span><span class="sxs-lookup"><span data-stu-id="94196-202">.NET Framework 4.5 and later on Windows 7</span></span>|<span data-ttu-id="94196-203">Unicode 5.0</span><span class="sxs-lookup"><span data-stu-id="94196-203">Unicode 5.0</span></span>|
|<span data-ttu-id="94196-204">.NET Framework 4.5 e posterior nos sistemas operacionais Windows 8 e posteriores</span><span class="sxs-lookup"><span data-stu-id="94196-204">.NET Framework 4.5 and later on Windows 8 and later operating systems</span></span>|<span data-ttu-id="94196-205">Unicode 6.3.0</span><span class="sxs-lookup"><span data-stu-id="94196-205">Unicode 6.3.0</span></span>|
|<span data-ttu-id="94196-206">.NET Core (todas as versões)</span><span class="sxs-lookup"><span data-stu-id="94196-206">.NET Core (all versions)</span></span>|<span data-ttu-id="94196-207">Depende da versão do padrão Unicode compatível com o sistema operacional subjacente.</span><span class="sxs-lookup"><span data-stu-id="94196-207">Depends on the version of the Unicode Standard supported by the underlying operating system.</span></span>|

<span data-ttu-id="94196-208">Começando com o .NET Framework 4.5 e em todas as versões do .NET Core, a comparação e a classificação de cadeia de caracteres dependem do sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="94196-208">Starting with .NET Framework 4.5 and in all versions of .NET Core, string comparison and sorting depends on the operating system.</span></span> <span data-ttu-id="94196-209">O .NET Framework 4.5 e posteriores em execução no Windows 7 recuperam dados de suas próprias tabelas que implementam o Unicode 5.0.</span><span class="sxs-lookup"><span data-stu-id="94196-209">The .NET Framework 4.5 and later running on Windows 7 retrieves data from its own tables that implement Unicode 5.0.</span></span> <span data-ttu-id="94196-210">O .NET Framework 4.5 e posteriores em execução no Windows 8 e nas versões posteriores recuperam dados das tabelas do sistema operacional que implementam o Unicode 6.3.</span><span class="sxs-lookup"><span data-stu-id="94196-210">The .NET Framework 4.5 and later running on Windows 8 and later retrieves data from operating system tables that implement Unicode 6.3.</span></span> <span data-ttu-id="94196-211">No .NET Core, a versão compatível do Unicode depende do sistema operacional subjacente.</span><span class="sxs-lookup"><span data-stu-id="94196-211">On .NET Core, the supported version of Unicode depends on the underlying operating system.</span></span> <span data-ttu-id="94196-212">Ao serializar os dados classificados com detecção de cultura, você pode usar a classe <xref:System.Globalization.SortVersion> para determinar quando os dados serializados precisam ser classificados para que fiquem consistentes com o .NET e a ordem de classificação do sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="94196-212">If you serialize culture-sensitive sorted data, you can use the <xref:System.Globalization.SortVersion> class to determine when your serialized data needs to be sorted so that it is consistent with .NET and the operating system's sort order.</span></span> <span data-ttu-id="94196-213">Para obter um exemplo, consulte o tópico da classe <xref:System.Globalization.SortVersion>.</span><span class="sxs-lookup"><span data-stu-id="94196-213">For an example, see the <xref:System.Globalization.SortVersion> class topic.</span></span>

<span data-ttu-id="94196-214">Se seu aplicativo executa classificações específicas de cultura abrangentes de dados de cadeia de caracteres, você pode trabalhar com a classe <xref:System.Globalization.SortKey> para comparar cadeias de caracteres.</span><span class="sxs-lookup"><span data-stu-id="94196-214">If your app performs extensive culture-specific sorts of string data, you can work with the <xref:System.Globalization.SortKey> class to compare strings.</span></span> <span data-ttu-id="94196-215">Uma chave de classificação reflete os pesos de classificação específicos de uma determinada cultura, incluindo os pesos alfabético, de maiúsculas e minúsculas e de diacríticos de uma determinada cadeia de caracteres.</span><span class="sxs-lookup"><span data-stu-id="94196-215">A sort key reflects the culture-specific sort weights, including the alphabetic, case, and diacritic weights of a particular string.</span></span> <span data-ttu-id="94196-216">Já que as comparações usando chaves de classificação são binárias, elas são mais rápidas que comparações que usam um objeto <xref:System.Globalization.CompareInfo> implícita ou explicitamente.</span><span class="sxs-lookup"><span data-stu-id="94196-216">Because comparisons using sort keys are binary, they are faster than comparisons that use a <xref:System.Globalization.CompareInfo> object either implicitly or explicitly.</span></span> <span data-ttu-id="94196-217">Crie uma chave de classificação específica à cultura para uma determinada cadeia de caracteres passando a cadeia de caracteres para o método <xref:System.Globalization.CompareInfo.GetSortKey%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="94196-217">You create a culture-specific sort key for a particular string by passing the string to the <xref:System.Globalization.CompareInfo.GetSortKey%2A?displayProperty=nameWithType> method.</span></span>

<span data-ttu-id="94196-218">O exemplo a seguir é semelhante ao exemplo anterior.</span><span class="sxs-lookup"><span data-stu-id="94196-218">The following example is similar to the previous example.</span></span> <span data-ttu-id="94196-219">No entanto, em vez de chamar o método <xref:System.Array.Sort%28System.Array%29?displayProperty=nameWithType>, que chama implicitamente o método <xref:System.Globalization.CompareInfo.Compare%2A?displayProperty=nameWithType>, ele define uma implementação <xref:System.Collections.Generic.IComparer%601?displayProperty=nameWithType> que compara as chaves de classificação, que ele instancia e passa para o método <xref:System.Array.Sort%60%601%28%60%600%5B%5D%2CSystem.Collections.Generic.IComparer%7B%60%600%7D%29?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="94196-219">However, instead of calling the <xref:System.Array.Sort%28System.Array%29?displayProperty=nameWithType> method, which implicitly calls the <xref:System.Globalization.CompareInfo.Compare%2A?displayProperty=nameWithType> method, it defines an <xref:System.Collections.Generic.IComparer%601?displayProperty=nameWithType> implementation that compares sort keys, which it instantiates and passes to the <xref:System.Array.Sort%60%601%28%60%600%5B%5D%2CSystem.Collections.Generic.IComparer%7B%60%600%7D%29?displayProperty=nameWithType> method.</span></span>

[!code-csharp[Conceptual.Globalization#15](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/sortkey1.cs#15)]
[!code-vb[Conceptual.Globalization#15](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/sortkey1.vb#15)]

### <a name="avoid-string-concatenation"></a><span data-ttu-id="94196-220">Evitar a concatenação da cadeia de caracteres</span><span class="sxs-lookup"><span data-stu-id="94196-220">Avoid string concatenation</span></span>

<span data-ttu-id="94196-221">Se possível, evite usar cadeias de caracteres compostas compiladas em tempo de execução de frases concatenadas.</span><span class="sxs-lookup"><span data-stu-id="94196-221">If at all possible, avoid using composite strings that are built at run time from concatenated phrases.</span></span> <span data-ttu-id="94196-222">Cadeias de caracteres compostas são difíceis de localizar, porque elas muitas vezes pressupõem uma ordem gramatical no idioma original do aplicativo que não se aplica a outros idiomas localizados.</span><span class="sxs-lookup"><span data-stu-id="94196-222">Composite strings are difficult to localize, because they often assume a grammatical order in the app's original language that does not apply to other localized languages.</span></span>

## <a name="handle-dates-and-times"></a><span data-ttu-id="94196-223">Lidar com datas e horas</span><span class="sxs-lookup"><span data-stu-id="94196-223">Handle dates and times</span></span>

<span data-ttu-id="94196-224">Como você lida com valores de data/hora depende de como estão esses valores: persistentes ou exibidos na interface do usuário.</span><span class="sxs-lookup"><span data-stu-id="94196-224">How you handle date and time values depends on whether they are displayed in the user interface or persisted.</span></span> <span data-ttu-id="94196-225">Esta seção examina os dois usos.</span><span class="sxs-lookup"><span data-stu-id="94196-225">This section examines both usages.</span></span> <span data-ttu-id="94196-226">Ela também aborda como você pode manipular diferenças de fuso horário e operações aritméticas ao trabalhar com datas e horas.</span><span class="sxs-lookup"><span data-stu-id="94196-226">It also discusses how you can handle time zone differences and arithmetic operations when working with dates and times.</span></span>

### <a name="display-dates-and-times"></a><span data-ttu-id="94196-227">Exibir datas e horas</span><span class="sxs-lookup"><span data-stu-id="94196-227">Display dates and times</span></span>

<span data-ttu-id="94196-228">Normalmente, quando as datas e horas são exibidas na interface do usuário, você deve usar as convenções de formatação da cultura do usuário, definidas pela propriedade <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=nameWithType> e pelo objeto <xref:System.Globalization.DateTimeFormatInfo> retornado pela propriedade `CultureInfo.CurrentCulture.DateTimeFormat`.</span><span class="sxs-lookup"><span data-stu-id="94196-228">Typically, when dates and times are displayed in the user interface, you should use the formatting conventions of the user's culture, which is defined by the <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=nameWithType> property and by the <xref:System.Globalization.DateTimeFormatInfo> object returned by the `CultureInfo.CurrentCulture.DateTimeFormat` property.</span></span> <span data-ttu-id="94196-229">As convenções de formatação da cultura atual são usadas automaticamente quando você formata uma data usando qualquer um dos seguintes métodos:</span><span class="sxs-lookup"><span data-stu-id="94196-229">The formatting conventions of the current culture are automatically used when you format a date by using any of these methods:</span></span>

- <span data-ttu-id="94196-230">O método <xref:System.DateTime.ToString?displayProperty=nameWithType> sem parâmetro</span><span class="sxs-lookup"><span data-stu-id="94196-230">The parameterless <xref:System.DateTime.ToString?displayProperty=nameWithType> method</span></span>

- <span data-ttu-id="94196-231">O método <xref:System.DateTime.ToString%28System.String%29?displayProperty=nameWithType>, que inclui uma cadeia de caracteres de formato</span><span class="sxs-lookup"><span data-stu-id="94196-231">The <xref:System.DateTime.ToString%28System.String%29?displayProperty=nameWithType> method, which includes a format string</span></span>

- <span data-ttu-id="94196-232">O método <xref:System.DateTimeOffset.ToString?displayProperty=nameWithType> sem parâmetro</span><span class="sxs-lookup"><span data-stu-id="94196-232">The parameterless <xref:System.DateTimeOffset.ToString?displayProperty=nameWithType> method</span></span>

- <span data-ttu-id="94196-233">O <xref:System.DateTimeOffset.ToString%28System.String%29?displayProperty=nameWithType>, que inclui uma cadeia de caracteres de formato</span><span class="sxs-lookup"><span data-stu-id="94196-233">The <xref:System.DateTimeOffset.ToString%28System.String%29?displayProperty=nameWithType>, which includes a format string</span></span>

- <span data-ttu-id="94196-234">O recurso de [formatação de composição](../../../docs/standard/base-types/composite-formatting.md), quando ele é usado com datas</span><span class="sxs-lookup"><span data-stu-id="94196-234">The [composite formatting](../../../docs/standard/base-types/composite-formatting.md) feature, when it is used with dates</span></span>

<span data-ttu-id="94196-235">O exemplo a seguir exibe dados do pôr-do-sol e nascer do sol duas vezes para 11 de outubro de 2012.</span><span class="sxs-lookup"><span data-stu-id="94196-235">The following example displays sunrise and sunset data twice for October 11, 2012.</span></span> <span data-ttu-id="94196-236">Primeiro, ele define a cultura atual para Croata (Croácia) e, em seguida, para Inglês (Grã-Bretanha).</span><span class="sxs-lookup"><span data-stu-id="94196-236">It first sets the current culture to Croatian (Croatia), and then to English (Great Britain).</span></span> <span data-ttu-id="94196-237">Em cada caso, as datas e horas são exibidas no formato apropriado para aquela cultura.</span><span class="sxs-lookup"><span data-stu-id="94196-237">In each case, the dates and times are displayed in the format that is appropriate for that culture.</span></span>

[!code-csharp[Conceptual.Globalization#2](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/dates1.cs#2)]
[!code-vb[Conceptual.Globalization#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/dates1.vb#2)]

### <a name="persist-dates-and-times"></a><span data-ttu-id="94196-238">Manter datas e horas</span><span class="sxs-lookup"><span data-stu-id="94196-238">Persist dates and times</span></span>

<span data-ttu-id="94196-239">Você nunca deve persistir dados de data e hora em um formato que possa variar de acordo com a cultura.</span><span class="sxs-lookup"><span data-stu-id="94196-239">You should never persist date and time data in a format that can vary by culture.</span></span> <span data-ttu-id="94196-240">Esse é um erro de programação comum, que resulta em dados corrompidos ou em uma exceção de tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="94196-240">This is a common programming error that results in either corrupted data or a run-time exception.</span></span> <span data-ttu-id="94196-241">O exemplo a seguir serializa duas datas, 9 de janeiro de 2013 e 18 de agosto de 2013, como cadeias de caracteres usando as convenções de formatação da cultura Inglês (Estados Unidos).</span><span class="sxs-lookup"><span data-stu-id="94196-241">The following example serializes two dates, January 9, 2013 and August 18, 2013, as strings by using the formatting conventions of the English (United States) culture.</span></span> <span data-ttu-id="94196-242">Quando os dados são recuperados e analisados usando as convenções da cultura Inglês (Estados Unidos), eles são restaurado com êxito.</span><span class="sxs-lookup"><span data-stu-id="94196-242">When the data is retrieved and parsed by using the conventions of the English (United States) culture, it is successfully restored.</span></span> <span data-ttu-id="94196-243">No entanto, quando eles são recuperados e analisados usando as convenções da cultura Inglês (Reino Unido), a primeira data é interpretada incorretamente como 1º de setembro e a segunda falha ao ser analisada porque o calendário gregoriano não tem um décimo oitavo mês.</span><span class="sxs-lookup"><span data-stu-id="94196-243">However, when it is retrieved and parsed by using the conventions of the English (United Kingdom) culture, the first date is wrongly interpreted as September 1, and the second fails to parse because the Gregorian calendar does not have an eighteenth month.</span></span>

[!code-csharp[Conceptual.Globalization#3](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/dates2.cs#3)]
[!code-vb[Conceptual.Globalization#3](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/dates2.vb#3)]

<span data-ttu-id="94196-244">Você pode evitar esse problema de qualquer uma de três maneiras:</span><span class="sxs-lookup"><span data-stu-id="94196-244">You can avoid this problem in any of three ways:</span></span>

- <span data-ttu-id="94196-245">Serialize a data e hora no formato binário em vez de uma cadeia de caracteres.</span><span class="sxs-lookup"><span data-stu-id="94196-245">Serialize the date and time in binary format rather than as a string.</span></span>

- <span data-ttu-id="94196-246">Salve e analise a representação da data e hora usando uma cadeia de caracteres de formato personalizado, que é a mesma independentemente da cultura do usuário.</span><span class="sxs-lookup"><span data-stu-id="94196-246">Save and parse the string representation of the date and time by using a custom format string that is the same regardless of the user's culture.</span></span>

- <span data-ttu-id="94196-247">Salve a cadeia de caracteres usando as convenções de formatação da cultura invariável.</span><span class="sxs-lookup"><span data-stu-id="94196-247">Save the string by using the formatting conventions of the invariant culture.</span></span>

<span data-ttu-id="94196-248">O exemplo a seguir ilustra a última abordagem.</span><span class="sxs-lookup"><span data-stu-id="94196-248">The following example illustrates the last approach.</span></span> <span data-ttu-id="94196-249">Ele usa as convenções de formatação da cultura invariável retornada pela propriedade estática <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="94196-249">It uses the formatting conventions of the invariant culture returned by the static <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType> property.</span></span>

[!code-csharp[Conceptual.Globalization#4](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/dates3.cs#4)]
[!code-vb[Conceptual.Globalization#4](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/dates3.vb#4)]

### <a name="serialization-and-time-zone-awareness"></a><span data-ttu-id="94196-250">Reconhecimento de serialização e de fuso horário</span><span class="sxs-lookup"><span data-stu-id="94196-250">Serialization and time zone awareness</span></span>

<span data-ttu-id="94196-251">Um valor de data/hora pode ter várias interpretações, variando de uma hora geral ("As lojas abrem em 2 de janeiro de 2013, às 9:00") a um momento específico no tempo ("Data de nascimento: 2 de janeiro de 2013 6h32min00s").</span><span class="sxs-lookup"><span data-stu-id="94196-251">A date and time value can have multiple interpretations, ranging from a general time ("The stores open on January 2, 2013, at 9:00 A.M.") to a specific moment in time ("Date of birth: January 2, 2013 6:32:00 A.M.").</span></span> <span data-ttu-id="94196-252">Quando um valor temporal representa um ponto específico no tempo e você o restaura de um valor serializado, você deve certificar-se de que ele representa o mesmo ponto no tempo, independentemente da localização geográfica ou do fuso horário do usuário.</span><span class="sxs-lookup"><span data-stu-id="94196-252">When a time value represents a specific moment in time and you restore it from a serialized value, you should ensure that it represents the same moment in time regardless of the user's geographical location or time zone.</span></span>

<span data-ttu-id="94196-253">O exemplo a seguir ilustra esse problema.</span><span class="sxs-lookup"><span data-stu-id="94196-253">The following example illustrates this problem.</span></span> <span data-ttu-id="94196-254">Ele salva um único valor de data/hora local como uma cadeia de caracteres em três [formatos padrão](../../../docs/standard/base-types/standard-date-and-time-format-strings.md) ("G" para data geral com tempo em formato longo, "s" para data/hora classificável e "o" para data/hora de ida e volta), bem como no formato binário.</span><span class="sxs-lookup"><span data-stu-id="94196-254">It saves a single local date and time value as a string in three [standard formats](../../../docs/standard/base-types/standard-date-and-time-format-strings.md) ("G" for general date long time, "s" for sortable date/time, and "o" for round-trip date/time) as well as in binary format.</span></span>

[!code-csharp[Conceptual.Globalization#10](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/dates4.cs#10)]
[!code-vb[Conceptual.Globalization#10](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/dates4.vb#10)]

<span data-ttu-id="94196-255">Quando os dados são restaurados em um sistema no mesmo fuso horário do sistema no qual eles foram serializados, os valores de data/hora desserializados refletem com precisão o valor original, como se pode ver na saída:</span><span class="sxs-lookup"><span data-stu-id="94196-255">When the data is restored on a system in the same time zone as the system on which it was serialized, the deserialized date and time values accurately reflect the original value, as the output shows:</span></span>

```console
'3/30/2013 6:00:00 PM' --> 3/30/2013 6:00:00 PM Unspecified
'2013-03-30T18:00:00' --> 3/30/2013 6:00:00 PM Unspecified
'2013-03-30T18:00:00.0000000-07:00' --> 3/30/2013 6:00:00 PM Local

3/30/2013 6:00:00 PM Local
```

<span data-ttu-id="94196-256">No entanto, se você restaurar os dados em um sistema em um fuso horário diferente, apenas o valor de data/hora que tiver sido formatado com a cadeia de caracteres de formato padrão "o" (ida e volta) preservará informações de fuso horário e, por isso, representará o mesmo instante no tempo.</span><span class="sxs-lookup"><span data-stu-id="94196-256">However, if you restore the data on a system in a different time zone, only the date and time value that was formatted with the "o" (round-trip) standard format string preserves time zone information and therefore represents the same instant in time.</span></span> <span data-ttu-id="94196-257">Aqui está a saída quando os dados de data e hora são restaurados em um sistema no fuso horário padrão românico:</span><span class="sxs-lookup"><span data-stu-id="94196-257">Here's the output when the date and time data is restored on a system in the Romance Standard Time zone:</span></span>

```console
'3/30/2013 6:00:00 PM' --> 3/30/2013 6:00:00 PM Unspecified
'2013-03-30T18:00:00' --> 3/30/2013 6:00:00 PM Unspecified
'2013-03-30T18:00:00.0000000-07:00' --> 3/31/2013 3:00:00 AM Local

3/30/2013 6:00:00 PM Local
```

<span data-ttu-id="94196-258">Para refletir com precisão um valor de data/hora que representa um único ponto de tempo, independentemente do fuso horário do sistema no qual os dados são desserializados, você pode realizar qualquer uma das seguintes ações:</span><span class="sxs-lookup"><span data-stu-id="94196-258">To accurately reflect a date and time value that represents a single moment of time regardless of the time zone of the system on which the data is deserialized, you can do any of the following:</span></span>

- <span data-ttu-id="94196-259">Salvar o valor como uma cadeia de caracteres usando a cadeia de caracteres de formato padrão "o" (ida e volta).</span><span class="sxs-lookup"><span data-stu-id="94196-259">Save the value as a string by using the "o" (round-trip) standard format string.</span></span> <span data-ttu-id="94196-260">Em seguida, desserializá-lo no sistema de destino.</span><span class="sxs-lookup"><span data-stu-id="94196-260">Then deserialize it on the target system.</span></span>

- <span data-ttu-id="94196-261">Convertê-lo para UTC e salvá-lo como uma cadeia de caracteres usando a cadeia de caracteres de formato padrão "r" (RFC1123).</span><span class="sxs-lookup"><span data-stu-id="94196-261">Convert it to UTC and save it as a string by using the "r" (RFC1123) standard format string.</span></span> <span data-ttu-id="94196-262">Em seguida, desserializá-lo no sistema de destino e convertê-lo para o horário local.</span><span class="sxs-lookup"><span data-stu-id="94196-262">Then deserialize it on the target system and convert it to local time.</span></span>

- <span data-ttu-id="94196-263">Convertê-lo em UTC e salvá-lo como uma cadeia de caracteres usando a cadeia de caracteres de formato padrão "u" (classificável universal).</span><span class="sxs-lookup"><span data-stu-id="94196-263">Convert it to UTC and save it as a string by using the "u" (universal sortable) standard format string.</span></span> <span data-ttu-id="94196-264">Em seguida, desserializá-lo no sistema de destino e convertê-lo para o horário local.</span><span class="sxs-lookup"><span data-stu-id="94196-264">Then deserialize it on the target system and convert it to local time.</span></span>

- <span data-ttu-id="94196-265">Convertê-lo em UTC e salvá-lo no formato binário.</span><span class="sxs-lookup"><span data-stu-id="94196-265">Convert it to UTC and save it in binary format.</span></span> <span data-ttu-id="94196-266">Em seguida, desserializá-lo no sistema de destino e convertê-lo para o horário local.</span><span class="sxs-lookup"><span data-stu-id="94196-266">Then deserialize it on the target system and convert it to local time.</span></span>

<span data-ttu-id="94196-267">O exemplo a seguir ilustra cada uma das técnicas.</span><span class="sxs-lookup"><span data-stu-id="94196-267">The following example illustrates each technique.</span></span>

[!code-csharp[Conceptual.Globalization#11](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/dates8.cs#11)]
[!code-vb[Conceptual.Globalization#11](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/dates8.vb#11)]

<span data-ttu-id="94196-268">Quando os dados são serializados em um sistema no fuso horário padrão do Pacífico e desserializados em um sistema no fuso horário padrão românico, o exemplo exibe a seguinte saída:</span><span class="sxs-lookup"><span data-stu-id="94196-268">When the data is serialized on a system in the Pacific Standard Time zone and deserialized on a system in the Romance Standard Time zone, the example displays the following output:</span></span>

```console
'2013-03-30T18:00:00.0000000-07:00' --> 3/31/2013 3:00:00 AM Local
'Sun, 31 Mar 2013 01:00:00 GMT' --> 3/31/2013 3:00:00 AM Local
'2013-03-31 01:00:00Z' --> 3/31/2013 3:00:00 AM Local

3/31/2013 3:00:00 AM Local
```

<span data-ttu-id="94196-269">Para obter mais informações, consulte [Convertendo horários entre fusos horários](../../../docs/standard/datetime/converting-between-time-zones.md).</span><span class="sxs-lookup"><span data-stu-id="94196-269">For more information, see [Converting Times Between Time Zones](../../../docs/standard/datetime/converting-between-time-zones.md).</span></span>

### <a name="perform-date-and-time-arithmetic"></a><span data-ttu-id="94196-270">Executar aritmética de data e hora</span><span class="sxs-lookup"><span data-stu-id="94196-270">Perform date and time arithmetic</span></span>

<span data-ttu-id="94196-271">Tanto os tipos <xref:System.DateTime> e <xref:System.DateTimeOffset> dão suporte a operações aritméticas.</span><span class="sxs-lookup"><span data-stu-id="94196-271">Both the <xref:System.DateTime> and <xref:System.DateTimeOffset> types support arithmetic operations.</span></span> <span data-ttu-id="94196-272">Você pode calcular a diferença entre dois valores de data ou então você pode adicionar ou subtrair intervalos de tempo específicos para ou de um valor de data.</span><span class="sxs-lookup"><span data-stu-id="94196-272">You can calculate the difference between two date values, or you can add or subtract particular time intervals to or from a date value.</span></span> <span data-ttu-id="94196-273">No entanto, operações aritméticas em valores de data/hora não levam em consideração fusos horários e regras de ajuste de fuso horário.</span><span class="sxs-lookup"><span data-stu-id="94196-273">However, arithmetic operations on date and time values do not take time zones and time zone adjustment rules into account.</span></span> <span data-ttu-id="94196-274">Por isso, data e hora em valores que representam pontos no tempo podem retornar resultados imprecisos.</span><span class="sxs-lookup"><span data-stu-id="94196-274">Because of this, date and time arithmetic on values that represent moments in time can return inaccurate results.</span></span>

<span data-ttu-id="94196-275">Por exemplo, ocorre a transição da hora padrão do Pacífico para o horário de verão do Pacífico no segundo domingo de março, que é de 10 de março do ano de 2013.</span><span class="sxs-lookup"><span data-stu-id="94196-275">For example, the transition from Pacific Standard Time to Pacific Daylight Time occurs on the second Sunday of March, which is March 10 for the year 2013.</span></span> <span data-ttu-id="94196-276">Conforme demonstrado pelo exemplo a seguir, se você calcular a data e hora, o resultado será 48 horas após 9 de março de 2013 às 10:30 da manhã.</span><span class="sxs-lookup"><span data-stu-id="94196-276">As the following example shows, if you calculate the date and time that is 48 hours after March 9, 2013 at 10:30 A.M.</span></span> <span data-ttu-id="94196-277">Em um sistema no fuso horário padrão do Pacífico, o resultado, 11 de março de 2013 às 10:30 da manhã, não leva em consideração o ajuste de horário que ocorre nesse intermédio.</span><span class="sxs-lookup"><span data-stu-id="94196-277">on a system in the Pacific Standard Time zone, the result, March 11, 2013 at 10:30 A.M., does not take the intervening time adjustment into account.</span></span>

[!code-csharp[Conceptual.Globalization#8](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/dates5.cs#8)]
[!code-vb[Conceptual.Globalization#8](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/dates5.vb#8)]

<span data-ttu-id="94196-278">Para garantir que uma operação aritmética em valores de data/hora produza resultados precisos, siga estas etapas:</span><span class="sxs-lookup"><span data-stu-id="94196-278">To ensure that an arithmetic operation on date and time values produces accurate results, follow these steps:</span></span>

1. <span data-ttu-id="94196-279">Converta o horário no fuso horário de origem em UTC.</span><span class="sxs-lookup"><span data-stu-id="94196-279">Convert the time in the source time zone to UTC.</span></span>

2. <span data-ttu-id="94196-280">Execute a operação aritmética.</span><span class="sxs-lookup"><span data-stu-id="94196-280">Perform the arithmetic operation.</span></span>

3. <span data-ttu-id="94196-281">Se o resultado for um valor de data/hora, converta-o de UTC para a hora no fuso horário de origem.</span><span class="sxs-lookup"><span data-stu-id="94196-281">If the result is a date and time value, convert it from UTC to the time in the source time zone.</span></span>

<span data-ttu-id="94196-282">O exemplo a seguir é semelhante ao exemplo anterior, exceto pelo fato de que ele segue essas três etapas para adicionar corretamente 48 horas a 9 de março de 2013, às 10:30 da manhã.</span><span class="sxs-lookup"><span data-stu-id="94196-282">The following example is similar to the previous example, except that it follows these three steps to correctly add 48 hours to March 9, 2013 at 10:30 A.M.</span></span>

[!code-csharp[Conceptual.Globalization#9](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/dates6.cs#9)]
[!code-vb[Conceptual.Globalization#9](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/dates6.vb#9)]

<span data-ttu-id="94196-283">Para obter mais informações, consulte [Executando operações aritméticas com datas e horas](../../../docs/standard/datetime/performing-arithmetic-operations.md).</span><span class="sxs-lookup"><span data-stu-id="94196-283">For more information, see [Performing Arithmetic Operations with Dates and Times](../../../docs/standard/datetime/performing-arithmetic-operations.md).</span></span>

### <a name="use-culture-sensitive-names-for-date-elements"></a><span data-ttu-id="94196-284">Usar nomes com detecção de cultura para elementos de data</span><span class="sxs-lookup"><span data-stu-id="94196-284">Use culture-sensitive names for date elements</span></span>

<span data-ttu-id="94196-285">Seu aplicativo pode precisar exibir o nome do mês ou dia da semana.</span><span class="sxs-lookup"><span data-stu-id="94196-285">Your app may need to display the name of the month or the day of the week.</span></span> <span data-ttu-id="94196-286">Para fazer isso, código como o mostrado a seguir é comum.</span><span class="sxs-lookup"><span data-stu-id="94196-286">To do this, code such as the following is common.</span></span>

[!code-csharp[Conceptual.Globalization#19](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/monthname1.cs#19)]
[!code-vb[Conceptual.Globalization#19](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/monthname1.vb#19)]

<span data-ttu-id="94196-287">No entanto, esse código sempre retorna os nomes dos dias da semana em inglês.</span><span class="sxs-lookup"><span data-stu-id="94196-287">However, this code always returns the names of the days of the week in English.</span></span> <span data-ttu-id="94196-288">O código que extrai o nome do mês é muitas vezes ainda mais inflexível.</span><span class="sxs-lookup"><span data-stu-id="94196-288">Code that extracts the name of the month is often even more inflexible.</span></span> <span data-ttu-id="94196-289">Com frequência, ele assume um calendário de doze meses com nomes dos meses em um idioma específico.</span><span class="sxs-lookup"><span data-stu-id="94196-289">It frequently assumes a twelve-month calendar with names of months in a specific language.</span></span>

<span data-ttu-id="94196-290">Usando [cadeias de caracteres com formato de data e hora personalizado](../../../docs/standard/base-types/custom-date-and-time-format-strings.md) ou as propriedades do objeto <xref:System.Globalization.DateTimeFormatInfo>, é fácil extrair cadeias de caracteres que refletem os nomes dos dias da semana ou meses na cultura do usuário, conforme ilustrado pelo exemplo a seguir.</span><span class="sxs-lookup"><span data-stu-id="94196-290">By using [custom date and time format strings](../../../docs/standard/base-types/custom-date-and-time-format-strings.md) or the properties of the <xref:System.Globalization.DateTimeFormatInfo> object, it is easy to extract strings that reflect the names of days of the week or months in the user's culture, as the following example illustrates.</span></span> <span data-ttu-id="94196-291">Altera a cultura atual para o francês (França) e exibe o nome do dia da semana e o nome do mês para 1º de julho de 2013.</span><span class="sxs-lookup"><span data-stu-id="94196-291">It changes the current culture to French (France) and displays the name of the day of the week and the name of the month for July 1, 2013.</span></span>

[!code-csharp[Conceptual.Globalization#20](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/monthname2.cs#20)]
[!code-vb[Conceptual.Globalization#20](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/monthname2.vb#20)]

## <a name="numeric-values"></a><span data-ttu-id="94196-292">Valores numéricos</span><span class="sxs-lookup"><span data-stu-id="94196-292">Numeric values</span></span>

<span data-ttu-id="94196-293">Como você lida com números depende de como estão esses valores: persistentes ou exibidos na interface do usuário.</span><span class="sxs-lookup"><span data-stu-id="94196-293">The handling of numbers depends on whether they are displayed in the user interface or persisted.</span></span> <span data-ttu-id="94196-294">Esta seção examina os dois usos.</span><span class="sxs-lookup"><span data-stu-id="94196-294">This section examines both usages.</span></span>

> [!NOTE]
> <span data-ttu-id="94196-295">Nas operações de análise e formatação, o .NET reconhece somente os caracteres latinos básicos de 0 a 9 (U + 0030 a U + 0039) como dígitos numéricos.</span><span class="sxs-lookup"><span data-stu-id="94196-295">In parsing and formatting operations, .NET recognizes only the Basic Latin characters 0 through 9 (U+0030 through U+0039) as numeric digits.</span></span>

### <a name="display-numeric-values"></a><span data-ttu-id="94196-296">Exibir valores numéricos</span><span class="sxs-lookup"><span data-stu-id="94196-296">Display numeric values</span></span>

<span data-ttu-id="94196-297">Normalmente, quando os números são exibidos na interface do usuário, você deve usar as convenções de formatação da cultura do usuário, definidas pela propriedade <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=nameWithType> e pelo objeto <xref:System.Globalization.NumberFormatInfo> retornado pela propriedade `CultureInfo.CurrentCulture.NumberFormat`.</span><span class="sxs-lookup"><span data-stu-id="94196-297">Typically, when numbers are displayed in the user interface, you should use the formatting conventions of the user's culture, which is defined by the <xref:System.Globalization.CultureInfo.CurrentCulture%2A?displayProperty=nameWithType> property and by the <xref:System.Globalization.NumberFormatInfo> object returned by the `CultureInfo.CurrentCulture.NumberFormat` property.</span></span> <span data-ttu-id="94196-298">As convenções de formatação da cultura atual são usadas automaticamente quando você formata uma data usando qualquer um dos seguintes métodos:</span><span class="sxs-lookup"><span data-stu-id="94196-298">The formatting conventions of the current culture are automatically used when you format a date by using any of the following methods:</span></span>

- <span data-ttu-id="94196-299">O método sem parâmetro `ToString` de qualquer tipo numérico</span><span class="sxs-lookup"><span data-stu-id="94196-299">The parameterless `ToString` method of any numeric type</span></span>

- <span data-ttu-id="94196-300">O método `ToString(String)` de qualquer tipo numérico, que inclui uma cadeia de caracteres de formato como um argumento</span><span class="sxs-lookup"><span data-stu-id="94196-300">The `ToString(String)` method of any numeric type, which includes a format string as an argument</span></span>

- <span data-ttu-id="94196-301">O recurso de [formatação de composição](../../../docs/standard/base-types/composite-formatting.md), quando ele é usado com valores numéricos</span><span class="sxs-lookup"><span data-stu-id="94196-301">The [composite formatting](../../../docs/standard/base-types/composite-formatting.md) feature, when it is used with numeric values</span></span>

<span data-ttu-id="94196-302">O exemplo a seguir exibe a temperatura média por mês em Paris, na França.</span><span class="sxs-lookup"><span data-stu-id="94196-302">The following example displays the average temperature per month in Paris, France.</span></span> <span data-ttu-id="94196-303">Ele primeiro define a cultura atual para Francês (França) antes de exibir os dados e, em seguida, define-a como Inglês (Estados Unidos).</span><span class="sxs-lookup"><span data-stu-id="94196-303">It first sets the current culture to French (France) before displaying the data, and then sets it to English (United States).</span></span> <span data-ttu-id="94196-304">Em cada caso, as temperaturas e os nomes dos meses são exibidos no formato apropriado para aquela cultura.</span><span class="sxs-lookup"><span data-stu-id="94196-304">In each case, the month names and temperatures are displayed in the format that is appropriate for that culture.</span></span> <span data-ttu-id="94196-305">Observe que as duas culturas usam separadores decimais diferentes no valor da temperatura.</span><span class="sxs-lookup"><span data-stu-id="94196-305">Note that the two cultures use different decimal separators in the temperature value.</span></span> <span data-ttu-id="94196-306">Observe também que o exemplo usa a cadeia de caracteres de formato personalizado de data e hora "MMMM" para exibir o nome completo do mês e que aloca a quantidade apropriada de espaço para o nome do mês na cadeia de caracteres de resultado, determinando o comprimento do nome do mês mais longo na matriz <xref:System.Globalization.DateTimeFormatInfo.MonthNames%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="94196-306">Also note that the example uses the "MMMM" custom date and time format string to display the full month name, and that it allocates the appropriate amount of space for the month name in the result string by determining the length of the longest month name in the <xref:System.Globalization.DateTimeFormatInfo.MonthNames%2A?displayProperty=nameWithType> array.</span></span>

[!code-csharp[Conceptual.Globalization#5](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/numbers1.cs#5)]
[!code-vb[Conceptual.Globalization#5](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/numbers1.vb#5)]

### <a name="persist-numeric-values"></a><span data-ttu-id="94196-307">Manter valores numéricos</span><span class="sxs-lookup"><span data-stu-id="94196-307">Persist numeric values</span></span>

<span data-ttu-id="94196-308">Você nunca deve persistir dados numéricos em um formato específico de cultura.</span><span class="sxs-lookup"><span data-stu-id="94196-308">You should never persist numeric data in a culture-specific format.</span></span> <span data-ttu-id="94196-309">Esse é um erro de programação comum, que resulta em dados corrompidos ou em uma exceção de tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="94196-309">This is a common programming error that results in either corrupted data or a run-time exception.</span></span> <span data-ttu-id="94196-310">O exemplo a seguir gera dez números de ponto flutuante aleatórios e, em seguida, serializa-os como cadeias de caracteres usando as convenções de formatação da cultura Inglês (Estados Unidos).</span><span class="sxs-lookup"><span data-stu-id="94196-310">The following example generates ten random floating-point numbers, and then serializes them as strings by using the formatting conventions of the English (United States) culture.</span></span> <span data-ttu-id="94196-311">Quando os dados são recuperados e analisados usando as convenções da cultura Inglês (Estados Unidos), eles são restaurado com êxito.</span><span class="sxs-lookup"><span data-stu-id="94196-311">When the data is retrieved and parsed by using the conventions of the English (United States) culture, it is successfully restored.</span></span> <span data-ttu-id="94196-312">No entanto, quando eles são recuperados e analisados usando as convenções da cultura Francês (França), nenhum dos números pode ser analisado porque as culturas usam separadores decimais diferentes.</span><span class="sxs-lookup"><span data-stu-id="94196-312">However, when it is retrieved and parsed by using the conventions of the French (France) culture, none of the numbers can be parsed because the cultures use different decimal separators.</span></span>

[!code-csharp[Conceptual.Globalization#6](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/numbers2.cs#6)]
[!code-vb[Conceptual.Globalization#6](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/numbers2.vb#6)]

<span data-ttu-id="94196-313">Para evitar esse problema, você pode usar uma destas técnicas:</span><span class="sxs-lookup"><span data-stu-id="94196-313">To avoid this problem, you can use one of these techniques:</span></span>

- <span data-ttu-id="94196-314">Salve e analise a representação do número usando uma cadeia de caracteres de formato personalizado, que é a mesma independentemente da cultura do usuário.</span><span class="sxs-lookup"><span data-stu-id="94196-314">Save and parse the string representation of the number by using a custom format string that is the same regardless of the user's culture.</span></span>

- <span data-ttu-id="94196-315">Salve o número como uma cadeia de caracteres usando as convenções de formatação da cultura invariável, retornadas pela propriedade <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="94196-315">Save the number as a string by using the formatting conventions of the invariant culture, which is returned by the <xref:System.Globalization.CultureInfo.InvariantCulture%2A?displayProperty=nameWithType> property.</span></span>

- <span data-ttu-id="94196-316">Serialize o número em formato binário em vez do formato de cadeia de caracteres.</span><span class="sxs-lookup"><span data-stu-id="94196-316">Serialize the number in binary instead of string format.</span></span>

<span data-ttu-id="94196-317">O exemplo a seguir ilustra a última abordagem.</span><span class="sxs-lookup"><span data-stu-id="94196-317">The following example illustrates the last approach.</span></span> <span data-ttu-id="94196-318">Ele serializa a matriz de valores <xref:System.Double> e, em seguida, as desserializa e exibe usando as convenções de formatação das culturas Inglês (Estados Unidos) e Francês (França).</span><span class="sxs-lookup"><span data-stu-id="94196-318">It serializes the array of <xref:System.Double> values, and then deserializes and displays them by using the formatting conventions of the English (United States) and French (France) cultures.</span></span>

[!code-csharp[Conceptual.Globalization#7](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/numbers3.cs#7)]
[!code-vb[Conceptual.Globalization#7](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/numbers3.vb#7)]

<span data-ttu-id="94196-319">A serialização de valores de moeda é um caso especial.</span><span class="sxs-lookup"><span data-stu-id="94196-319">Serializing currency values is a special case.</span></span> <span data-ttu-id="94196-320">Já que um valor de moeda depende da unidade monetária na qual ele é expresso, faz pouco sentido para tratá-lo como um valor numérico independente.</span><span class="sxs-lookup"><span data-stu-id="94196-320">Because a currency value depends on the unit of currency in which it is expressed; it makes little sense to treat it as an independent numeric value.</span></span> <span data-ttu-id="94196-321">No entanto, se você salvar um valor de moeda como uma cadeia de caracteres formatada que inclui um símbolo de moeda, ele não poderá ser desserializado em um sistema cuja cultura padrão use um símbolo de moeda diferente, assim como mostra o exemplo a seguir.</span><span class="sxs-lookup"><span data-stu-id="94196-321">However, if you save a currency value as a formatted string that includes a currency symbol, it cannot be deserialized on a system whose default culture uses a different currency symbol, as the following example shows.</span></span>

[!code-csharp[Conceptual.Globalization#16](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/currency1.cs#16)]
[!code-vb[Conceptual.Globalization#16](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/currency1.vb#16)]

<span data-ttu-id="94196-322">Em vez disso, você deve serializar o valor numérico juntamente com algumas informações culturais como o nome da cultura, para que o valor e o símbolo de moeda possam ser desserializados independentemente da cultura atual.</span><span class="sxs-lookup"><span data-stu-id="94196-322">Instead, you should serialize the numeric value along with some cultural information, such as the name of the culture, so that the value and its currency symbol can be deserialized independently of the current culture.</span></span> <span data-ttu-id="94196-323">O exemplo a seguir faz isso definindo uma estrutura `CurrencyValue` com dois membros: o valor de <xref:System.Decimal> e o nome da cultura à qual o valor pertence.</span><span class="sxs-lookup"><span data-stu-id="94196-323">The following example does that by defining a `CurrencyValue` structure with two members: the <xref:System.Decimal> value and the name of the culture to which the value belongs.</span></span>

[!code-csharp[Conceptual.Globalization#17](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.globalization/cs/currency2.cs#17)]
[!code-vb[Conceptual.Globalization#17](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.globalization/vb/currency2.vb#17)]

## <a name="work-with-culture-specific-settings"></a><span data-ttu-id="94196-324">Trabalhar com configurações específicas da cultura</span><span class="sxs-lookup"><span data-stu-id="94196-324">Work with culture-specific settings</span></span>

<span data-ttu-id="94196-325">No .NET, a classe <xref:System.Globalization.CultureInfo> representa uma cultura ou região específica.</span><span class="sxs-lookup"><span data-stu-id="94196-325">In .NET, the <xref:System.Globalization.CultureInfo> class represents a particular culture or region.</span></span> <span data-ttu-id="94196-326">Algumas de suas propriedades retornam objetos que fornecem informações específicas sobre alguns aspectos de uma cultura:</span><span class="sxs-lookup"><span data-stu-id="94196-326">Some of its properties return objects that provide specific information about some aspect of a culture:</span></span>

- <span data-ttu-id="94196-327">A propriedade <xref:System.Globalization.CultureInfo.CompareInfo%2A?displayProperty=nameWithType> retorna um objeto <xref:System.Globalization.CompareInfo> que contém informações sobre como a cultura compara e ordena as cadeias de caracteres.</span><span class="sxs-lookup"><span data-stu-id="94196-327">The <xref:System.Globalization.CultureInfo.CompareInfo%2A?displayProperty=nameWithType> property returns a <xref:System.Globalization.CompareInfo> object that contains information about how the culture compares and orders strings.</span></span>

- <span data-ttu-id="94196-328">A propriedade <xref:System.Globalization.CultureInfo.DateTimeFormat%2A?displayProperty=nameWithType> retorna um objeto <xref:System.Globalization.DateTimeFormatInfo> que fornece informações específicas à cultura usadas na formatação dos dados de data e hora.</span><span class="sxs-lookup"><span data-stu-id="94196-328">The <xref:System.Globalization.CultureInfo.DateTimeFormat%2A?displayProperty=nameWithType> property returns a <xref:System.Globalization.DateTimeFormatInfo> object that provides culture-specific information used in formatting date and time data.</span></span>

- <span data-ttu-id="94196-329">A propriedade <xref:System.Globalization.CultureInfo.NumberFormat%2A?displayProperty=nameWithType> retorna um objeto <xref:System.Globalization.NumberFormatInfo> que fornece informações específicas à cultura usadas na formatação de dados numéricos.</span><span class="sxs-lookup"><span data-stu-id="94196-329">The <xref:System.Globalization.CultureInfo.NumberFormat%2A?displayProperty=nameWithType> property returns a <xref:System.Globalization.NumberFormatInfo> object that provides culture-specific information used in formatting numeric data.</span></span>

- <span data-ttu-id="94196-330">A propriedade <xref:System.Globalization.CultureInfo.TextInfo%2A?displayProperty=nameWithType> retorna um objeto <xref:System.Globalization.TextInfo> que fornece informações sobre o sistema de gravação da cultura.</span><span class="sxs-lookup"><span data-stu-id="94196-330">The <xref:System.Globalization.CultureInfo.TextInfo%2A?displayProperty=nameWithType> property returns a <xref:System.Globalization.TextInfo> object that provides information about the culture's writing system.</span></span>

<span data-ttu-id="94196-331">Em geral, não faça suposições sobre os valores de propriedades <xref:System.Globalization.CultureInfo> específicas e seus objetos relacionados.</span><span class="sxs-lookup"><span data-stu-id="94196-331">In general, do not make any assumptions about the values of specific <xref:System.Globalization.CultureInfo> properties and their related objects.</span></span> <span data-ttu-id="94196-332">Em vez disso, você deve exibir os dados específicos da cultura como sujeitos a alterações, por estes motivos:</span><span class="sxs-lookup"><span data-stu-id="94196-332">Instead, you should view culture-specific data as subject to change, for these reasons:</span></span>

- <span data-ttu-id="94196-333">Valores de propriedade individuais estão sujeitos a alteração e revisão ao longo do tempo; conforme os dados são corrigidos, dados melhores ficam disponíveis, ou então as convenções específicas da cultura são alteradas.</span><span class="sxs-lookup"><span data-stu-id="94196-333">Individual property values are subject to change and revision over time, as data is corrected, better data becomes available, or culture-specific conventions change.</span></span>

- <span data-ttu-id="94196-334">Os valores de propriedade individuais podem variar entre as versões do .NET ou as versões do sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="94196-334">Individual property values may vary across versions of .NET or operating system versions.</span></span>

- <span data-ttu-id="94196-335">O .NET é compatível com culturas de substituição.</span><span class="sxs-lookup"><span data-stu-id="94196-335">.NET supports replacement cultures.</span></span> <span data-ttu-id="94196-336">Isso torna possível definir uma nova cultura personalizada que complementa as culturas padrão existentes ou substitui completamente uma cultura padrão existente.</span><span class="sxs-lookup"><span data-stu-id="94196-336">This makes it possible to define a new custom culture that either supplements existing standard cultures or completely replaces an existing standard culture.</span></span>

- <span data-ttu-id="94196-337">Nos sistemas Windows, o usuário pode personalizar as configurações específicas da cultura usando o aplicativo **Região e Idioma** no Painel de Controle.</span><span class="sxs-lookup"><span data-stu-id="94196-337">On Windows systems, the user can customize culture-specific settings by using the **Region and Language** app in Control Panel.</span></span> <span data-ttu-id="94196-338">Quando você instancia um objeto <xref:System.Globalization.CultureInfo>, é possível determinar se ele reflete as personalizações desse usuário chamando o construtor <xref:System.Globalization.CultureInfo.%23ctor%28System.String%2CSystem.Boolean%29?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="94196-338">When you instantiate a <xref:System.Globalization.CultureInfo> object, you can determine whether it reflects these user customizations by calling the <xref:System.Globalization.CultureInfo.%23ctor%28System.String%2CSystem.Boolean%29?displayProperty=nameWithType> constructor.</span></span> <span data-ttu-id="94196-339">Normalmente, para aplicativos de usuário final, você deve respeitar as preferências do usuário para que sejam apresentados ao usuário dados em um formato que ele espera.</span><span class="sxs-lookup"><span data-stu-id="94196-339">Typically, for end-user apps, you should respect user preferences so that the user is presented with data in a format that he or she expects.</span></span>

## <a name="see-also"></a><span data-ttu-id="94196-340">Consulte também</span><span class="sxs-lookup"><span data-stu-id="94196-340">See also</span></span>

- [<span data-ttu-id="94196-341">Globalização e localização</span><span class="sxs-lookup"><span data-stu-id="94196-341">Globalization and Localization</span></span>](../../../docs/standard/globalization-localization/index.md)
- [<span data-ttu-id="94196-342">Melhores práticas para o uso de cadeias de caracteres</span><span class="sxs-lookup"><span data-stu-id="94196-342">Best Practices for Using Strings</span></span>](../../../docs/standard/base-types/best-practices-strings.md)
