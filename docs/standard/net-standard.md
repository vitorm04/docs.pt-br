---
title: .NET Standard
description: Saiba mais sobre .NET Standard, suas versões e as implementações do .NET que dão suporte a ela.
ms.date: 10/05/2020
ms.technology: dotnet-standard
ms.custom: updateeachrelease
ms.assetid: c044882c-af15-45f2-96d1-534557a5ee9b
ms.openlocfilehash: a4736e46eb7c25b64278bed8f2c2457002936b81
ms.sourcegitcommit: 67ebdb695fd017d79d9f1f7f35d145042d5a37f7
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/20/2020
ms.locfileid: "92224156"
---
# <a name="net-standard"></a><span data-ttu-id="4c49a-103">.NET Standard</span><span class="sxs-lookup"><span data-stu-id="4c49a-103">.NET Standard</span></span>

<span data-ttu-id="4c49a-104">[.Net Standard](https://github.com/dotnet/standard) é uma especificação formal das APIs do .NET que estão disponíveis em várias implementações do .net.</span><span class="sxs-lookup"><span data-stu-id="4c49a-104">[.NET Standard](https://github.com/dotnet/standard) is a formal specification of .NET APIs that are available on multiple .NET implementations.</span></span> <span data-ttu-id="4c49a-105">A motivação por trás da .NET Standard era estabelecer uma maior uniformidade no ecossistema do .NET.</span><span class="sxs-lookup"><span data-stu-id="4c49a-105">The motivation behind .NET Standard was to establish greater uniformity in the .NET ecosystem.</span></span> <span data-ttu-id="4c49a-106">No entanto, o .NET 5 adota uma abordagem diferente para estabelecer a uniformidade, e essa nova abordagem elimina a necessidade de .NET Standard em muitos cenários.</span><span class="sxs-lookup"><span data-stu-id="4c49a-106">However, .NET 5 adopts a different approach to establishing uniformity, and this new approach eliminates the need for .NET Standard in many scenarios.</span></span> <span data-ttu-id="4c49a-107">Para obter mais informações, consulte [.NET 5 e .net Standard](#net-5-and-net-standard) mais adiante neste artigo.</span><span class="sxs-lookup"><span data-stu-id="4c49a-107">For more information, see [.NET 5 and .NET Standard](#net-5-and-net-standard) later in this article.</span></span>

## <a name="net-implementation-support"></a><span data-ttu-id="4c49a-108">Suporte à implementação do .NET</span><span class="sxs-lookup"><span data-stu-id="4c49a-108">.NET implementation support</span></span>

<span data-ttu-id="4c49a-109">As diversas implementações do .NET se destinam a versões específicas do .NET Standard.</span><span class="sxs-lookup"><span data-stu-id="4c49a-109">The various .NET implementations target specific versions of .NET Standard.</span></span> <span data-ttu-id="4c49a-110">Cada versão de implementação do .NET anuncia a versão mais alta do .NET Standard a qual ela dá suporte, uma afirmação que significa que também há suporte para versões anteriores.</span><span class="sxs-lookup"><span data-stu-id="4c49a-110">Each .NET implementation version advertises the highest .NET Standard version it supports, a statement that means it also supports previous versions.</span></span> <span data-ttu-id="4c49a-111">Por exemplo, .NET Framework 4,6 implementa .NET Standard 1,3, o que significa que ele expõe todas as APIs definidas em .NET Standard versões 1,0 a 1,3.</span><span class="sxs-lookup"><span data-stu-id="4c49a-111">For example, .NET Framework 4.6 implements .NET Standard 1.3, which means that it exposes all APIs defined in .NET Standard versions 1.0 through 1.3.</span></span> <span data-ttu-id="4c49a-112">Da mesma forma, .NET Framework 4.6.1 implementa .NET Standard 1,4, enquanto o .NET 5,0 implementa .NET Standard 2,1.</span><span class="sxs-lookup"><span data-stu-id="4c49a-112">Similarly, .NET Framework 4.6.1 implements .NET Standard 1.4, while .NET 5.0 implements .NET Standard 2.1.</span></span>

<span data-ttu-id="4c49a-113">A tabela a seguir lista as versões **mínimas** de implementação que oferecem suporte a cada versão de .net Standard.</span><span class="sxs-lookup"><span data-stu-id="4c49a-113">The following table lists the **minimum** implementation versions that support each .NET Standard version.</span></span> <span data-ttu-id="4c49a-114">Isso significa que as versões posteriores de uma implementação listada também oferecem suporte à versão de .NET Standard correspondente.</span><span class="sxs-lookup"><span data-stu-id="4c49a-114">That means that later versions of a listed implementation also support the corresponding .NET Standard version.</span></span> <span data-ttu-id="4c49a-115">Por exemplo, o .NET Core 2,1 e versões posteriores dão suporte a .NET Standard 2,0 e versões anteriores.</span><span class="sxs-lookup"><span data-stu-id="4c49a-115">For example, .NET Core 2.1 and later versions support .NET Standard 2.0 and earlier versions.</span></span>

[!INCLUDE [net-standard-table](../../includes/net-standard-table.md)]

<span data-ttu-id="4c49a-116">Para localizar a versão mais recente do .NET Standard para a qual você pode direcionar, siga estas etapas:</span><span class="sxs-lookup"><span data-stu-id="4c49a-116">To find the highest version of .NET Standard that you can target, do the following steps:</span></span>

1. <span data-ttu-id="4c49a-117">Localize a linha que indica a implementação do .NET na qual você deseja executar.</span><span class="sxs-lookup"><span data-stu-id="4c49a-117">Find the row that indicates the .NET implementation you want to run on.</span></span>
1. <span data-ttu-id="4c49a-118">Localize a coluna nessa linha que indica sua versão, da direita para a esquerda.</span><span class="sxs-lookup"><span data-stu-id="4c49a-118">Find the column in that row that indicates your version starting from right to left.</span></span>
1. <span data-ttu-id="4c49a-119">O cabeçalho da coluna indica a versão do .NET Standard compatível com o destino.</span><span class="sxs-lookup"><span data-stu-id="4c49a-119">The column header indicates the .NET Standard version that your target supports.</span></span> <span data-ttu-id="4c49a-120">Você também pode ter como destino qualquer versão inferior do .NET Standard.</span><span class="sxs-lookup"><span data-stu-id="4c49a-120">You may also target any lower .NET Standard version.</span></span> <span data-ttu-id="4c49a-121">Versões superiores do .NET Standard também darão suporte à implementação.</span><span class="sxs-lookup"><span data-stu-id="4c49a-121">Higher .NET Standard versions will also support your implementation.</span></span>
1. <span data-ttu-id="4c49a-122">Repita esse processo para cada plataforma de destino.</span><span class="sxs-lookup"><span data-stu-id="4c49a-122">Repeat this process for each platform you want to target.</span></span> <span data-ttu-id="4c49a-123">Se você tiver mais de uma plataforma de destino, escolha a versão menos recente entre elas.</span><span class="sxs-lookup"><span data-stu-id="4c49a-123">If you have more than one target platform, you should pick the smaller version among them.</span></span> <span data-ttu-id="4c49a-124">Por exemplo, se você deseja executar o .NET Framework 4,8 e o .NET 5,0, a versão mais alta .NET Standard que você pode usar é .NET Standard 2,0.</span><span class="sxs-lookup"><span data-stu-id="4c49a-124">For example, if you want to run on .NET Framework 4.8 and .NET 5.0, the highest .NET Standard version you can use is .NET Standard 2.0.</span></span>

### <a name="which-net-standard-version-to-target"></a><span data-ttu-id="4c49a-125">Para qual versão do .NET Standard direcionar</span><span class="sxs-lookup"><span data-stu-id="4c49a-125">Which .NET Standard version to target</span></span>

<span data-ttu-id="4c49a-126">Ao escolher uma versão de .NET Standard para o destino, considere essa compensação:</span><span class="sxs-lookup"><span data-stu-id="4c49a-126">When choosing a .NET Standard version to target, consider this trade-off:</span></span>

- <span data-ttu-id="4c49a-127">Quanto mais alta a versão, mais APIs estarão disponíveis para o código da biblioteca.</span><span class="sxs-lookup"><span data-stu-id="4c49a-127">The higher the version, the more APIs are available to your library's code.</span></span>
- <span data-ttu-id="4c49a-128">Quanto menor a versão, mais aplicativos e bibliotecas podem usar sua biblioteca.</span><span class="sxs-lookup"><span data-stu-id="4c49a-128">The lower the version, the more apps and libraries can use your library.</span></span>

<span data-ttu-id="4c49a-129">Recomendamos que você direcione a versão *mais baixa* do .net Standard possível.</span><span class="sxs-lookup"><span data-stu-id="4c49a-129">We recommend you target the *lowest* version of .NET Standard possible.</span></span> <span data-ttu-id="4c49a-130">Portanto, depois de localizar a versão mais recente do .NET Standard para a qual você pode direcionar, execute estas etapas:</span><span class="sxs-lookup"><span data-stu-id="4c49a-130">So, after you find the highest .NET Standard version you can target, follow these steps:</span></span>

1. <span data-ttu-id="4c49a-131">Direcione para a próxima versão menos recente do .NET Standard e compile seu projeto.</span><span class="sxs-lookup"><span data-stu-id="4c49a-131">Target the next lower version of .NET Standard and build your project.</span></span>
2. <span data-ttu-id="4c49a-132">Se seu projeto for compilado com êxito, repita a etapa 1.</span><span class="sxs-lookup"><span data-stu-id="4c49a-132">If your project builds successfully, repeat step 1.</span></span> <span data-ttu-id="4c49a-133">Caso contrário, redirecione para a próxima versão mais recente, e essa será a versão que você deve usar.</span><span class="sxs-lookup"><span data-stu-id="4c49a-133">Otherwise, retarget to the next higher version and that's the version you should use.</span></span>

<span data-ttu-id="4c49a-134">No entanto, ter como destino versões do .NET Standard inferiores introduz diversas dependências de suporte.</span><span class="sxs-lookup"><span data-stu-id="4c49a-134">However, targeting lower .NET Standard versions introduces a number of support dependencies.</span></span> <span data-ttu-id="4c49a-135">Se o projeto for destinado ao .NET Standard 1.x, recomendamos que você *também* tenha como destino o .NET Standard 2.0.</span><span class="sxs-lookup"><span data-stu-id="4c49a-135">If your project targets .NET Standard 1.x, we recommend that you *also* target .NET Standard 2.0.</span></span> <span data-ttu-id="4c49a-136">Isso simplifica o grafo de dependência para os usuários da sua biblioteca que são executados em implementações compatíveis com .NET Standard 2,0 e reduz o número de pacotes que precisam ser baixados.</span><span class="sxs-lookup"><span data-stu-id="4c49a-136">This simplifies the dependency graph for users of your library that run on .NET Standard 2.0 compatible implementations, and it reduces the number of packages they need to download.</span></span>

### <a name="net-standard-versioning-rules"></a><span data-ttu-id="4c49a-137">Regras de controle de versão do .NET Standard</span><span class="sxs-lookup"><span data-stu-id="4c49a-137">.NET Standard versioning rules</span></span>

<span data-ttu-id="4c49a-138">Há duas regras principais de controle de versão:</span><span class="sxs-lookup"><span data-stu-id="4c49a-138">There are two primary versioning rules:</span></span>

- <span data-ttu-id="4c49a-139">Aditivo: as versões do .NET Standard são círculos logicamente concêntricos: versões mais recentes incorporam todas as APIs das versões anteriores.</span><span class="sxs-lookup"><span data-stu-id="4c49a-139">Additive: .NET Standard versions are logically concentric circles: higher versions incorporate all APIs from previous versions.</span></span> <span data-ttu-id="4c49a-140">Não há alterações significativas entre as versões.</span><span class="sxs-lookup"><span data-stu-id="4c49a-140">There are no breaking changes between versions.</span></span>
- <span data-ttu-id="4c49a-141">Imutável: após o envio, as versões do .NET Standard serão congeladas.</span><span class="sxs-lookup"><span data-stu-id="4c49a-141">Immutable: Once shipped, .NET Standard versions are frozen.</span></span>

<span data-ttu-id="4c49a-142">Não haverá nenhuma nova versão do .NET Standard após 2,1.</span><span class="sxs-lookup"><span data-stu-id="4c49a-142">There will be no new .NET Standard versions after 2.1.</span></span> <span data-ttu-id="4c49a-143">Para obter mais informações, consulte [.NET 5 e .net Standard](#net-5-and-net-standard) mais adiante neste artigo.</span><span class="sxs-lookup"><span data-stu-id="4c49a-143">For more information, see [.NET 5 and .NET Standard](#net-5-and-net-standard) later in this article.</span></span>

## <a name="specification"></a><span data-ttu-id="4c49a-144">Especificação</span><span class="sxs-lookup"><span data-stu-id="4c49a-144">Specification</span></span>

<span data-ttu-id="4c49a-145">A especificação do .NET Standard é um conjunto padronizado de APIs.</span><span class="sxs-lookup"><span data-stu-id="4c49a-145">The .NET Standard specification is a standardized set of APIs.</span></span> <span data-ttu-id="4c49a-146">A especificação é mantida por implementadores do .NET, especificamente Microsoft (inclui o .NET Framework, .NET Core e Mono) e Unity.</span><span class="sxs-lookup"><span data-stu-id="4c49a-146">The specification is maintained by .NET implementors, specifically Microsoft (includes .NET Framework, .NET Core, and Mono) and Unity.</span></span>

### <a name="official-artifacts"></a><span data-ttu-id="4c49a-147">Artefatos oficiais</span><span class="sxs-lookup"><span data-stu-id="4c49a-147">Official artifacts</span></span>

<span data-ttu-id="4c49a-148">A especificação oficial é um conjunto de arquivos *. cs* que definem as APIs que fazem parte do padrão.</span><span class="sxs-lookup"><span data-stu-id="4c49a-148">The official specification is a set of *.cs* files that define the APIs that are part of the standard.</span></span> <span data-ttu-id="4c49a-149">O [diretório ref](https://github.com/dotnet/standard/tree/master/src/netstandard/ref) em [dotnet/standard repository](https://github.com/dotnet/standard) define as APIs do .NET Standard.</span><span class="sxs-lookup"><span data-stu-id="4c49a-149">The [ref directory](https://github.com/dotnet/standard/tree/master/src/netstandard/ref) in the [dotnet/standard repository](https://github.com/dotnet/standard) defines the .NET Standard APIs.</span></span>

<span data-ttu-id="4c49a-150">O metapacote [NETStandard.Library](https://www.nuget.org/packages/NETStandard.Library) ([de origem](https://github.com/dotnet/standard/blob/master/src/netstandard/pkg/NETStandard.Library.dependencies.props)) descreve o conjunto de bibliotecas que define (parcialmente) uma ou mais versões do .NET Standard.</span><span class="sxs-lookup"><span data-stu-id="4c49a-150">The [NETStandard.Library](https://www.nuget.org/packages/NETStandard.Library) metapackage ([source](https://github.com/dotnet/standard/blob/master/src/netstandard/pkg/NETStandard.Library.dependencies.props)) describes the set of libraries that define (in part) one or more .NET Standard versions.</span></span>

<span data-ttu-id="4c49a-151">Um componente específico, como o `System.Runtime`, descreve:</span><span class="sxs-lookup"><span data-stu-id="4c49a-151">A given component, like `System.Runtime`, describes:</span></span>

- <span data-ttu-id="4c49a-152">Parte do .NET Standard (apenas seu escopo).</span><span class="sxs-lookup"><span data-stu-id="4c49a-152">Part of .NET Standard (just its scope).</span></span>
- <span data-ttu-id="4c49a-153">Várias versões do .NET Standard, para esse escopo.</span><span class="sxs-lookup"><span data-stu-id="4c49a-153">Multiple versions of .NET Standard, for that scope.</span></span>

<span data-ttu-id="4c49a-154">Artefatos derivados são fornecidos para habilitar leitura mais conveniente e permitir determinados cenários do desenvolvedor (por exemplo, usando um compilador).</span><span class="sxs-lookup"><span data-stu-id="4c49a-154">Derivative artifacts are provided to enable more convenient reading and to enable certain developer scenarios (for example, using a compiler).</span></span>

- [<span data-ttu-id="4c49a-155">Lista de APIs em markdown</span><span class="sxs-lookup"><span data-stu-id="4c49a-155">API list in markdown</span></span>](https://github.com/dotnet/standard/tree/master/docs/versions)
- <span data-ttu-id="4c49a-156">Assemblies de referência, distribuídos como pacotes NuGet e referenciados pelo metapacote [NETStandard.Library](https://www.nuget.org/packages/NETStandard.Library/).</span><span class="sxs-lookup"><span data-stu-id="4c49a-156">Reference assemblies, distributed as NuGet packages and referenced by the [NETStandard.Library](https://www.nuget.org/packages/NETStandard.Library/) metapackage.</span></span>

### <a name="package-representation"></a><span data-ttu-id="4c49a-157">Representação de pacote</span><span class="sxs-lookup"><span data-stu-id="4c49a-157">Package representation</span></span>

<span data-ttu-id="4c49a-158">O meio de distribuição principal dos assemblies de referência do .NET Standard são os pacotes NuGet.</span><span class="sxs-lookup"><span data-stu-id="4c49a-158">The primary distribution vehicle for the .NET Standard reference assemblies is NuGet packages.</span></span> <span data-ttu-id="4c49a-159">As implementações são entregues de várias formas, apropriadas para cada implementação do .NET.</span><span class="sxs-lookup"><span data-stu-id="4c49a-159">Implementations are delivered in a variety of ways, appropriate for each .NET implementation.</span></span>

<span data-ttu-id="4c49a-160">Pacotes NuGet são direcionados a uma ou mais [estruturas](frameworks.md).</span><span class="sxs-lookup"><span data-stu-id="4c49a-160">NuGet packages target one or more [frameworks](frameworks.md).</span></span> <span data-ttu-id="4c49a-161">.NET Standard pacotes visam a estrutura ".NET Standard".</span><span class="sxs-lookup"><span data-stu-id="4c49a-161">.NET Standard packages target the ".NET Standard" framework.</span></span> <span data-ttu-id="4c49a-162">Você pode direcionar a estrutura de .NET Standard usando o `netstandard` [Compact TFM](frameworks.md) (por exemplo, `netstandard1.4` ).</span><span class="sxs-lookup"><span data-stu-id="4c49a-162">You can target the .NET Standard framework using the `netstandard` [compact TFM](frameworks.md) (for example, `netstandard1.4`).</span></span> <span data-ttu-id="4c49a-163">As bibliotecas que se destinam a serem executadas em várias implementações do .NET devem ter como destino essa estrutura.</span><span class="sxs-lookup"><span data-stu-id="4c49a-163">Libraries that are intended to run on multiple implementations of .NET should target this framework.</span></span> <span data-ttu-id="4c49a-164">Para obter o mais amplo conjunto de APIs, direcione `netstandard2.0`, pois o número de APIs disponíveis mais do que dobrou entre o .NET Standard 1.6 e 2.0.</span><span class="sxs-lookup"><span data-stu-id="4c49a-164">For the broadest set of APIs, target `netstandard2.0` since the number of available APIs more than doubled between .NET Standard 1.6 and 2.0.</span></span>

<span data-ttu-id="4c49a-165">O [`NETStandard.Library`](https://www.nuget.org/packages/NETStandard.Library/) metapacote faz referência ao conjunto completo de pacotes NuGet que definem .net Standard.</span><span class="sxs-lookup"><span data-stu-id="4c49a-165">The [`NETStandard.Library`](https://www.nuget.org/packages/NETStandard.Library/) metapackage references the complete set of NuGet packages that define .NET Standard.</span></span>  <span data-ttu-id="4c49a-166">A maneira mais comum de direcionar para `netstandard` é fazer referência a esse metapacote.</span><span class="sxs-lookup"><span data-stu-id="4c49a-166">The most common way to target `netstandard` is by referencing this metapackage.</span></span> <span data-ttu-id="4c49a-167">Ele descreve e fornece acesso às ~40 bibliotecas .NET e APIs associadas, que definem a .NET Standard.</span><span class="sxs-lookup"><span data-stu-id="4c49a-167">It describes and provides access to the ~40 .NET libraries and associated APIs that define .NET Standard.</span></span> <span data-ttu-id="4c49a-168">Você pode referenciar pacotes adicionais destinados a `netstandard` para obter acesso a APIs adicionais.</span><span class="sxs-lookup"><span data-stu-id="4c49a-168">You can reference additional packages that target `netstandard` to get access to additional APIs.</span></span>

### <a name="versioning"></a><span data-ttu-id="4c49a-169">Controle de versão</span><span class="sxs-lookup"><span data-stu-id="4c49a-169">Versioning</span></span>

<span data-ttu-id="4c49a-170">A especificação não é singular, mas um conjunto de APIs com controle de versão linear.</span><span class="sxs-lookup"><span data-stu-id="4c49a-170">The specification is not singular, but a linearly versioned set of APIs.</span></span> <span data-ttu-id="4c49a-171">A primeira versão do padrão estabelece um conjunto de linhas de base de APIs.</span><span class="sxs-lookup"><span data-stu-id="4c49a-171">The first version of the standard establishes a baseline set of APIs.</span></span> <span data-ttu-id="4c49a-172">As versões subsequentes adicionam APIs e herdam APIs definidas por versões anteriores.</span><span class="sxs-lookup"><span data-stu-id="4c49a-172">Subsequent versions add APIs and inherit APIs defined by previous versions.</span></span> <span data-ttu-id="4c49a-173">Não há nenhum provisionamento estabelecido para remover APIs do padrão.</span><span class="sxs-lookup"><span data-stu-id="4c49a-173">There is no established provision for removing APIs from the Standard.</span></span>

<span data-ttu-id="4c49a-174">.NET Standard não é específico de uma implementação .NET, nem corresponde ao esquema de controle de versão de qualquer uma dessas implementações.</span><span class="sxs-lookup"><span data-stu-id="4c49a-174">.NET Standard is not specific to any one .NET implementation, nor does it match the versioning scheme of any of those implementations.</span></span>

<span data-ttu-id="4c49a-175">Conforme observado anteriormente, não haverá novas versões de .NET Standard após 2,1.</span><span class="sxs-lookup"><span data-stu-id="4c49a-175">As noted earlier, there will be no new .NET Standard versions after 2.1.</span></span>

## <a name="target-net-standard"></a><span data-ttu-id="4c49a-176">.NET Standard de destino</span><span class="sxs-lookup"><span data-stu-id="4c49a-176">Target .NET Standard</span></span>

<span data-ttu-id="4c49a-177">Você pode [criar bibliotecas de .net Standard](../core/tutorials/libraries.md) usando uma combinação da `netstandard` estrutura e do `NETStandard.Library` metapacote.</span><span class="sxs-lookup"><span data-stu-id="4c49a-177">You can [build .NET Standard Libraries](../core/tutorials/libraries.md) using a combination of the `netstandard` framework and the `NETStandard.Library` metapackage.</span></span>

## <a name="net-framework-compatibility-mode"></a><span data-ttu-id="4c49a-178">Modo de compatibilidade do .NET framework</span><span class="sxs-lookup"><span data-stu-id="4c49a-178">.NET Framework compatibility mode</span></span>

<span data-ttu-id="4c49a-179">O modo de compatibilidade do .NET Framework foi introduzido a partir do .NET Standard 2.0.</span><span class="sxs-lookup"><span data-stu-id="4c49a-179">Starting with .NET Standard 2.0, the .NET Framework compatibility mode was introduced.</span></span> <span data-ttu-id="4c49a-180">Esse modo de compatibilidade permite que os projetos do .NET Standard referenciem as bibliotecas do .NET Framework como se elas fossem compiladas para o .NET Standard.</span><span class="sxs-lookup"><span data-stu-id="4c49a-180">This compatibility mode allows .NET Standard projects to reference .NET Framework libraries as if they were compiled for .NET Standard.</span></span> <span data-ttu-id="4c49a-181">Fazer referência a bibliotecas do .NET Framework não funciona para todos os projetos, como as bibliotecas que usam APIs do WPF (Windows Presentation Foundation).</span><span class="sxs-lookup"><span data-stu-id="4c49a-181">Referencing .NET Framework libraries doesn't work for all projects, such as libraries that use Windows Presentation Foundation (WPF) APIs.</span></span>

<span data-ttu-id="4c49a-182">Para obter mais informações, veja [.NET Framework compatibility mode](../core/porting/third-party-deps.md#net-framework-compatibility-mode) (Modo de compatibilidade do .NET Framework).</span><span class="sxs-lookup"><span data-stu-id="4c49a-182">For more information, see [.NET Framework compatibility mode](../core/porting/third-party-deps.md#net-framework-compatibility-mode).</span></span>

## <a name="net-standard-libraries-and-visual-studio"></a><span data-ttu-id="4c49a-183">Bibliotecas do .NET standard e Visual Studio</span><span class="sxs-lookup"><span data-stu-id="4c49a-183">.NET Standard libraries and Visual Studio</span></span>

<span data-ttu-id="4c49a-184">Para criar bibliotecas de .NET Standard no Visual Studio, verifique se você tem o [visual studio 2019](https://visualstudio.microsoft.com/downloads/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=inline+link&utm_content=download+vs2019) ou o visual Studio 2017 versão 15,3 ou posterior instalado no Windows ou [Visual Studio para Mac a versão 7,1](https://visualstudio.microsoft.com/vs/mac/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=inline+link) ou posterior instalada no MacOS.</span><span class="sxs-lookup"><span data-stu-id="4c49a-184">In order to build .NET Standard libraries in Visual Studio, make sure you have [Visual Studio 2019](https://visualstudio.microsoft.com/downloads/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=inline+link&utm_content=download+vs2019) or Visual Studio 2017 version 15.3 or later installed on Windows, or [Visual Studio for Mac version 7.1](https://visualstudio.microsoft.com/vs/mac/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=inline+link) or later installed on macOS.</span></span>

<span data-ttu-id="4c49a-185">Se você precisar apenas consumir as bibliotecas do .NET Standard 2.0 em seus projetos, também será possível fazer isso no Visual Studio 2015.</span><span class="sxs-lookup"><span data-stu-id="4c49a-185">If you only need to consume .NET Standard 2.0 libraries in your projects, you can also do that in Visual Studio 2015.</span></span> <span data-ttu-id="4c49a-186">No entanto, é necessário ter o NuGet cliente 3.6 ou posterior instalado.</span><span class="sxs-lookup"><span data-stu-id="4c49a-186">However, you need NuGet client 3.6 or higher installed.</span></span> <span data-ttu-id="4c49a-187">É possível baixar o cliente do NuGet para Visual Studio 2015 na página [downloads do NuGet](https://www.nuget.org/downloads).</span><span class="sxs-lookup"><span data-stu-id="4c49a-187">You can download the NuGet client for Visual Studio 2015 from the [NuGet downloads](https://www.nuget.org/downloads) page.</span></span>

## <a name="net-5-and-net-standard"></a><span data-ttu-id="4c49a-188">.NET 5 e .NET Standard</span><span class="sxs-lookup"><span data-stu-id="4c49a-188">.NET 5 and .NET Standard</span></span>

<span data-ttu-id="4c49a-189">O .NET 5 é a implementação do .NET que a Microsoft está desenvolvendo ativamente.</span><span class="sxs-lookup"><span data-stu-id="4c49a-189">.NET 5 is the implementation of .NET that Microsoft is actively developing.</span></span> <span data-ttu-id="4c49a-190">É um único produto com um conjunto uniforme de recursos e APIs que podem ser usados para aplicativos de área de trabalho do Windows e aplicativos de console entre plataformas, serviços de nuvem e sites.</span><span class="sxs-lookup"><span data-stu-id="4c49a-190">It's a single product with a uniform set of capabilities and APIs that can be used for Windows desktop apps and cross-platform console apps, cloud services, and websites.</span></span> <span data-ttu-id="4c49a-191">Os [TFMs](frameworks.md) .NET 5,0 refletem essa ampla variedade de cenários:</span><span class="sxs-lookup"><span data-stu-id="4c49a-191">The .NET 5.0 [TFMs](frameworks.md) reflect this broad range of scenarios:</span></span>

* `net5.0`

  <span data-ttu-id="4c49a-192">Esse TFM é para o código que é executado em todos os lugares.</span><span class="sxs-lookup"><span data-stu-id="4c49a-192">This TFM is for code that runs everywhere.</span></span> <span data-ttu-id="4c49a-193">Com algumas exceções, ele inclui apenas tecnologias que funcionam entre plataformas.</span><span class="sxs-lookup"><span data-stu-id="4c49a-193">With a few exceptions, it includes only technologies that work cross-platform.</span></span> <span data-ttu-id="4c49a-194">Para o código do .NET 5, `net5.0` substitui `netcoreapp` e `netstandard` TFMs.</span><span class="sxs-lookup"><span data-stu-id="4c49a-194">For .NET 5 code, `net5.0` replaces both `netcoreapp` and `netstandard` TFMs.</span></span>

* `net5.0-windows`

  <span data-ttu-id="4c49a-195">Este é um exemplo de [TFMs específicas do sistema operacional](frameworks.md#net-5-os-specific-tfms) que adicionam funcionalidade específica do sistema operacional a tudo o que `net5.0` se refere.</span><span class="sxs-lookup"><span data-stu-id="4c49a-195">This is an example of [OS-specific TFMs](frameworks.md#net-5-os-specific-tfms) that add OS-specific functionality to everything that `net5.0` refers to.</span></span>

### <a name="when-to-target-net50-vs-netstandard"></a><span data-ttu-id="4c49a-196">Quando direcionar para NET 5.0 versus netstandard</span><span class="sxs-lookup"><span data-stu-id="4c49a-196">When to target net5.0 vs. netstandard</span></span>

<span data-ttu-id="4c49a-197">Para o código existente que tem `netstandard` como alvo, não há necessidade de alterar o TFM para `net5.0` .</span><span class="sxs-lookup"><span data-stu-id="4c49a-197">For existing code that targets `netstandard`, there's no need to change the TFM to `net5.0`.</span></span> <span data-ttu-id="4c49a-198">O .NET 5,0 implementa .NET Standard 2,1 e anteriores.</span><span class="sxs-lookup"><span data-stu-id="4c49a-198">.NET 5.0 implements .NET Standard 2.1 and earlier.</span></span> <span data-ttu-id="4c49a-199">O único motivo para redirecionar de .NET Standard para o .NET 5,0 seria obter acesso a mais recursos de tempo de execução, recursos de linguagem ou APIs.</span><span class="sxs-lookup"><span data-stu-id="4c49a-199">The only reason to retarget from .NET Standard to .NET 5.0 would be to gain access to more runtime features, language features, or APIs.</span></span> <span data-ttu-id="4c49a-200">Por exemplo, para usar o C# 9, você precisa direcionar ao .NET 5,0.</span><span class="sxs-lookup"><span data-stu-id="4c49a-200">For example, in order to use C# 9, you need to target .NET 5.0.</span></span> <span data-ttu-id="4c49a-201">Você pode multidirecionar o .NET 5,0 e .NET Standard para obter acesso aos recursos mais recentes e ainda ter sua biblioteca disponível para outras implementações do .NET.</span><span class="sxs-lookup"><span data-stu-id="4c49a-201">You can multitarget .NET 5.0 and .NET Standard to get access to newer features and still have your library available to other .NET implementations.</span></span>

<span data-ttu-id="4c49a-202">Aqui estão algumas diretrizes para o novo código para o .NET 5:</span><span class="sxs-lookup"><span data-stu-id="4c49a-202">Here are some guidelines for new code for .NET 5:</span></span>

* <span data-ttu-id="4c49a-203">Componentes do aplicativo</span><span class="sxs-lookup"><span data-stu-id="4c49a-203">App components</span></span>

  <span data-ttu-id="4c49a-204">Se você estiver usando bibliotecas para dividir um aplicativo em vários componentes, recomendamos que você direcione `net5.x` onde `5.x` é a versão mais antiga do .NET 5 que seu aplicativo pode atingir.</span><span class="sxs-lookup"><span data-stu-id="4c49a-204">If you're using libraries to break down an application into several components, we recommend you target `net5.x` where `5.x` is the earliest .NET 5 version that your application can target.</span></span> <span data-ttu-id="4c49a-205">Para simplificar, é melhor manter todos os projetos que compõem seu aplicativo na mesma versão do .NET.</span><span class="sxs-lookup"><span data-stu-id="4c49a-205">For simplicity, it's best to keep all projects that make up your application on the same version of .NET.</span></span> <span data-ttu-id="4c49a-206">Em seguida, você pode assumir os mesmos recursos da BCL em todos os lugares.</span><span class="sxs-lookup"><span data-stu-id="4c49a-206">Then you can assume the same BCL features everywhere.</span></span>

* <span data-ttu-id="4c49a-207">Bibliotecas reutilizáveis</span><span class="sxs-lookup"><span data-stu-id="4c49a-207">Reusable libraries</span></span>

  <span data-ttu-id="4c49a-208">Se você estiver criando bibliotecas reutilizáveis que planeja enviar no NuGet, considere o compensador entre o alcance e o conjunto de recursos disponíveis.</span><span class="sxs-lookup"><span data-stu-id="4c49a-208">If you're building reusable libraries that you plan to ship on NuGet, consider the trade-off between reach and available feature set.</span></span> <span data-ttu-id="4c49a-209">.NET Standard 2,0 é a versão mais recente com suporte do .NET Framework, portanto, ele fornece um bom alcance com um conjunto de recursos muito grande.</span><span class="sxs-lookup"><span data-stu-id="4c49a-209">.NET Standard 2.0 is the latest version that is supported by .NET Framework, so it gives good reach with a fairly large feature set.</span></span> <span data-ttu-id="4c49a-210">Não é recomendável direcionar .NET Standard 1. x, pois você limitaria o conjunto de recursos disponíveis para um aumento mínimo no alcance.</span><span class="sxs-lookup"><span data-stu-id="4c49a-210">We don't recommend targeting .NET Standard 1.x, as you'd limit the available feature set for a minimal increase in reach.</span></span>

  <span data-ttu-id="4c49a-211">Se você não precisar dar suporte a .NET Framework, poderá ir .NET Standard 2,1 ou .NET 5.</span><span class="sxs-lookup"><span data-stu-id="4c49a-211">If you don't need to support .NET Framework, you could go with .NET Standard 2.1 or .NET 5.</span></span> <span data-ttu-id="4c49a-212">Recomendamos que você pule .NET Standard 2,1 e vá direto para o .NET 5.</span><span class="sxs-lookup"><span data-stu-id="4c49a-212">We recommend you skip .NET Standard 2.1 and go straight to .NET 5.</span></span> <span data-ttu-id="4c49a-213">As bibliotecas mais amplamente usadas acabarão com vários destinos para .NET Standard 2,0 e para o .NET 5.</span><span class="sxs-lookup"><span data-stu-id="4c49a-213">Most widely used libraries will end up multi-targeting for both .NET Standard 2.0 and .NET 5.</span></span> <span data-ttu-id="4c49a-214">O suporte ao .NET Standard 2,0 oferece o máximo de alcance, enquanto o suporte ao .NET 5 garante que você possa aproveitar os recursos mais recentes da plataforma para os clientes que já estão no .NET 5.</span><span class="sxs-lookup"><span data-stu-id="4c49a-214">Supporting .NET Standard 2.0 gives you the most reach, while supporting .NET 5 ensures you can leverage the latest platform features for customers that are already on .NET 5.</span></span>

### <a name="net-standard-problems"></a><span data-ttu-id="4c49a-215">Problemas de .NET Standard</span><span class="sxs-lookup"><span data-stu-id="4c49a-215">.NET Standard problems</span></span>

<span data-ttu-id="4c49a-216">Aqui estão alguns problemas com .NET Standard que ajudam a explicar por que o .NET 5 é a melhor maneira de compartilhar código entre plataformas e cargas de trabalho:</span><span class="sxs-lookup"><span data-stu-id="4c49a-216">Here are some problems with .NET Standard that help explain why .NET 5 is the better way to share code across platforms and workloads:</span></span>

- <span data-ttu-id="4c49a-217">Lentidão para adicionar novas APIs</span><span class="sxs-lookup"><span data-stu-id="4c49a-217">Slowness to add new APIs</span></span>

  <span data-ttu-id="4c49a-218">.NET Standard foi criado como um conjunto de API que todas as implementações do .NET teriam de dar suporte, portanto, havia um processo de revisão para que as propostas adicionassem novas APIs.</span><span class="sxs-lookup"><span data-stu-id="4c49a-218">.NET Standard was created as an API set that all .NET implementations would have to support, so there was a review process for proposals to add new APIs.</span></span> <span data-ttu-id="4c49a-219">O objetivo era padronizar apenas as APIs que poderiam ser implementadas em todas as plataformas .NET atuais e futuras.</span><span class="sxs-lookup"><span data-stu-id="4c49a-219">The goal was to standardize only APIs that could be implemented in all current and future .NET platforms.</span></span> <span data-ttu-id="4c49a-220">O resultado foi que, se um recurso perdeu uma versão específica, talvez seja necessário aguardar alguns anos antes que ele tenha sido adicionado a uma versão do padrão.</span><span class="sxs-lookup"><span data-stu-id="4c49a-220">The result was that if a feature missed a particular release, you might have to wait for a couple of years before it got added to a version of the Standard.</span></span> <span data-ttu-id="4c49a-221">Em seguida, você esperaria mais tempo para que a nova versão do .NET Standard seja amplamente suportada.</span><span class="sxs-lookup"><span data-stu-id="4c49a-221">Then you'd wait even longer for the new version of .NET Standard to be widely supported.</span></span>

  <span data-ttu-id="4c49a-222">**Solução no .NET 5:** Quando um recurso é implementado, ele já está disponível para cada aplicativo e biblioteca do .NET 5, pois a base de código é compartilhada.</span><span class="sxs-lookup"><span data-stu-id="4c49a-222">**Solution in .NET 5:** When a feature is implemented, it's already available for every .NET 5 app and library because the code base is shared.</span></span> <span data-ttu-id="4c49a-223">E, como não há nenhuma diferença entre a especificação da API e sua implementação, você pode aproveitar os novos recursos muito mais rapidamente do que com .NET Standard.</span><span class="sxs-lookup"><span data-stu-id="4c49a-223">And since there's no difference between the API specification and its implementation, you're able to take advantage of new features much quicker than with .NET Standard.</span></span>

- <span data-ttu-id="4c49a-224">Controle de versão complexo</span><span class="sxs-lookup"><span data-stu-id="4c49a-224">Complex versioning</span></span>

  <span data-ttu-id="4c49a-225">A separação da especificação de API de suas implementações resulta em um mapeamento complexo entre versões de especificação de API e versões de implementação.</span><span class="sxs-lookup"><span data-stu-id="4c49a-225">The separation of the API specification from its implementations results in complex mapping between API specification versions and implementation versions.</span></span> <span data-ttu-id="4c49a-226">Essa complexidade é evidente na tabela mostrada anteriormente neste artigo e as instruções sobre como interpretá-la.</span><span class="sxs-lookup"><span data-stu-id="4c49a-226">This complexity is evident in the table shown earlier in this article and the instructions for how to interpret it.</span></span>

  <span data-ttu-id="4c49a-227">**Solução no .NET 5:** Não há nenhuma separação entre uma especificação de API do .NET 5. x e sua implementação.</span><span class="sxs-lookup"><span data-stu-id="4c49a-227">**Solution in .NET 5:** There's no separation between a .NET 5.x API specification and its implementation.</span></span> <span data-ttu-id="4c49a-228">O resultado é um esquema TFM simplificado.</span><span class="sxs-lookup"><span data-stu-id="4c49a-228">The result is a simplified TFM scheme.</span></span> <span data-ttu-id="4c49a-229">Há um prefixo TFM para todas as cargas de trabalho: `net5.0` é usado para bibliotecas, aplicativos de console e aplicativos Web.</span><span class="sxs-lookup"><span data-stu-id="4c49a-229">There's one TFM prefix for all workloads: `net5.0` is used for libraries, console apps, and web apps.</span></span> <span data-ttu-id="4c49a-230">A única variação é um [sufixo que especifica APIs específicas da plataforma](frameworks.md#net-5-os-specific-tfms) para uma plataforma específica, como `net5.0-windows` .</span><span class="sxs-lookup"><span data-stu-id="4c49a-230">The only variation is a [suffix that specifies platform-specific APIs](frameworks.md#net-5-os-specific-tfms) for a particular platform, such as `net5.0-windows`.</span></span> <span data-ttu-id="4c49a-231">Graças a essa Convenção de nomenclatura TFM, você pode facilmente dizer se um determinado aplicativo pode usar uma determinada biblioteca.</span><span class="sxs-lookup"><span data-stu-id="4c49a-231">Thanks to this TFM naming convention, you can easily tell whether a given app can use a given library.</span></span> <span data-ttu-id="4c49a-232">Nenhuma tabela equivalente de número de versão como a de .NET Standard é necessária.</span><span class="sxs-lookup"><span data-stu-id="4c49a-232">No version number equivalents table like the one for .NET Standard is needed.</span></span>

- <span data-ttu-id="4c49a-233">Plataforma-exceções sem suporte em tempo de execução</span><span class="sxs-lookup"><span data-stu-id="4c49a-233">Platform-unsupported exceptions at run time</span></span>

  <span data-ttu-id="4c49a-234">O .NET Standard expõe APIs específicas da plataforma.</span><span class="sxs-lookup"><span data-stu-id="4c49a-234">.NET Standard exposes platform-specific APIs.</span></span> <span data-ttu-id="4c49a-235">Seu código pode ser compilado sem erros e parece ser portável a qualquer plataforma, mesmo que não seja portátil.</span><span class="sxs-lookup"><span data-stu-id="4c49a-235">Your code might compile without errors and appear to be portable to any platform even if it isn't portable.</span></span> <span data-ttu-id="4c49a-236">Quando ele é executado em uma plataforma que não tem uma implementação para uma determinada API, você obtém erros de tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="4c49a-236">When it runs on a platform that doesn't have an implementation for a given API, you get run-time errors.</span></span>

  <span data-ttu-id="4c49a-237">**Solução no .NET 5:** O SDK do .NET 5 inclui analisadores de código que são habilitados por padrão.</span><span class="sxs-lookup"><span data-stu-id="4c49a-237">**Solution in .NET 5:** The .NET 5 SDK includes code analyzers that are enabled by default.</span></span> <span data-ttu-id="4c49a-238">O analisador de compatibilidade de plataforma detecta o uso não intencional de APIs que não têm suporte nas plataformas nas quais você pretende executar.</span><span class="sxs-lookup"><span data-stu-id="4c49a-238">The platform compatibility analyzer detects unintentional use of APIs that aren't supported on the platforms you intend to run on.</span></span> <span data-ttu-id="4c49a-239">Para obter mais informações, consulte [analisador de compatibilidade de plataforma](analyzers/platform-compat-analyzer.md).</span><span class="sxs-lookup"><span data-stu-id="4c49a-239">For more information, see [Platform compatibility analyzer](analyzers/platform-compat-analyzer.md).</span></span>

### <a name="net-standard-not-deprecated"></a><span data-ttu-id="4c49a-240">.NET Standard não preterido</span><span class="sxs-lookup"><span data-stu-id="4c49a-240">.NET Standard not deprecated</span></span>

<span data-ttu-id="4c49a-241">.NET Standard ainda é necessário para as bibliotecas que podem ser usadas por várias implementações do .NET.</span><span class="sxs-lookup"><span data-stu-id="4c49a-241">.NET Standard is still needed for libraries that can be used by multiple .NET implementations.</span></span> <span data-ttu-id="4c49a-242">É recomendável que você direcione .NET Standard nos seguintes cenários:</span><span class="sxs-lookup"><span data-stu-id="4c49a-242">We recommend you target .NET Standard in the following scenarios:</span></span>

* <span data-ttu-id="4c49a-243">Use `netstandard2.0` para compartilhar código entre .NET Framework e todas as outras implementações do .net.</span><span class="sxs-lookup"><span data-stu-id="4c49a-243">Use `netstandard2.0` to share code between .NET Framework and all other implementations of .NET.</span></span>
* <span data-ttu-id="4c49a-244">Use `netstandard2.1` para compartilhar código entre o mono, o Xamarin e o .NET Core 3. x.</span><span class="sxs-lookup"><span data-stu-id="4c49a-244">Use `netstandard2.1` to share code between Mono, Xamarin, and .NET Core 3.x.</span></span>

## <a name="see-also"></a><span data-ttu-id="4c49a-245">Consulte também</span><span class="sxs-lookup"><span data-stu-id="4c49a-245">See also</span></span>

- [<span data-ttu-id="4c49a-246">.NET Standard versões (origem)</span><span class="sxs-lookup"><span data-stu-id="4c49a-246">.NET Standard versions (source)</span></span>](https://github.com/dotnet/standard/blob/master/docs/versions.md)
- [<span data-ttu-id="4c49a-247">Versões do .NET Standard (interface do usuário interativa)</span><span class="sxs-lookup"><span data-stu-id="4c49a-247">.NET Standard versions (interactive UI)</span></span>](https://dotnet.microsoft.com/platform/dotnet-standard#versions)
- [<span data-ttu-id="4c49a-248">Criar uma biblioteca de .NET Standard</span><span class="sxs-lookup"><span data-stu-id="4c49a-248">Build a .NET Standard library</span></span>](../core/tutorials/library-with-visual-studio.md)
- [<span data-ttu-id="4c49a-249">Direcionamento multiplataforma</span><span class="sxs-lookup"><span data-stu-id="4c49a-249">Cross-platform targeting</span></span>](./library-guidance/cross-platform-targeting.md)
