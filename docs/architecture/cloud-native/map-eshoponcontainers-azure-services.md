---
title: Como mapear o eShopOnContainers para os Serviços do Azure
description: Mapeamento de eShopOnContainers para serviços do Azure, como o serviço kubernetes do Azure, o gateway de API e o barramento de serviço do Azure.
ms.date: 06/30/2019
ms.openlocfilehash: 67430da18c0a12c694426214de33e85c2113e454
ms.sourcegitcommit: 992f80328b51b165051c42ff5330788627abe973
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/11/2019
ms.locfileid: "72275811"
---
# <a name="mapping-eshoponcontainers-to-azure-services"></a><span data-ttu-id="8f80f-103">Como mapear o eShopOnContainers para os Serviços do Azure</span><span class="sxs-lookup"><span data-stu-id="8f80f-103">Mapping eShopOnContainers to Azure Services</span></span>

[!INCLUDE [book-preview](../../../includes/book-preview.md)]

<span data-ttu-id="8f80f-104">Embora não seja necessário, o Azure é bem adequado para dar suporte ao eShopOnContainers porque o projeto foi criado para ser um aplicativo nativo de nuvem.</span><span class="sxs-lookup"><span data-stu-id="8f80f-104">Although not required, Azure is well-suited to supporting the eShopOnContainers because the project was built to be a cloud-native application.</span></span> <span data-ttu-id="8f80f-105">O aplicativo é criado com o .NET Core, para que possa ser executado em contêineres do Linux ou do Windows, dependendo do host do Docker.</span><span class="sxs-lookup"><span data-stu-id="8f80f-105">The application is built with .NET Core, so it can run on Linux or Windows containers depending on the Docker host.</span></span> <span data-ttu-id="8f80f-106">O aplicativo é composto por vários microserviços autônomos, cada um com seus próprios dados.</span><span class="sxs-lookup"><span data-stu-id="8f80f-106">The application is made up of multiple autonomous microservices, each with its own data.</span></span> <span data-ttu-id="8f80f-107">Os diferentes microserviços demonstram abordagens diferentes, desde operações CRUD simples a padrões DDD e CQRS mais complexos.</span><span class="sxs-lookup"><span data-stu-id="8f80f-107">The different microservices showcase different approaches, ranging from simple CRUD operations to more complex DDD and CQRS patterns.</span></span> <span data-ttu-id="8f80f-108">Os microserviços se comunicam com clientes via HTTP e uns com os outros por meio de comunicação baseada em mensagem.</span><span class="sxs-lookup"><span data-stu-id="8f80f-108">Microservices communicate with clients over HTTP and with one another via message-based communication.</span></span> <span data-ttu-id="8f80f-109">O aplicativo também dá suporte a várias plataformas para clientes, já que ele adota o HTTP como um protocolo de comunicação padrão e inclui aplicativos móveis ASP.NET Core e Xamarin que são executados em plataformas Android, iOS e Windows.</span><span class="sxs-lookup"><span data-stu-id="8f80f-109">The application supports multiple platforms for clients as well, since it adopts HTTP as a standard communication protocol and includes ASP.NET Core and Xamarin mobile apps that run on Android, iOS, and Windows platforms.</span></span>

<span data-ttu-id="8f80f-110">A arquitetura do aplicativo é mostrada na Figura 2-5.</span><span class="sxs-lookup"><span data-stu-id="8f80f-110">The application's architecture is shown in Figure 2-5.</span></span> <span data-ttu-id="8f80f-111">À esquerda estão os aplicativos cliente, divididos em tipos móveis, da Web tradicional e de SPA (aplicativo de página única) da Web.</span><span class="sxs-lookup"><span data-stu-id="8f80f-111">On the left are the client apps, broken up into mobile, traditional Web, and Web Single Page Application (SPA) flavors.</span></span> <span data-ttu-id="8f80f-112">À direita estão os componentes do lado do servidor que compõem o sistema, cada um deles pode ser hospedado em contêineres e clusters kubernetes do Docker.</span><span class="sxs-lookup"><span data-stu-id="8f80f-112">On the right are the server-side components that make up the system, each of which can be hosted in Docker containers and Kubernetes clusters.</span></span> <span data-ttu-id="8f80f-113">O aplicativo Web tradicional é fornecido pela plataforma de ASP.NET Core aplicativos MVC mostrados em amarelo.</span><span class="sxs-lookup"><span data-stu-id="8f80f-113">The traditional web app is powered by the ASP.NET Core MVC application shown in yellow.</span></span> <span data-ttu-id="8f80f-114">Esse aplicativo e os aplicativos de SPA móveis e da Web se comunicam com os microserviços individuais por meio de um ou mais gateways de API.</span><span class="sxs-lookup"><span data-stu-id="8f80f-114">This app and the mobile and web SPA applications communicate with the individual microservices through one or more API gateways.</span></span> <span data-ttu-id="8f80f-115">Os gateways de API seguem o padrão de "back-ends para front-ends" (BFF), o que significa que cada gateway é projetado para dar suporte a um determinado cliente front-end.</span><span class="sxs-lookup"><span data-stu-id="8f80f-115">The API gateways follow the "backends for front ends" (BFF) pattern, meaning that each gateway is designed to support a given front-end client.</span></span> <span data-ttu-id="8f80f-116">Os microserviços individuais são listados à direita dos gateways de API e incluem a lógica de negócios e algum tipo de armazenamento de persistência.</span><span class="sxs-lookup"><span data-stu-id="8f80f-116">The individual microservices are listed to the right of the API gateways and include both business logic and some kind of persistence store.</span></span> <span data-ttu-id="8f80f-117">Os diferentes serviços fazem uso de bancos de dados SQL Server, instâncias de cache Redis e armazenamentos MongoDB/CosmosDB.</span><span class="sxs-lookup"><span data-stu-id="8f80f-117">The different services make use of SQL Server databases, Redis cache instances, and MongoDB/CosmosDB stores.</span></span> <span data-ttu-id="8f80f-118">Na extrema direita, está o barramento de evento do sistema, que é usado para a comunicação entre os microserviços.</span><span class="sxs-lookup"><span data-stu-id="8f80f-118">On the far right is the system's Event Bus, which is used for communication between the microservices.</span></span>

<span data-ttu-id="8f80f-119">![arquitetura eShopOnContainers](./media/eshoponcontainers-architecture.png)
**figura 2-5**.</span><span class="sxs-lookup"><span data-stu-id="8f80f-119">![eShopOnContainers Architecture](./media/eshoponcontainers-architecture.png)
**Figure 2-5**.</span></span> <span data-ttu-id="8f80f-120">A arquitetura eShopOnContainers.</span><span class="sxs-lookup"><span data-stu-id="8f80f-120">The eShopOnContainers Architecture.</span></span>

<span data-ttu-id="8f80f-121">Todos os componentes do lado do servidor dessa arquitetura são mapeados facilmente para os serviços do Azure.</span><span class="sxs-lookup"><span data-stu-id="8f80f-121">The server-side components of this architecture all map easily to Azure services.</span></span>

## <a name="container-orchestration-and-clustering"></a><span data-ttu-id="8f80f-122">Orquestração de contêineres e clustering</span><span class="sxs-lookup"><span data-stu-id="8f80f-122">Container orchestration and clustering</span></span>

<span data-ttu-id="8f80f-123">Os serviços hospedados por contêiner do aplicativo, de ASP.NET Core aplicativos MVC para os microserviços de catálogo individual e ordenação, podem ser hospedados e gerenciados no AKS (serviço kubernetes do Azure).</span><span class="sxs-lookup"><span data-stu-id="8f80f-123">The application's container-hosted services, from ASP.NET Core MVC apps to individual Catalog and Ordering microservices, can be hosted and managed in Azure Kubernetes Service (AKS).</span></span> <span data-ttu-id="8f80f-124">O aplicativo pode ser executado localmente no Docker e no kubernetes, e os mesmos contêineres podem ser implantados em ambientes de produção e de preparo hospedados em AKS.</span><span class="sxs-lookup"><span data-stu-id="8f80f-124">The application can run locally on Docker and Kubernetes, and the same containers can then be deployed to staging and production environments hosted in AKS.</span></span> <span data-ttu-id="8f80f-125">Esse processo pode ser automatizado, como veremos na próxima seção.</span><span class="sxs-lookup"><span data-stu-id="8f80f-125">This process can be automated as we'll see in the next section.</span></span>

<span data-ttu-id="8f80f-126">O AKS fornece serviços de gerenciamento para clusters individuais de contêineres.</span><span class="sxs-lookup"><span data-stu-id="8f80f-126">AKS provides management services for individual clusters of containers.</span></span> <span data-ttu-id="8f80f-127">O aplicativo implantará clusters AKS separados para cada microserviço mostrado no diagrama de arquitetura acima.</span><span class="sxs-lookup"><span data-stu-id="8f80f-127">The application will deploy separate AKS clusters for each microservice shown in the architecture diagram above.</span></span> <span data-ttu-id="8f80f-128">Essa abordagem permite que cada serviço individual seja dimensionado de forma independente de acordo com suas demandas de recursos.</span><span class="sxs-lookup"><span data-stu-id="8f80f-128">This approach allows each individual service to scale independently according to its resource demands.</span></span> <span data-ttu-id="8f80f-129">Cada microserviço também pode ser implantado de forma independente e, teoricamente, essas implantações devem incorrer em tempo de inatividade do sistema</span><span class="sxs-lookup"><span data-stu-id="8f80f-129">Each microservice can also be deployed independently, and ideally such deployments should incur zero system downtime.</span></span>

## <a name="api-gateway"></a><span data-ttu-id="8f80f-130">Gateway de API</span><span class="sxs-lookup"><span data-stu-id="8f80f-130">API Gateway</span></span>

<span data-ttu-id="8f80f-131">O aplicativo eShopOnContainers tem vários clientes front-end e vários serviços de back-end diferentes.</span><span class="sxs-lookup"><span data-stu-id="8f80f-131">The eShopOnContainers application has multiple front-end clients and multiple different back-end services.</span></span> <span data-ttu-id="8f80f-132">Não há nenhuma correspondência de um para um entre os aplicativos cliente e os microserviços que dão suporte a eles.</span><span class="sxs-lookup"><span data-stu-id="8f80f-132">There's no one-to-one correspondence between the client applications and the microservices that support them.</span></span> <span data-ttu-id="8f80f-133">Nesse cenário, pode haver grande complexidade ao escrever software cliente para interface com os vários serviços de back-end de maneira segura.</span><span class="sxs-lookup"><span data-stu-id="8f80f-133">In such a scenario, there may be a great deal of complexity when writing client software to interface with the various back-end services in a secure manner.</span></span> <span data-ttu-id="8f80f-134">Cada cliente precisaria abordar essa complexidade por conta própria, resultando em duplicação e em vários lugares nos quais fazer atualizações à medida que os serviços mudam ou novas políticas são implementadas.</span><span class="sxs-lookup"><span data-stu-id="8f80f-134">Each client would need to address this complexity on its own, resulting in duplication and many places in which to make updates as services change or new policies are implemented.</span></span>

<span data-ttu-id="8f80f-135">O APIM (gerenciamento de API do Azure) ajuda as organizações a publicar APIs de maneira consistente e gerenciável.</span><span class="sxs-lookup"><span data-stu-id="8f80f-135">Azure API Management (APIM) helps organizations publish APIs in a consistent, manageable fashion.</span></span> <span data-ttu-id="8f80f-136">O APIM consiste em três componentes: o gateway de API e o portal de administração (o portal do Azure) e um portal do desenvolvedor.</span><span class="sxs-lookup"><span data-stu-id="8f80f-136">APIM consists of three components: the API Gateway, and administration portal (the Azure portal), and a developer portal.</span></span>

<span data-ttu-id="8f80f-137">O gateway de API aceita chamadas à API e as roteia para a API de back-end apropriada.</span><span class="sxs-lookup"><span data-stu-id="8f80f-137">The API Gateway accepts API calls and routes them to the appropriate back-end API.</span></span> <span data-ttu-id="8f80f-138">Ele também pode fornecer serviços adicionais, como verificação de chaves de API ou tokens JWT e transformação de API em tempo real sem modificações de código (por exemplo, para acomodar clientes que esperam uma interface mais antiga).</span><span class="sxs-lookup"><span data-stu-id="8f80f-138">It can also provide additional services like verification of API keys or JWT tokens and API transformation on the fly without code modifications (for instance, to accommodate clients expecting an older interface).</span></span>

<span data-ttu-id="8f80f-139">O portal do Azure é onde você define o esquema de API e empacota diferentes APIs em produtos.</span><span class="sxs-lookup"><span data-stu-id="8f80f-139">The Azure portal is where you define the API schema and package different APIs into products.</span></span> <span data-ttu-id="8f80f-140">Você também configura o acesso do usuário, exibe relatórios e configura políticas para cotas ou transformações.</span><span class="sxs-lookup"><span data-stu-id="8f80f-140">You also configure user access, view reports, and configure policies for quotas or transformations.</span></span>

<span data-ttu-id="8f80f-141">O portal do desenvolvedor serve como o principal recurso para os desenvolvedores.</span><span class="sxs-lookup"><span data-stu-id="8f80f-141">The developer portal serves as the main resource for developers.</span></span> <span data-ttu-id="8f80f-142">Ele fornece aos desenvolvedores documentação de API, um console de teste interativo e relatórios sobre seu próprio uso.</span><span class="sxs-lookup"><span data-stu-id="8f80f-142">It provides developers with API documentation, an interactive test console, and reports on their own usage.</span></span> <span data-ttu-id="8f80f-143">Os desenvolvedores também usam o portal para criar e gerenciar suas próprias contas, incluindo suporte a assinatura e chave de API.</span><span class="sxs-lookup"><span data-stu-id="8f80f-143">Developers also use the portal to create and manage their own accounts, including subscription and API key support.</span></span>

<span data-ttu-id="8f80f-144">Usando o APIM, os aplicativos podem expor vários grupos diferentes de serviços, cada um fornecendo um back-end para um cliente de front-end específico.</span><span class="sxs-lookup"><span data-stu-id="8f80f-144">Using APIM, applications can expose several different groups of services, each providing a back end for a particular front-end client.</span></span> <span data-ttu-id="8f80f-145">APIM é recomendado para cenários complexos.</span><span class="sxs-lookup"><span data-stu-id="8f80f-145">APIM is recommended for complex scenarios.</span></span> <span data-ttu-id="8f80f-146">Para necessidades mais simples, o Ocelot de gateway de API leve pode ser usado.</span><span class="sxs-lookup"><span data-stu-id="8f80f-146">For simpler needs, the lightweight API Gateway Ocelot can be used.</span></span> <span data-ttu-id="8f80f-147">O aplicativo eShopOnContainers usa Ocelot devido à sua simplicidade e porque pode ser implantado no mesmo ambiente de aplicativo que o próprio aplicativo.</span><span class="sxs-lookup"><span data-stu-id="8f80f-147">The eShopOnContainers app uses Ocelot because of its simplicity and because it can be deployed into the same application environment as the application itself.</span></span> [<span data-ttu-id="8f80f-148">Saiba mais sobre eShopOnContainers, APIM e Ocelot.</span><span class="sxs-lookup"><span data-stu-id="8f80f-148">Learn more about eShopOnContainers, APIM, and Ocelot.</span></span>](https://docs.microsoft.com/dotnet/architecture/microservices/architect-microservice-container-applications/direct-client-to-microservice-communication-versus-the-api-gateway-pattern#azure-api-management)

<span data-ttu-id="8f80f-149">Outra opção se seu aplicativo estiver usando o AKS é implantar o controlador de entrada do gateway do Azure como um pod no cluster do AKS.</span><span class="sxs-lookup"><span data-stu-id="8f80f-149">Another option if your application is using AKS is to deploy the Azure Gateway Ingress Controller as a pod within your AKS cluster.</span></span> <span data-ttu-id="8f80f-150">Isso permite que o cluster se integre a um gateway de Aplicativo Azure, permitindo que o gateway Equilibre a carga do tráfego para o pods AKS.</span><span class="sxs-lookup"><span data-stu-id="8f80f-150">This allows your cluster to integrate with an Azure Application Gateway, allowing the gateway to load-balance traffic to the AKS pods.</span></span> <span data-ttu-id="8f80f-151">[Saiba mais sobre o controlador de entrada do gateway do Azure para AKs](https://github.com/Azure/application-gateway-kubernetes-ingress).</span><span class="sxs-lookup"><span data-stu-id="8f80f-151">[Learn more about the Azure Gateway Ingress Controller for AKS](https://github.com/Azure/application-gateway-kubernetes-ingress).</span></span>

## <a name="data"></a><span data-ttu-id="8f80f-152">Dados</span><span class="sxs-lookup"><span data-stu-id="8f80f-152">Data</span></span>

<span data-ttu-id="8f80f-153">Os vários serviços de back-end usados pelo eShopOnContainers têm requisitos de armazenamento diferentes.</span><span class="sxs-lookup"><span data-stu-id="8f80f-153">The various back-end services used by eShopOnContainers have different storage requirements.</span></span> <span data-ttu-id="8f80f-154">Vários microserviços usam bancos de dados SQL Server.</span><span class="sxs-lookup"><span data-stu-id="8f80f-154">Several microservices use SQL Server databases.</span></span> <span data-ttu-id="8f80f-155">O microserviço da cesta utiliza um cache Redis para sua persistência.</span><span class="sxs-lookup"><span data-stu-id="8f80f-155">The Basket microservice leverages a Redis cache for its persistence.</span></span> <span data-ttu-id="8f80f-156">O microserviço de locais espera uma API do MongoDB para seus dados.</span><span class="sxs-lookup"><span data-stu-id="8f80f-156">The Locations microservice expects a MongoDB API for its data.</span></span> <span data-ttu-id="8f80f-157">O Azure dá suporte a cada um desses formatos de dados.</span><span class="sxs-lookup"><span data-stu-id="8f80f-157">Azure supports each of these data formats.</span></span>

<span data-ttu-id="8f80f-158">Para SQL Server suporte a banco de dados, o Azure tem produtos para tudo, desde bancos de dados individuais até pools elásticos de banco de dados SQL altamente escalonáveis.</span><span class="sxs-lookup"><span data-stu-id="8f80f-158">For SQL Server database support, Azure has products for everything from single databases up to highly scalable SQL Database elastic pools.</span></span> <span data-ttu-id="8f80f-159">Os microserviços individuais podem ser configurados para se comunicar com seus próprios bancos de dados individuais SQL Server de forma rápida e fácil.</span><span class="sxs-lookup"><span data-stu-id="8f80f-159">Individual microservices can be configured to communicate with their own individual SQL Server databases quickly and easily.</span></span> <span data-ttu-id="8f80f-160">Esses bancos de dados podem ser dimensionados conforme necessário para dar suporte a cada microserviço separado de acordo com suas necessidades.</span><span class="sxs-lookup"><span data-stu-id="8f80f-160">These databases can be scaled as needed to support each separate microservice according to its needs.</span></span>

<span data-ttu-id="8f80f-161">O aplicativo eShopOnContainers armazena a cesta de compras atual do usuário entre as solicitações.</span><span class="sxs-lookup"><span data-stu-id="8f80f-161">The eShopOnContainers application stores the user's current shopping basket between requests.</span></span> <span data-ttu-id="8f80f-162">Isso é gerenciado pelo microserviço Basket que armazena os dados em um cache Redis.</span><span class="sxs-lookup"><span data-stu-id="8f80f-162">This is managed by the Basket microservice that stores the data in a Redis cache.</span></span> <span data-ttu-id="8f80f-163">No desenvolvimento, esse cache pode ser implantado em um contêiner, enquanto em produção pode utilizar o cache do Azure para Redis.</span><span class="sxs-lookup"><span data-stu-id="8f80f-163">In development, this cache can be deployed in a container, while in production it can utilize Azure Cache for Redis.</span></span> <span data-ttu-id="8f80f-164">O cache do Azure para Redis é um serviço totalmente gerenciado que oferece alto desempenho e confiabilidade sem a necessidade de implantar e gerenciar instâncias ou contêineres do Redis por conta própria.</span><span class="sxs-lookup"><span data-stu-id="8f80f-164">Azure Cache for Redis is a fully managed service offering high performance and reliability without the need to deploy and manage Redis instances or containers on your own.</span></span>

<span data-ttu-id="8f80f-165">O microserviço de locais usa um banco de dados NoSQL do MongoDB para sua persistência.</span><span class="sxs-lookup"><span data-stu-id="8f80f-165">The Locations microservice uses a MongoDB NoSQL database for its persistence.</span></span> <span data-ttu-id="8f80f-166">Durante o desenvolvimento, o banco de dados pode ser implantado em seu próprio contêiner, enquanto em produção o serviço pode aproveitar a [API do Azure Cosmos DB para MongoDB](https://docs.microsoft.com/azure/cosmos-db/mongodb-introduction).</span><span class="sxs-lookup"><span data-stu-id="8f80f-166">During development, the database can be deployed in its own container, while in production the service can leverage [Azure Cosmos DB's API for MongoDB](https://docs.microsoft.com/azure/cosmos-db/mongodb-introduction).</span></span> <span data-ttu-id="8f80f-167">Um dos benefícios da Azure Cosmos DB é sua capacidade de aproveitar vários protocolos de comunicação diferentes, incluindo uma API do SQL e APIs NoSQL comuns, incluindo MongoDB, Cassandra, Gremlin e armazenamento de tabelas do Azure.</span><span class="sxs-lookup"><span data-stu-id="8f80f-167">One of the benefits of Azure Cosmos DB is its ability to leverage multiple different communication protocols, including a SQL API and common NoSQL APIs including MongoDB, Cassandra, Gremlin, and Azure Table Storage.</span></span> <span data-ttu-id="8f80f-168">O Azure Cosmos DB oferece um banco de dados totalmente gerenciado e globalmente distribuído como um serviço que pode ser dimensionado para atender às necessidades dos serviços que o utilizam.</span><span class="sxs-lookup"><span data-stu-id="8f80f-168">Azure Cosmos DB offers a fully managed and globally distributed database as a service that can scale to meet the needs of the services that use it.</span></span>

<span data-ttu-id="8f80f-169">Os dados distribuídos em aplicativos nativos de nuvem são abordados em mais detalhes no [capítulo 5](distributed-data.md).</span><span class="sxs-lookup"><span data-stu-id="8f80f-169">Distributed data in cloud-native applications is covered in more detail in [chapter 5](distributed-data.md).</span></span>

## <a name="event-bus"></a><span data-ttu-id="8f80f-170">Barramento de evento</span><span class="sxs-lookup"><span data-stu-id="8f80f-170">Event Bus</span></span>

<span data-ttu-id="8f80f-171">O aplicativo usa eventos para comunicar alterações entre diferentes serviços.</span><span class="sxs-lookup"><span data-stu-id="8f80f-171">The application uses events to communicate changes between different services.</span></span> <span data-ttu-id="8f80f-172">Essa funcionalidade pode ser implementada com uma variedade de implementações e localmente o aplicativo eShopOnContainers usa [RabbitMQ](https://www.rabbitmq.com/).</span><span class="sxs-lookup"><span data-stu-id="8f80f-172">This functionality can be implemented with a variety of implementations, and locally the eShopOnContainers application uses [RabbitMQ](https://www.rabbitmq.com/).</span></span> <span data-ttu-id="8f80f-173">Quando hospedado no Azure, o aplicativo aproveitará o [barramento de serviço do Azure](https://docs.microsoft.com/azure/service-bus/) para suas mensagens.</span><span class="sxs-lookup"><span data-stu-id="8f80f-173">When hosted in Azure, the application would leverage [Azure Service Bus](https://docs.microsoft.com/azure/service-bus/) for its messaging.</span></span> <span data-ttu-id="8f80f-174">O barramento de serviço do Azure é um agente de mensagem de integração totalmente gerenciado que permite que aplicativos e serviços se comuniquem uns com os outros de uma maneira desacoplada, confiável e assíncrona.</span><span class="sxs-lookup"><span data-stu-id="8f80f-174">Azure Service Bus is a fully managed integration message broker that allows applications and services to communicate with one another in a decoupled, reliable, asynchronous manner.</span></span> <span data-ttu-id="8f80f-175">O barramento de serviço do Azure dá suporte a filas individuais, bem como a *Tópicos* separados para dar suporte a cenários de assinante do Publicador.</span><span class="sxs-lookup"><span data-stu-id="8f80f-175">Azure Service Bus supports individual queues as well as separate *topics* to support publisher-subscriber scenarios.</span></span> <span data-ttu-id="8f80f-176">O aplicativo eShopOnContainers aproveitará os tópicos com o barramento de serviço do Azure para dar suporte à distribuição de mensagens de um microserviço para qualquer outro microserviço que precisava reagir a uma determinada mensagem.</span><span class="sxs-lookup"><span data-stu-id="8f80f-176">The eShopOnContainers application would leverage topics with Azure Service Bus to support distributing messages from one microservice to any other microservice that needed to react to a given message.</span></span>

## <a name="resiliency"></a><span data-ttu-id="8f80f-177">Resiliência</span><span class="sxs-lookup"><span data-stu-id="8f80f-177">Resiliency</span></span>

<span data-ttu-id="8f80f-178">Depois de implantado em produção, o aplicativo eShopOnContainers seria capaz de aproveitar vários serviços do Azure disponíveis para melhorar sua resiliência.</span><span class="sxs-lookup"><span data-stu-id="8f80f-178">Once deployed to production, the eShopOnContainers application would be able to take advantage of several Azure services available to improve its resiliency.</span></span> <span data-ttu-id="8f80f-179">O aplicativo publica verificações de integridade, que podem ser integradas com Application Insights para fornecer relatórios e alertas com base na disponibilidade do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="8f80f-179">The application publishes health checks, which can be integrated with Application Insights to provide reporting and alerts based on the app's availability.</span></span> <span data-ttu-id="8f80f-180">Os recursos do Azure também fornecem logs de diagnóstico que podem ser usados para identificar e corrigir erros e problemas de desempenho.</span><span class="sxs-lookup"><span data-stu-id="8f80f-180">Azure resources also provide diagnostic logs that can be used to identify and correct bugs and performance issues.</span></span> <span data-ttu-id="8f80f-181">Os logs de recursos fornecem informações detalhadas sobre quando e como os diferentes recursos do Azure são usados pelo aplicativo.</span><span class="sxs-lookup"><span data-stu-id="8f80f-181">Resource logs provide detailed information on when and how different Azure resources are used by the application.</span></span> <span data-ttu-id="8f80f-182">Você aprenderá mais sobre os recursos de resiliência nativa de nuvem no [capítulo 6](resiliency.md).</span><span class="sxs-lookup"><span data-stu-id="8f80f-182">You'll learn more about cloud-native resiliency features in [chapter 6](resiliency.md).</span></span>

## <a name="references"></a><span data-ttu-id="8f80f-183">Referências</span><span class="sxs-lookup"><span data-stu-id="8f80f-183">References</span></span>

- [<span data-ttu-id="8f80f-184">A arquitetura eShopOnContainers</span><span class="sxs-lookup"><span data-stu-id="8f80f-184">The eShopOnContainers Architecture</span></span>](https://github.com/dotnet-architecture/eShopOnContainers/wiki/Architecture)
- [<span data-ttu-id="8f80f-185">Orquestrando microsserviços e aplicativos de vários contêineres para alta escalabilidade e disponibilidade</span><span class="sxs-lookup"><span data-stu-id="8f80f-185">Orchestrating microservices and multi-container applications for high scalability and availability</span></span>](https://docs.microsoft.com/dotnet/architecture/microservices/architect-microservice-container-applications/scalable-available-multi-container-microservice-applications)
- [<span data-ttu-id="8f80f-186">Gerenciamento de API do Azure</span><span class="sxs-lookup"><span data-stu-id="8f80f-186">Azure API Management</span></span>](https://docs.microsoft.com/azure/api-management/api-management-key-concepts)
- [<span data-ttu-id="8f80f-187">Visão geral do banco de dados SQL do Azure</span><span class="sxs-lookup"><span data-stu-id="8f80f-187">Azure SQL Database Overview</span></span>](https://docs.microsoft.com/azure/sql-database/sql-database-technical-overview)
- [<span data-ttu-id="8f80f-188">Cache do Azure para Redis</span><span class="sxs-lookup"><span data-stu-id="8f80f-188">Azure Cache for Redis</span></span>](https://azure.microsoft.com/services/cache/)
- [<span data-ttu-id="8f80f-189">API do Azure Cosmos DB para MongoDB</span><span class="sxs-lookup"><span data-stu-id="8f80f-189">Azure Cosmos DB's API for MongoDB</span></span>](https://docs.microsoft.com/azure/cosmos-db/mongodb-introduction)
- [<span data-ttu-id="8f80f-190">Barramento de Serviço do Azure</span><span class="sxs-lookup"><span data-stu-id="8f80f-190">Azure Service Bus</span></span>](https://docs.microsoft.com/azure/service-bus-messaging/service-bus-messaging-overview)
- [<span data-ttu-id="8f80f-191">Visão geral de Azure Monitor</span><span class="sxs-lookup"><span data-stu-id="8f80f-191">Azure Monitor overview</span></span>](https://docs.microsoft.com/azure/azure-monitor/overview)

>[!div class="step-by-step"]
><span data-ttu-id="8f80f-192">[Anterior](introduce-eshoponcontainers-reference-app.md)
>[Próximo](deploy-eshoponcontainers-azure.md)</span><span class="sxs-lookup"><span data-stu-id="8f80f-192">[Previous](introduce-eshoponcontainers-reference-app.md)
[Next](deploy-eshoponcontainers-azure.md)</span></span>
